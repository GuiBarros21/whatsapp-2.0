(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{2224:function(e,t,n){"use strict";var r=n(6099),i=n(909),o=n(655),a=n(4589),s=n(4594);function u(e){return e&&"object"===typeof e&&"default"in e?e:{default:e}}var c,l=u(r),f=((c={})["already-activated"]="You are trying to activate AppCheck for FirebaseApp {$appName}, while it is already activated. AppCheck can only be activated once.",c["use-before-activation"]="AppCheck is being used before activate() is called for FirebaseApp {$appName}. Please make sure you call activate() before instantiating other Firebase services.",c["fetch-network-error"]="Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",c["fetch-parse-error"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",c["fetch-status-error"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",c["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",c["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",c["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",c["recaptcha-error"]="ReCAPTCHA error.",c),h=new a.ErrorFactory("appCheck","AppCheck",f),d=new Map,p={activated:!1,tokenObservers:[]},v={enabled:!1};function g(e){return d.get(e)||p}function m(e,t){d.set(e,t)}function y(){return v}var _="https://content-firebaseappcheck.googleapis.com/v1beta",b=3e4,w=96e4,k=function(){function e(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}return e.prototype.start=function(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch((function(){}))},e.prototype.stop=function(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)},e.prototype.isRunning=function(){return!!this.pending},e.prototype.process=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:this.stop(),n.label=1;case 1:return n.trys.push([1,6,,7]),this.pending=new a.Deferred,[4,(r=this.getNextRun(e),new Promise((function(e){setTimeout(e,r)})))];case 2:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 3:return n.sent(),this.pending=new a.Deferred,[4,this.operation()];case 4:return n.sent(),this.pending.resolve(),[4,this.pending.promise];case 5:return n.sent(),this.process(!0).catch((function(){})),[3,7];case 6:return t=n.sent(),this.retryPolicy(t)?this.process(!1).catch((function(){})):this.stop(),[3,7];case 7:return[2]}var r}))}))},e.prototype.getNextRun=function(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();var t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t},e}();function I(){return self.grecaptcha}function S(e){if(!g(e).activated)throw h.create("use-before-activation",{appName:e.name})}function T(e){return a.base64.encodeString(JSON.stringify(e),!1)}function E(e,t){var n=e.url,r=e.body;return o.__awaiter(this,void 0,void 0,(function(){var e,i,a,s,u,c,l,f,d,p;return o.__generator(this,(function(o){switch(o.label){case 0:e={"Content-Type":"application/json"},(i=t.getImmediate({optional:!0}))&&(e["X-Firebase-Client"]=i.getPlatformInfoString()),a={method:"POST",body:JSON.stringify(r),headers:e},o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(n,a)];case 2:return s=o.sent(),[3,4];case 3:throw u=o.sent(),h.create("fetch-network-error",{originalErrorMessage:u.message});case 4:if(200!==s.status)throw h.create("fetch-status-error",{httpStatus:s.status});o.label=5;case 5:return o.trys.push([5,7,,8]),[4,s.json()];case 6:return c=o.sent(),[3,8];case 7:throw l=o.sent(),h.create("fetch-parse-error",{originalErrorMessage:l.message});case 8:if(!(f=c.ttl.match(/^([\d.]+)(s)$/))||!f[2]||isNaN(Number(f[1])))throw h.create("fetch-parse-error",{originalErrorMessage:"ttl field (timeToLive) is not in standard Protobuf Duration format: "+c.ttl});return d=1e3*Number(f[1]),p=Date.now(),[2,{token:c.attestationToken,expireTimeMillis:p+d,issuedAtTimeMillis:p}]}}))}))}function C(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:_+"/projects/"+r+"/apps/"+i+":exchangeRecaptchaToken?key="+o,body:{recaptcha_token:t}}}function x(e,t){var n=e.options,r=n.projectId,i=n.appId,o=n.apiKey;return{url:_+"/projects/"+r+"/apps/"+i+":exchangeDebugToken?key="+o,body:{debug_token:t}}}var A="firebase-app-check-store",P="debug-token",O=null;function N(){return O||(O=new Promise((function(e,t){try{var n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=function(t){e(t.target.result)},n.onerror=function(e){var n;t(h.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=function(e){var t=e.target.result;if(0===e.oldVersion)t.createObjectStore(A,{keyPath:"compositeKey"})}}catch(r){t(h.create("storage-open",{originalErrorMessage:r.message}))}})),O)}function R(e){return M(L(e))}function D(e,t){return o.__awaiter(this,void 0,void 0,(function(){var n,r,i,a;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,N()];case 1:return n=o.sent(),r=n.transaction(A,"readwrite"),i=r.objectStore(A),a=i.put({compositeKey:e,value:t}),[2,new Promise((function(e,t){a.onsuccess=function(t){e()},r.onerror=function(e){var n;t(h.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function M(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n,r,i;return o.__generator(this,(function(o){switch(o.label){case 0:return[4,N()];case 1:return t=o.sent(),n=t.transaction(A,"readonly"),r=n.objectStore(A),i=r.get(e),[2,new Promise((function(e,t){i.onsuccess=function(t){var n=t.target.result;e(n?n.value:void 0)},n.onerror=function(e){var n;t(h.create("storage-get",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}}))]}}))}))}function L(e){return e.options.appId+"-"+e.name}var j=new s.Logger("@firebase/app-check");function F(e,t){return a.isIndexedDBAvailable()?function(e,t){return D(L(e),t)}(e,t).catch((function(e){j.warn("Failed to write token to indexeddb. Error: "+e)})):Promise.resolve()}function U(){return o.__awaiter(this,void 0,void 0,(function(){var e,t;return o.__generator(this,(function(n){switch(n.label){case 0:e=void 0,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,M(P)];case 2:return e=n.sent(),[3,4];case 3:return n.sent(),[3,4];case 4:return e?[2,e]:(t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),(r=t,D(P,r)).catch((function(e){return j.warn("Failed to persist debug token to indexeddb. Error: "+e)})),console.log("AppCheck debug token: "+t+". You will need to whitelist it in the Firebase console for it to work"),[2,t])}var r}))}))}function q(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){if((e=y()).enabled&&e.token)return[2,e.token.promise];throw Error("\n            Can't get debug token in production mode.\n        ")}))}))}var B={error:"UNKNOWN_ERROR"};function V(e,t,n){return void 0===n&&(n=!1),o.__awaiter(this,void 0,void 0,(function(){var r,i,a,s,u,c,l,f,h,d;return o.__generator(this,(function(p){switch(p.label){case 0:return S(e),r=g(e),i=r.token,a=void 0,i?[3,2]:[4,r.cachedTokenPromise];case 1:(s=p.sent())&&G(s)&&(i=s,m(e,o.__assign(o.__assign({},r),{token:i})),K(e,{token:i.token})),p.label=2;case 2:return!n&&i&&G(i)?[2,{token:i.token}]:y().enabled?(c=E,l=x,f=[e],[4,q()]):[3,6];case 3:return[4,c.apply(void 0,[l.apply(void 0,f.concat([p.sent()])),t])];case 4:return u=p.sent(),[4,F(e,u)];case 5:return p.sent(),m(e,o.__assign(o.__assign({},r),{token:u})),[2,{token:u.token}];case 6:return p.trys.push([6,8,,9]),[4,r.provider.getToken()];case 7:return i=p.sent(),[3,9];case 8:return h=p.sent(),j.error(h),a=h,[3,9];case 9:return i?[3,10]:(d=function(e){return{token:T(B),error:e}}(a),[3,12]);case 10:return d={token:i.token},m(e,o.__assign(o.__assign({},r),{token:i})),[4,F(e,i)];case 11:p.sent(),p.label=12;case 12:return K(e,d),[2,d]}}))}))}function z(e,t,n,r,i){var a=g(e),s={next:r,error:i,type:n},u=o.__assign(o.__assign({},a),{tokenObservers:o.__spreadArray(o.__spreadArray([],a.tokenObservers),[s])});if(!u.tokenRefresher){var c=function(e,t){var n=this;return new k((function(){return o.__awaiter(n,void 0,void 0,(function(){var n;return o.__generator(this,(function(r){switch(r.label){case 0:return g(e).token?[3,2]:[4,V(e,t)];case 1:return n=r.sent(),[3,4];case 2:return[4,V(e,t,!0)];case 3:n=r.sent(),r.label=4;case 4:if(n.error)throw n.error;return[2]}}))}))}),(function(){return!0}),(function(){var t=g(e);if(t.token){var n=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5,r=t.token.expireTimeMillis-3e5;return n=Math.min(n,r),Math.max(0,n-Date.now())}return 0}),b,w)}(e,t);u.tokenRefresher=c}if(!u.tokenRefresher.isRunning()&&a.isTokenAutoRefreshEnabled&&u.tokenRefresher.start(),a.token&&G(a.token)){var l=a.token;Promise.resolve().then((function(){return r({token:l.token})})).catch((function(){}))}else null==a.token&&a.cachedTokenPromise.then((function(e){e&&G(e)&&r({token:e.token})})).catch((function(){}));m(e,u)}function W(e,t){var n=g(e),r=n.tokenObservers.filter((function(e){return e.next!==t}));0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),m(e,o.__assign(o.__assign({},n),{tokenObservers:r}))}function K(e,t){for(var n=0,r=g(e).tokenObservers;n<r.length;n++){var i=r[n];try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(o){}}}function G(e){return e.expireTimeMillis-Date.now()>0}var H="https://www.google.com/recaptcha/api.js";function Y(e,t){var n=g(e),r=new a.Deferred;m(e,o.__assign(o.__assign({},n),{reCAPTCHAState:{initialized:r}}));var i="fire_app_check_"+e.name,s=document.createElement("div");s.id=i,s.style.display="none",document.body.appendChild(s);var u=I();return u?u.ready((function(){X(e,t,u,i),r.resolve(u)})):function(e){var t=document.createElement("script");t.src=""+H,t.onload=e,document.head.appendChild(t)}((function(){var n=I();if(!n)throw new Error("no recaptcha");n.ready((function(){X(e,t,n,i),r.resolve(n)}))})),r.promise}function $(e){return o.__awaiter(this,void 0,void 0,(function(){var t;return o.__generator(this,(function(n){switch(n.label){case 0:return S(e),[4,g(e).reCAPTCHAState.initialized.promise];case 1:return t=n.sent(),[2,new Promise((function(n,r){var i=g(e).reCAPTCHAState;t.ready((function(){n(t.execute(i.widgetId,{action:"fire_app_check"}))}))}))]}}))}))}function X(e,t,n,r){var i=n.render(r,{sitekey:t,size:"invisible"}),a=g(e);m(e,o.__assign(o.__assign({},a),{reCAPTCHAState:o.__assign(o.__assign({},a.reCAPTCHAState),{widgetId:i})}))}var Q=function(){function e(e){this._siteKey=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e;return o.__generator(this,(function(t){switch(t.label){case 0:if(!this._app||!this._platformLoggerProvider)throw h.create("use-before-activation",{appName:""});t.label=1;case 1:return t.trys.push([1,3,,4]),[4,$(this._app)];case 2:return e=t.sent(),[3,4];case 3:throw t.sent(),h.create("recaptcha-error");case 4:return[2,E(C(this._app,e),this._platformLoggerProvider)]}}))}))},e.prototype.initialize=function(e,t){this._app=e,this._platformLoggerProvider=t,Y(e,this._siteKey).catch((function(){}))},e}(),Z=function(){function e(e){this._customProviderOptions=e}return e.prototype.getToken=function(){return o.__awaiter(this,void 0,void 0,(function(){var e,t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!this._app)throw h.create("use-before-activation",{appName:""});return[4,this._customProviderOptions.getToken()];case 1:return e=r.sent(),t=a.issuedAtTime(e.token),n=null!==t&&t<Date.now()&&t>0?1e3*t:Date.now(),[2,o.__assign(o.__assign({},e),{issuedAtTimeMillis:n})]}}))}))},e.prototype.initialize=function(e){this._app=e},e}();function J(e,t,n,r){var i=g(e);if(i.activated)throw h.create("already-activated",{appName:e.name});var s=o.__assign(o.__assign({},i),{activated:!0});s.cachedTokenPromise=function(e){return o.__awaiter(this,void 0,void 0,(function(){var t,n;return o.__generator(this,(function(r){switch(r.label){case 0:if(!a.isIndexedDBAvailable())return[3,5];t=void 0,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,R(e)];case 2:return t=r.sent(),[3,4];case 3:return n=r.sent(),j.warn("Failed to read token from indexeddb. Error: "+n),[3,4];case 4:return[2,t];case 5:return[2,void 0]}}))}))}(e).then((function(t){return t&&G(t)&&m(e,o.__assign(o.__assign({},g(e)),{token:t})),t})),s.provider="string"===typeof t?new Q(t):t instanceof Q||t instanceof Z?t:new Z({getToken:t.getToken}),s.isTokenAutoRefreshEnabled=void 0===r?e.automaticDataCollectionEnabled:r,m(e,s),s.provider.initialize(e,n)}function ee(e,t){return{app:e,activate:function(n,r){return J(e,n,t,r)},setTokenAutoRefreshEnabled:function(t){return function(e,t){var n=g(e);n.tokenRefresher&&(!0===t?n.tokenRefresher.start():n.tokenRefresher.stop()),m(e,o.__assign(o.__assign({},n),{isTokenAutoRefreshEnabled:t}))}(e,t)},getToken:function(n){return function(e,t,n){return o.__awaiter(this,void 0,void 0,(function(){var r;return o.__generator(this,(function(i){switch(i.label){case 0:return[4,V(e,t,n)];case 1:if((r=i.sent()).error)throw r.error;return[2,{token:r.token}]}}))}))}(e,t,n)},onTokenChanged:function(n,r,i){return function(e,t,n,r,i){var o=function(){},a=function(){};return o=null!=n.next?n.next.bind(n):n,null!=n.error?a=n.error.bind(n):r&&(a=r),z(e,t,"EXTERNAL",o,a),function(){return W(e,o)}}(e,t,n,r)},INTERNAL:{delete:function(){for(var t=0,n=g(e).tokenObservers;t<n.length;t++){var r=n[t];W(e,r.next)}return Promise.resolve()}}}}var te="app-check-internal";!function(e){e.INTERNAL.registerComponent(new i.Component("appCheck",(function(e){return ee(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setServiceProps({ReCaptchaV3Provider:Q,CustomProvider:Z}).setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider(te).initialize()}))),e.INTERNAL.registerComponent(new i.Component(te,(function(e){return function(e,t){return{getToken:function(n){return V(e,t,n)},addTokenListener:function(n){return z(e,t,"INTERNAL",n)},removeTokenListener:function(t){return W(e,t)}}}(e.getProvider("app").getImmediate(),e.getProvider("platform-logger"))}),"PUBLIC").setInstantiationMode("EXPLICIT")),e.registerVersion("@firebase/app-check","0.3.2")}(l.default),function(){var e=a.getGlobal();if("string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN||!0===e.FIREBASE_APPCHECK_DEBUG_TOKEN){var t=y();t.enabled=!0;var n=new a.Deferred;t.token=n,"string"===typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(U())}}()},6099:function(e,t,n){"use strict";n.r(t),n.d(t,{firebase:function(){return b}});var r,i,o=n(655),a=n(4589),s=n(909),u=n(4594),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.ErrorFactory("app","Firebase",c),f="@firebase/app",h="[DEFAULT]",d=((i={})[f]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Logger("@firebase/app"),v=function(){function e(e,t,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=t.name,this.automaticDataCollectionEnabled_=t.automaticDataCollectionEnabled||!1,this.options_=(0,a.deepCopy)(e),this.container=new s.ComponentContainer(t.name),this._addComponent(new s.Component("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(e){return r._addComponent(e)}))}return Object.defineProperty(e.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(e){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),e.prototype.delete=function(){var e=this;return new Promise((function(t){e.checkDestroyed_(),t()})).then((function(){return e.firebase_.INTERNAL.removeApp(e.name_),Promise.all(e.container.getProviders().map((function(e){return e.delete()})))})).then((function(){e.isDeleted_=!0}))},e.prototype._getService=function(e,t){var n;void 0===t&&(t=h),this.checkDestroyed_();var r=this.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})},e.prototype._removeServiceInstance=function(e,t){void 0===t&&(t=h),this.container.getProvider(e).clearInstance(t)},e.prototype._addComponent=function(e){try{this.container.addComponent(e)}catch(t){p.debug("Component "+e.name+" failed to register with FirebaseApp "+this.name,t)}},e.prototype._addOrOverwriteComponent=function(e){this.container.addOrOverwriteComponent(e)},e.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},e.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},e}();v.prototype.name&&v.prototype.options||v.prototype.delete||console.log("dc");var g=function e(){var t=function(e){var t={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=h);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.contains)(t,s))throw l.create("duplicate-app",{appName:s});var u=new e(n,o,r);return t[s]=u,u},app:i,registerVersion:function(e,t,n){var r,i=null!==(r=d[e])&&void 0!==r?r:e;n&&(i+="-"+n);var a=i.match(/\s|\//),u=t.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+t+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+t+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.Component(i+"-version",(function(){return{library:i,version:t}}),"VERSION"))},setLogLevel:u.setLogLevel,onLog:function(e,t){if(null!==e&&"function"!==typeof e)throw l.create("invalid-log-argument");(0,u.setUserLogHandler)(e,t)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(e){delete t[e]},components:n,useAsService:function(e,t){return"serverAuth"===t?null:t}}};function i(e){if(e=e||h,!(0,a.contains)(t,e))throw l.create("no-app",{appName:e});return t[e]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(e){if(void 0===e&&(e=i()),"function"!==typeof e[s])throw l.create("invalid-app-argument",{appName:s});return e[s]()};void 0!==o.serviceProps&&(0,a.deepExtend)(u,o.serviceProps),r[s]=u,e.prototype[s]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._getService.bind(this,s).apply(this,o.multipleInstances?e:[])}}for(var c=0,f=Object.keys(t);c<f.length;c++){var h=f[c];t[h]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(t).map((function(e){return t[e]}))}}),i.App=e,r}(v);return t.INTERNAL=(0,o.__assign)((0,o.__assign)({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,a.deepExtend)(t,e)},createSubscribe:a.createSubscribe,ErrorFactory:a.ErrorFactory,deepExtend:a.deepExtend}),t}(),m=function(){function e(e){this.container=e}return e.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return t.library+"/"+t.version}return null})).filter((function(e){return e})).join(" ")},e}();if((0,a.isBrowser)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var _=g.initializeApp;g.initializeApp=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,a.isNode)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),_.apply(void 0,e)};var b=g;!function(e,t){e.INTERNAL.registerComponent(new s.Component("platform-logger",(function(e){return new m(e)}),"PRIVATE")),e.registerVersion(f,"0.6.30",t),e.registerVersion("fire-js","")}(b),t.default=b},909:function(e,t,n){"use strict";n.r(t),n.d(t,{Component:function(){return o},ComponentContainer:function(){return u},Provider:function(){return s}});var r=n(655),i=n(4589),o=function(){function e(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return e.prototype.setInstantiationMode=function(e){return this.instantiationMode=e,this},e.prototype.setMultipleInstances=function(e){return this.multipleInstances=e,this},e.prototype.setServiceProps=function(e){return this.serviceProps=e,this},e.prototype.setInstanceCreatedCallback=function(e){return this.onInstanceCreated=e,this},e}(),a="[DEFAULT]",s=function(){function e(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return e.prototype.get=function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new i.Deferred;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(t).promise},e.prototype.getImmediate=function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},e.prototype.getComponent=function(){return this.component},e.prototype.setComponent=function(e){var t,n;if(e.name!==this.name)throw Error("Mismatching Component "+e.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:a})}catch(h){}try{for(var i=(0,r.__values)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.__read)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var f=this.getOrInitializeService({instanceIdentifier:l});c.resolve(f)}catch(h){}}}catch(d){t={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}}},e.prototype.clearInstance=function(e){void 0===e&&(e=a),this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)},e.prototype.delete=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){var e;return(0,r.__generator)(this,(function(t){switch(t.label){case 0:return e=Array.from(this.instances.values()),[4,Promise.all((0,r.__spreadArray)((0,r.__spreadArray)([],(0,r.__read)(e.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()})))),(0,r.__read)(e.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))))];case 1:return t.sent(),[2]}}))}))},e.prototype.isComponentSet=function(){return null!=this.component},e.prototype.isInitialized=function(e){return void 0===e&&(e=a),this.instances.has(e)},e.prototype.getOptions=function(e){return void 0===e&&(e=a),this.instancesOptions.get(e)||{}},e.prototype.initialize=function(e){var t,n;void 0===e&&(e={});var i=e.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.__values)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.__read)(c.value,2),f=l[0],h=l[1];a===this.normalizeInstanceIdentifier(f)&&h.resolve(s)}}catch(d){t={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s},e.prototype.onInit=function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&e(o,r),function(){i.delete(e)}},e.prototype.invokeOnInitCallbacks=function(e,t){var n,i,o=this.onInitCallbacks.get(t);if(o)try{for(var a=(0,r.__values)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(e,t)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},e.prototype.getOrInitializeService=function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===a?void 0:t),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},e.prototype.normalizeInstanceIdentifier=function(e){return void 0===e&&(e=a),this.component?this.component.multipleInstances?e:a:e},e.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},e}();var u=function(){function e(e){this.name=e,this.providers=new Map}return e.prototype.addComponent=function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component "+e.name+" has already been registered with "+this.name);t.setComponent(e)},e.prototype.addOrOverwriteComponent=function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)},e.prototype.getProvider=function(e){if(this.providers.has(e))return this.providers.get(e);var t=new s(e,this);return this.providers.set(e,t),t},e.prototype.getProviders=function(){return Array.from(this.providers.values())},e}()},9446:function(e,t,n){"use strict";var r=n(6099),i=n(909),o=n(4589),a=n(655),s=n(4594);e=n.hmd(e);var u=n(3454),c="";function l(e){c=e}var f=function(){function e(e){this.domStorage_=e,this.prefix_="firebase:"}return e.prototype.set=function(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,o.stringify)(t))},e.prototype.get=function(e){var t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,o.jsonEval)(t)},e.prototype.remove=function(e){this.domStorage_.removeItem(this.prefixedName_(e))},e.prototype.prefixedName_=function(e){return this.prefix_+e},e.prototype.toString=function(){return this.domStorage_.toString()},e}(),h=function(){function e(){this.cache_={},this.isInMemoryStorage=!0}return e.prototype.set=function(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t},e.prototype.get=function(e){return(0,o.contains)(this.cache_,e)?this.cache_[e]:null},e.prototype.remove=function(e){delete this.cache_[e]},e}(),d=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){var t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new f(t)}}catch(n){}return new h},p=d("localStorage"),v=d("sessionStorage"),g=new s.Logger("@firebase/database"),m=function(){var e=1;return function(){return e++}}(),y=function(e){var t=(0,o.stringToByteArray)(e),n=new o.Sha1;n.update(t);var r=n.digest();return o.base64.encodeByteArray(r)},_=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n="",r=0;r<e.length;r++){var i=e[r];Array.isArray(i)||i&&"object"===typeof i&&"number"===typeof i.length?n+=_.apply(null,i):n+="object"===typeof i?(0,o.stringify)(i):i,n+=" "}return n},b=null,w=!0,k=function(e,t){(0,o.assert)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(g.logLevel=s.LogLevel.VERBOSE,b=g.log.bind(g),t&&v.set("logging_enabled",!0)):"function"===typeof e?b=e:(b=null,v.remove("logging_enabled"))},I=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(!0===w&&(w=!1,null===b&&!0===v.get("logging_enabled")&&k(!0)),b){var n=_.apply(null,e);b(n)}},S=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];I.apply(void 0,(0,a.__spreadArray)([e],(0,a.__read)(t)))}},T=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE INTERNAL ERROR: "+_.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));g.error(n)},E=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE FATAL ERROR: "+_.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));throw g.error(n),new Error(n)},C=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n="FIREBASE WARNING: "+_.apply(void 0,(0,a.__spreadArray)([],(0,a.__read)(e)));g.warn(n)},x=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},A="[MIN_NAME]",P="[MAX_NAME]",O=function(e,t){if(e===t)return 0;if(e===A||t===P)return-1;if(t===A||e===P)return 1;var n=B(e),r=B(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1},N=function(e,t){return e===t?0:e<t?-1:1},R=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,o.stringify)(t))},D=function(e){if("object"!==typeof e||null===e)return(0,o.stringify)(e);var t=[];for(var n in e)t.push(n);t.sort();for(var r="{",i=0;i<t.length;i++)0!==i&&(r+=","),r+=(0,o.stringify)(t[i]),r+=":",r+=D(e[t[i]]);return r+="}"},M=function(e,t){var n=e.length;if(n<=t)return[e];for(var r=[],i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function L(e,t){for(var n in e)e.hasOwnProperty(n)&&t(n,e[n])}var j=function(e){(0,o.assert)(!x(e),"Invalid JSON number");var t,n,r,i,a,s=1023;0===e?(n=0,r=0,t=1/e===-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(e)/Math.LN2),s))+s,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));var u=[];for(a=52;a;a-=1)u.push(r%2?1:0),r=Math.floor(r/2);for(a=11;a;a-=1)u.push(n%2?1:0),n=Math.floor(n/2);u.push(t?1:0),u.reverse();var c=u.join(""),l="";for(a=0;a<64;a+=8){var f=parseInt(c.substr(a,8),2).toString(16);1===f.length&&(f="0"+f),l+=f}return l.toLowerCase()};var F=new RegExp("^-?(0*)\\d{1,10}$"),U=-2147483648,q=2147483647,B=function(e){if(F.test(e)){var t=Number(e);if(t>=U&&t<=q)return t}return null},V=function(e){try{e()}catch(t){setTimeout((function(){var e=t.stack||"";throw C("Exception was thrown by user callback.",e),t}),Math.floor(0))}},z=function(e,t){var n=setTimeout(e,t);return"object"===typeof n&&n.unref&&n.unref(),n},W=function(){function e(e,t){var n=this;this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((function(e){return n.appCheck=e}))}return e.prototype.getToken=function(e){var t=this;return this.appCheck?this.appCheck.getToken(e):new Promise((function(n,r){setTimeout((function(){t.appCheck?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((function(t){return t.addTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){C('Provided AppCheck credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly.')},e}(),K=function(){function e(e,t,n){var r=this;this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((function(e){return r.auth_=e}))}return e.prototype.getToken=function(e){var t=this;return this.auth_?this.auth_.getToken(e).catch((function(e){return e&&"auth/token-not-initialized"===e.code?(I("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)})):new Promise((function(n,r){setTimeout((function(){t.auth_?t.getToken(e).then(n,r):n(null)}),0)}))},e.prototype.addTokenChangeListener=function(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((function(t){return t.addAuthTokenListener(e)}))},e.prototype.removeTokenChangeListener=function(e){this.authProvider_.get().then((function(t){return t.removeAuthTokenListener(e)}))},e.prototype.notifyForInvalidToken=function(){var e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',C(e)},e}(),G=function(){function e(e){this.accessToken=e}return e.prototype.getToken=function(e){return Promise.resolve({accessToken:this.accessToken})},e.prototype.addTokenChangeListener=function(e){e(this.accessToken)},e.prototype.removeTokenChangeListener=function(e){},e.prototype.notifyForInvalidToken=function(){},e.OWNER="owner",e}(),H="5",Y=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$="websocket",X="long_polling",Q=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=!1),void 0===o&&(o=""),void 0===a&&(a=!1),this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=p.get("host:"+e)||this._host}return e.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},e.prototype.isCustomHost=function(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain},Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&p.set("host:"+this._host,this.internalHost))},enumerable:!1,configurable:!0}),e.prototype.toString=function(){var e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e},e.prototype.toURLString=function(){var e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns="+this.namespace:"";return""+e+this.host+"/"+t},e}();function Z(e,t,n){var r;if((0,o.assert)("string"===typeof t,"typeof type must == string"),(0,o.assert)("object"===typeof n,"typeof params must == object"),t===$)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==X)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);var i=[];return L(n,(function(e,t){i.push(e+"="+t)})),r+i.join("&")}var J=function(){function e(){this.counters_={}}return e.prototype.incrementCounter=function(e,t){void 0===t&&(t=1),(0,o.contains)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t},e.prototype.get=function(){return(0,o.deepCopy)(this.counters_)},e}(),ee={},te={};function ne(e){var t=e.toString();return ee[t]||(ee[t]=new J),ee[t]}var re=function(){function e(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return e.prototype.closeAfter=function(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},e.prototype.handleResponse=function(e,t){var n=this;this.pendingResponses[e]=t;for(var r=function(){var e=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var t=function(t){e[t]&&V((function(){n.onMessage_(e[t])}))},r=0;r<e.length;++r)t(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},e}(),ie="start",oe="close",ae=function(){function e(e,t,n,r,i,o,a){var s=this;this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=S(e),this.stats_=ne(t),this.urlFn=function(e){return s.appCheckToken&&(e.ac=s.appCheckToken),Z(t,X,e)}}return e.prototype.open=function(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new re(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if((0,o.isNodeSdk)()||"complete"===document.readyState)e();else{var t=!1,n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new se((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,5),i=r[0],o=r[1],s=r[2];if(r[3],r[4],n.incrementIncomingBytes_(e),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===ie)n.id=o,n.password=s;else{if(i!==oe)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=(0,a.__read)(e,2),i=r[0],o=r[1];n.incrementIncomingBytes_(e),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var e={start:"t"};e.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=n.scriptTagHolder.uniqueCallbackIdentifier),e.v=H,n.transportSessionId&&(e.s=n.transportSessionId),n.lastSessionId&&(e.ls=n.lastSessionId),n.applicationId&&(e.p=n.applicationId),n.appCheckToken&&(e.ac=n.appCheckToken),"undefined"!==typeof location&&location.hostname&&Y.test(location.hostname)&&(e.r="f");var t=n.urlFn(e);n.log_("Connecting via long-poll to "+t),n.scriptTagHolder.addTag(t,(function(){}))}}))},e.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},e.forceAllow=function(){e.forceAllow_=!0},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){return!(0,o.isNodeSdk)()&&(!!e.forceAllow_||!e.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))},e.prototype.markConnectionHealthy=function(){},e.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},e.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},e.prototype.send=function(e){var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);for(var n=(0,o.base64Encode)(t),r=M(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},e.prototype.addDisconnectPingFrame=function(e,t){if(!(0,o.isNodeSdk)()){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},e.prototype.incrementIncomingBytes_=function(e){var t=(0,o.stringify)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)},e}(),se=function(){function e(t,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,o.isNodeSdk)())this.commandCB=t,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=m(),window["pLPCommand"+this.uniqueCallbackIdentifier]=t,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=e.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length))a='<script>document.domain="'+document.domain+'";<\/script>';var s="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(u){I("frame writing exception"),u.stack&&I(u.stack),I(u)}}}return e.createIFrame_=function(){var e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||I("No IE domain setting required")}catch(n){var t=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+t+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e},e.prototype.close=function(){var e=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)}),Math.floor(0)));var t=this.onDisconnect;t&&(this.onDisconnect=null,t())},e.prototype.startLongPoll=function(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););},e.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;for(var t=this.urlFn(e),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1},e.prototype.enqueueSegment=function(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()},e.prototype.addLongPollTag_=function(e,t){var n=this;this.outstandingRequests.add(t);var r=function(){n.outstandingRequests.delete(t),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,(function(){clearTimeout(i),r()}))},e.prototype.addTag=function(e,t){var n=this;(0,o.isNodeSdk)()?this.doNodeLongPoll(e,t):setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){var e=r.readyState;e&&"loaded"!==e&&"complete"!==e||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=function(){I("Long-poll script failed to load: "+e),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(i){}}),Math.floor(1))},e}(),ue=null;"undefined"!==typeof MozWebSocket?ue=MozWebSocket:"undefined"!==typeof WebSocket&&(ue=WebSocket);var ce=function(){function e(t,n,r,i,o,a,s){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=S(this.connId),this.stats_=ne(n),this.connURL=e.connectionURL_(n,a,s,i),this.nodeAdmin=n.nodeAdmin}return e.connectionURL_=function(e,t,n,r){var i={};return i.v=H,!(0,o.isNodeSdk)()&&"undefined"!==typeof location&&location.hostname&&Y.test(location.hostname)&&(i.r="f"),t&&(i.s=t),n&&(i.ls=n),r&&(i.ac=r),Z(e,$,i)},e.prototype.open=function(e,t){var n=this;this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,p.set("previous_websocket_failure",!0);try{if((0,o.isNodeSdk)()){var r=this.nodeAdmin?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+c+"/"+u.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(i.headers.Authorization="Bearer "+this.authToken),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);var a=u.env,s=0===this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new ue(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||"","X-Firebase-AppCheck":this.appCheckToken||""}};this.mySock=new ue(this.connURL,[],i)}}catch(f){this.log_("Error instantiating WebSocket.");var l=f.message||f.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(e){n.handleIncomingFrame(e)},this.mySock.onerror=function(e){n.log_("WebSocket error.  Closing connection.");var t=e.message||e.data;t&&n.log_(t),n.onClosed_()}},e.prototype.start=function(){},e.forceDisallow=function(){e.forceDisallow_=!0},e.isAvailable=function(){var t=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(t=!0)}return!t&&null!==ue&&!e.forceDisallow_},e.previouslyFailed=function(){return p.isInMemoryStorage||!0===p.get("previous_websocket_failure")},e.prototype.markConnectionHealthy=function(){p.remove("previous_websocket_failure")},e.prototype.appendFrame_=function(e){if(this.frames.push(e),this.frames.length===this.totalFrames){var t=this.frames.join("");this.frames=null;var n=(0,o.jsonEval)(t);this.onMessage(n)}},e.prototype.handleNewFrameCount_=function(e){this.totalFrames=e,this.frames=[]},e.prototype.extractFrameCount_=function(e){if((0,o.assert)(null===this.frames,"We already have a frame buffer"),e.length<=6){var t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e},e.prototype.handleIncomingFrame=function(e){if(null!==this.mySock){var t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{var n=this.extractFrameCount_(t);null!==n&&this.appendFrame_(n)}}},e.prototype.send=function(e){this.resetKeepAlive();var t=(0,o.stringify)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);var n=M(t,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},e.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},e.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},e.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},e.prototype.resetKeepAlive=function(){var e=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){e.mySock&&e.sendString_("0"),e.resetKeepAlive()}),Math.floor(45e3))},e.prototype.sendString_=function(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e}(),le=function(){function e(e){this.initTransports_(e)}return Object.defineProperty(e,"ALL_TRANSPORTS",{get:function(){return[ae,ce]},enumerable:!1,configurable:!0}),e.prototype.initTransports_=function(t){var n,r,i=ce&&ce.isAvailable(),o=i&&!ce.previouslyFailed();if(t.webSocketOnly&&(i||C("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[ce];else{var s=this.transports_=[];try{for(var u=(0,a.__values)(e.ALL_TRANSPORTS),c=u.next();!c.done;c=u.next()){var l=c.value;l&&l.isAvailable()&&s.push(l)}}catch(f){n={error:f}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}},e.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},e.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},e}(),fe=function(){function e(e,t,n,r,i,o,a,s,u,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=s,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=S("c:"+this.id+":"),this.transportManager_=new le(t),this.log_("Connection created"),this.start_()}return e.prototype.start_=function(){var e=this,t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){e.conn_&&e.conn_.open(n,r)}),Math.floor(0));var i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=z((function(){e.healthyTimeout_=null,e.isHealthy_||(e.conn_&&e.conn_.bytesReceived>102400?(e.log_("Connection exceeded healthy timeout but has received "+e.conn_.bytesReceived+" bytes.  Marking connection healthy."),e.isHealthy_=!0,e.conn_.markConnectionHealthy()):e.conn_&&e.conn_.bytesSent>10240?e.log_("Connection exceeded healthy timeout but has sent "+e.conn_.bytesSent+" bytes.  Leaving connection alive."):(e.log_("Closing unhealthy connection after timeout."),e.close()))}),Math.floor(i)))},e.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},e.prototype.disconnReceiver_=function(e){var t=this;return function(n){e===t.conn_?t.onConnectionLost_(n):e===t.secondaryConn_?(t.log_("Secondary connection lost."),t.onSecondaryConnectionLost_()):t.log_("closing an old connection")}},e.prototype.connReceiver_=function(e){var t=this;return function(n){2!==t.state_&&(e===t.rx_?t.onPrimaryMessageReceived_(n):e===t.secondaryConn_?t.onSecondaryMessageReceived_(n):t.log_("message on old connection"))}},e.prototype.sendRequest=function(e){var t={t:"d",d:e};this.sendData_(t)},e.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},e.prototype.onSecondaryControl_=function(e){if("t"in e){var t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},e.prototype.onSecondaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}},e.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},e.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},e.prototype.onPrimaryMessageReceived_=function(e){var t=R("t",e),n=R("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)},e.prototype.onDataMessage_=function(e){this.onPrimaryResponse_(),this.onMessage_(e)},e.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},e.prototype.onControl_=function(e){var t=R("t",e);if("d"in e){var n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?T("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):T("Unknown control packet command: "+t)}},e.prototype.onHandshake_=function(e){var t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),H!==n&&C("Protocol version mismatch detected"),this.tryStartUpgrade_())},e.prototype.tryStartUpgrade_=function(){var e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)},e.prototype.startUpgrade_=function(e){var t=this;this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),z((function(){t.secondaryConn_&&(t.log_("Timed out trying to upgrade."),t.secondaryConn_.close())}),Math.floor(6e4))},e.prototype.onReset_=function(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())},e.prototype.onConnectionEstablished_=function(e,t){var n=this;this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):z((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},e.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},e.prototype.onSecondaryConnectionLost_=function(){var e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()},e.prototype.onConnectionLost_=function(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(p.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},e.prototype.onConnectionShutdown_=function(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()},e.prototype.sendData_=function(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)},e.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},e.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},e}(),he=function(){function e(){}return e.prototype.put=function(e,t,n,r){},e.prototype.merge=function(e,t,n,r){},e.prototype.refreshAuthToken=function(e){},e.prototype.refreshAppCheckToken=function(e){},e.prototype.onDisconnectPut=function(e,t,n){},e.prototype.onDisconnectMerge=function(e,t,n){},e.prototype.onDisconnectCancel=function(e,t){},e.prototype.reportStats=function(e){},e}(),de=function(){function e(e){this.allowedEvents_=e,this.listeners_={},(0,o.assert)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}return e.prototype.trigger=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Array.isArray(this.listeners_[e]))for(var r=(0,a.__spreadArray)([],(0,a.__read)(this.listeners_[e])),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)},e.prototype.on=function(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});var r=this.getInitialEvent(e);r&&t.apply(n,r)},e.prototype.off=function(e,t,n){this.validateEventType_(e);for(var r=this.listeners_[e]||[],i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)},e.prototype.validateEventType_=function(e){(0,o.assert)(this.allowedEvents_.find((function(t){return t===e})),"Unknown event: "+e)},e}(),pe=function(e){function t(){var t=e.call(this,["online"])||this;return t.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||(0,o.isMobileCordova)()||(window.addEventListener("online",(function(){t.online_||(t.online_=!0,t.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){t.online_&&(t.online_=!1,t.trigger("online",!1))}),!1)),t}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("online"===e,"Unknown event type: "+e),[this.online_]},t.prototype.currentlyOnline=function(){return this.online_},t}(de),ve=function(){function e(e,t){if(void 0===t){this.pieces_=e.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}return e.prototype.toString=function(){for(var e="",t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"},e}();function ge(){return new ve("")}function me(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function ye(e){return e.pieces_.length-e.pieceNum_}function _e(e){var t=e.pieceNum_;return t<e.pieces_.length&&t++,new ve(e.pieces_,t)}function be(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function we(e,t){return void 0===t&&(t=0),e.pieces_.slice(e.pieceNum_+t)}function ke(e){if(e.pieceNum_>=e.pieces_.length)return null;for(var t=[],n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new ve(t,0)}function Ie(e,t){for(var n=[],r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof ve)for(r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{var i=t.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new ve(n,0)}function Se(e){return e.pieceNum_>=e.pieces_.length}function Te(e,t){var n=me(e),r=me(t);if(null===n)return t;if(n===r)return Te(_e(e),_e(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Ee(e,t){for(var n=we(e,0),r=we(t,0),i=0;i<n.length&&i<r.length;i++){var o=O(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1}function Ce(e,t){if(ye(e)!==ye(t))return!1;for(var n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function xe(e,t){var n=e.pieceNum_,r=t.pieceNum_;if(ye(e)>ye(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}var Ae=function(e,t){this.errorPrefix_=t,this.parts_=we(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=(0,o.stringLength)(this.parts_[n]);Pe(this)};function Pe(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Oe(e))}function Oe(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}var Ne,Re,De=function(e){function t(){var t,n,r=e.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",t="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",t="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",t="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",t="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var e=!document[t];e!==r.visible_&&(r.visible_=e,r.trigger("visible",e))}),!1),r}return(0,a.__extends)(t,e),t.getInstance=function(){return new t},t.prototype.getInitialEvent=function(e){return(0,o.assert)("visible"===e,"Unknown event type: "+e),[this.visible_]},t}(de),Me=1e3,Le=function(e){function t(n,r,i,a,s,u,c,l){var f=e.call(this)||this;if(f.repoInfo_=n,f.applicationId_=r,f.onDataUpdate_=i,f.onConnectStatus_=a,f.onServerInfoUpdate_=s,f.authTokenProvider_=u,f.appCheckTokenProvider_=c,f.authOverride_=l,f.id=t.nextPersistentConnectionId_++,f.log_=S("p:"+f.id+":"),f.interruptReasons_={},f.listens=new Map,f.outstandingPuts_=[],f.outstandingGets_=[],f.outstandingPutCount_=0,f.outstandingGetCount_=0,f.onDisconnectRequestQueue_=[],f.connected_=!1,f.reconnectDelay_=Me,f.maxReconnectDelay_=3e5,f.securityDebugCallback_=null,f.lastSessionId=null,f.establishConnectionTimer_=null,f.visible_=!1,f.requestCBHash_={},f.requestNumber_=0,f.realtime_=null,f.authToken_=null,f.appCheckToken_=null,f.forceTokenRefresh_=!1,f.invalidAuthTokenCount_=0,f.invalidAppCheckTokenCount_=0,f.firstConnection_=!0,f.lastConnectionAttemptTime_=null,f.lastConnectionEstablishedTime_=null,l&&!(0,o.isNodeSdk)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return De.getInstance().on("visible",f.onVisible_,f),-1===n.host.indexOf("fblocal")&&pe.getInstance().on("online",f.onOnline_,f),f}return(0,a.__extends)(t,e),t.prototype.sendRequest=function(e,t,n){var r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,o.stringify)(i)),(0,o.assert)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},t.prototype.get=function(e){var t=this;this.initConnection_();var n=new o.Deferred,r={p:e._path.toString(),q:e._queryObject},i={action:"g",request:r,onComplete:function(e){var i=e.d;"ok"===e.s?(t.onDataUpdate_(r.p,i,!1,null),n.resolve(i)):n.reject(i)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;var a=this.outstandingGets_.length-1;return this.connected_||setTimeout((function(){var e=t.outstandingGets_[a];void 0!==e&&i===e&&(delete t.outstandingGets_[a],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),t.log_("get "+a+" timed out on connection"),n.reject(new Error("Client is offline.")))}),3e3),this.connected_&&this.sendGet_(a),n.promise},t.prototype.listen=function(e,t,n,r){this.initConnection_();var i=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+i),this.listens.has(a)||this.listens.set(a,new Map),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,o.assert)(!this.listens.get(a).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(a).set(i,s),this.connected_&&this.sendListen_(s)},t.prototype.sendGet_=function(e){var t=this,n=this.outstandingGets_[e];this.sendRequest("g",n.request,(function(r){delete t.outstandingGets_[e],t.outstandingGetCount_--,0===t.outstandingGetCount_&&(t.outstandingGets_=[]),n.onComplete&&n.onComplete(r)}))},t.prototype.sendListen_=function(e){var n=this,r=e.query,i=r._path.toString(),o=r._queryIdentifier;this.log_("Listen on "+i+" for "+o);var a={p:i};e.tag&&(a.q=r._queryObject,a.t=e.tag),a.h=e.hashFn(),this.sendRequest("q",a,(function(a){var s=a.d,u=a.s;t.warnOnListenWarnings_(s,r),(n.listens.get(i)&&n.listens.get(i).get(o))===e&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),e.onComplete&&e.onComplete(u,s))}))},t.warnOnListenWarnings_=function(e,t){if(e&&"object"===typeof e&&(0,o.contains)(e,"w")){var n=(0,o.safeGet)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+t._queryParams.getIndex().toString()+'"',i=t._path.toString();C("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},t.prototype.refreshAuthToken=function(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(e)},t.prototype.reduceReconnectDelayIfAdminCredential_=function(e){(e&&40===e.length||(0,o.isAdmin)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},t.prototype.refreshAppCheckToken=function(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(function(){}))},t.prototype.tryAuth=function(){var e=this;if(this.connected_&&this.authToken_){var t=this.authToken_,n=(0,o.isValidFormat)(t)?"auth":"gauth",r={cred:t};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,(function(n){var r=n.s,i=n.d||"error";e.authToken_===t&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},t.prototype.tryAppCheck=function(){var e=this;this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(function(t){var n=t.s,r=t.d||"error";"ok"===n?e.invalidAppCheckTokenCount_=0:e.onAppCheckRevoked_(n,r)}))},t.prototype.unlisten=function(e,t){var n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,o.assert)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)},t.prototype.sendUnlisten_=function(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);var i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},t.prototype.onDisconnectPut=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})},t.prototype.onDisconnectMerge=function(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})},t.prototype.onDisconnectCancel=function(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})},t.prototype.sendOnDisconnect_=function(e,t,n,r){var i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(function(e){r&&setTimeout((function(){r(e.s,e.d)}),Math.floor(0))}))},t.prototype.put=function(e,t,n,r){this.putInternal("p",e,t,n,r)},t.prototype.merge=function(e,t,n,r){this.putInternal("m",e,t,n,r)},t.prototype.putInternal=function(e,t,n,r,i){this.initConnection_();var o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)},t.prototype.sendPut_=function(e){var t=this,n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,(function(r){t.log_(n+" response",r),delete t.outstandingPuts_[e],t.outstandingPutCount_--,0===t.outstandingPutCount_&&(t.outstandingPuts_=[]),i&&i(r.s,r.d)}))},t.prototype.reportStats=function(e){var t=this;if(this.connected_){var n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,(function(e){if("ok"!==e.s){var n=e.d;t.log_("reportStats","Error sending stats: "+n)}}))}},t.prototype.onDataMessage_=function(e){if("r"in e){this.log_("from server: "+(0,o.stringify)(e));var t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}},t.prototype.onDataPush_=function(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):T("Unrecognized action received from server: "+(0,o.stringify)(e)+"\nAre you using the latest client?")},t.prototype.onReady_=function(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},t.prototype.scheduleConnect_=function(e){var t=this;(0,o.assert)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){t.establishConnectionTimer_=null,t.establishConnection_()}),Math.floor(e))},t.prototype.initConnection_=function(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)},t.prototype.onVisible_=function(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Me,this.realtime_||this.scheduleConnect_(0)),this.visible_=e},t.prototype.onOnline_=function(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Me,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},t.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Me),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},t.prototype.establishConnection_=function(){return(0,a.__awaiter)(this,void 0,void 0,(function(){var e,n,r,i,s,u,c,l,f,h,d,p,v,g,m=this;return(0,a.__generator)(this,(function(y){switch(y.label){case 0:if(!this.shouldReconnect_())return[3,4];this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null,e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+t.nextConnectionId_++,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,r())},f=function(e){(0,o.assert)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)},this.realtime_={close:l,sendRequest:f},h=this.forceTokenRefresh_,this.forceTokenRefresh_=!1,y.label=1;case 1:return y.trys.push([1,3,,4]),[4,Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)])];case 2:return d=a.__read.apply(void 0,[y.sent(),2]),p=d[0],v=d[1],u?I("getToken() completed but was canceled"):(I("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=v&&v.token,c=new fe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,(function(e){C(e+" ("+m.repoInfo_.toString()+")"),m.interrupt("server_kill")}),s)),[3,4];case 3:return g=y.sent(),this.log_("Failed to get token: "+g),u||(this.repoInfo_.nodeAdmin&&C(g),l()),[3,4];case 4:return[2]}}))}))},t.prototype.interrupt=function(e){I("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},t.prototype.resume=function(e){I("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,o.isEmpty)(this.interruptReasons_)&&(this.reconnectDelay_=Me,this.realtime_||this.scheduleConnect_(0))},t.prototype.handleTimestamp_=function(e){var t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})},t.prototype.cancelSentTransactions_=function(){for(var e=0;e<this.outstandingPuts_.length;e++){var t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},t.prototype.onListenRevoked_=function(e,t){var n;n=t?t.map((function(e){return D(e)})).join("$"):"default";var r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")},t.prototype.removeListen_=function(e,t){var n,r=new ve(e).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(t),i.delete(t),0===i.size&&this.listens.delete(r)}else n=void 0;return n},t.prototype.onAuthRevoked_=function(e,t){I("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},t.prototype.onAppCheckRevoked_=function(e,t){I("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())},t.prototype.onSecurityDebugPacket_=function(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))},t.prototype.restoreState_=function(){var e,t,n,r;this.tryAuth(),this.tryAppCheck();try{for(var i=(0,a.__values)(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var u=(n=void 0,(0,a.__values)(s.values())),c=u.next();!c.done;c=u.next()){var l=c.value;this.sendListen_(l)}}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}}catch(p){e={error:p}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}for(var f=0;f<this.outstandingPuts_.length;f++)this.outstandingPuts_[f]&&this.sendPut_(f);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}for(f=0;f<this.outstandingGets_.length;f++)this.outstandingGets_[f]&&this.sendGet_(f)},t.prototype.sendConnectStats_=function(){var e={},t="js";(0,o.isNodeSdk)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+c.replace(/\./g,"-")]=1,(0,o.isMobileCordova)()?e["framework.cordova"]=1:(0,o.isReactNative)()&&(e["framework.reactnative"]=1),this.reportStats(e)},t.prototype.shouldReconnect_=function(){var e=pe.getInstance().currentlyOnline();return(0,o.isEmpty)(this.interruptReasons_)&&e},t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t}(he),je=function(){function e(e,t){this.name=e,this.node=t}return e.Wrap=function(t,n){return new e(t,n)},e}(),Fe=function(){function e(){}return e.prototype.getCompare=function(){return this.compare.bind(this)},e.prototype.indexedValueChanged=function(e,t){var n=new je(A,e),r=new je(A,t);return 0!==this.compare(n,r)},e.prototype.minPost=function(){return je.MIN},e}(),Ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),Object.defineProperty(t,"__EMPTY_NODE",{get:function(){return Ne},set:function(e){Ne=e},enumerable:!1,configurable:!0}),t.prototype.compare=function(e,t){return O(e.name,t.name)},t.prototype.isDefinedOn=function(e){throw(0,o.assertionError)("KeyIndex.isDefinedOn not expected to be called.")},t.prototype.indexedValueChanged=function(e,t){return!1},t.prototype.minPost=function(){return je.MIN},t.prototype.maxPost=function(){return new je(P,Ne)},t.prototype.makePost=function(e,t){return(0,o.assert)("string"===typeof e,"KeyIndex indexValue must always be a string."),new je(e,Ne)},t.prototype.toString=function(){return".key"},t}(Fe),qe=new Ue,Be=function(){function e(e,t,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}return e.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e},e.prototype.hasNext=function(){return this.nodeStack_.length>0},e.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}},e}(),Ve=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:We.EMPTY_NODE,this.right=null!=o?o:We.EMPTY_NODE}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.count=function(){return this.left.count()+1+this.right.count()},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},e.prototype.minKey=function(){return this.min_().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp_()},e.prototype.removeMin_=function(){if(this.left.isEmpty())return We.EMPTY_NODE;var e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),(e=e.copy(null,null,null,e.left.removeMin_(),null)).fixUp_()},e.prototype.remove=function(e,t){var n,r;if(t(e,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return We.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()},e.prototype.isRed_=function(){return this.color},e.prototype.fixUp_=function(){var e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e},e.prototype.moveRedLeft_=function(){var e=this.colorFlip_();return e.right.left.isRed_()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight_())).rotateLeft_()).colorFlip_()),e},e.prototype.moveRedRight_=function(){var e=this.colorFlip_();return e.left.left.isRed_()&&(e=(e=e.rotateRight_()).colorFlip_()),e},e.prototype.rotateLeft_=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight_=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip_=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth_=function(){var e=this.check_();return Math.pow(2,e)<=this.count()+1},e.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)},e.RED=!0,e.BLACK=!1,e}(),ze=function(){function e(){}return e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Ve(e,t,null)},e.prototype.remove=function(e,t){return this},e.prototype.count=function(){return 0},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.check_=function(){return 0},e.prototype.isRed_=function(){return!1},e}(),We=function(){function e(t,n){void 0===n&&(n=e.EMPTY_NODE),this.comparator_=t,this.root_=n}return e.prototype.insert=function(t,n){return new e(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Ve.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Ve.BLACK,null,null))},e.prototype.get=function(e){for(var t,n=this.root_;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key)))return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null},e.prototype.getPredecessorKey=function(e){for(var t,n=this.root_,r=null;!n.isEmpty();){if(0===(t=this.comparator_(e,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},e.prototype.isEmpty=function(){return this.root_.isEmpty()},e.prototype.count=function(){return this.root_.count()},e.prototype.minKey=function(){return this.root_.minKey()},e.prototype.maxKey=function(){return this.root_.maxKey()},e.prototype.inorderTraversal=function(e){return this.root_.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.root_.reverseTraversal(e)},e.prototype.getIterator=function(e){return new Be(this.root_,null,this.comparator_,!1,e)},e.prototype.getIteratorFrom=function(e,t){return new Be(this.root_,e,this.comparator_,!1,t)},e.prototype.getReverseIteratorFrom=function(e,t){return new Be(this.root_,e,this.comparator_,!0,t)},e.prototype.getReverseIterator=function(e){return new Be(this.root_,null,this.comparator_,!0,e)},e.EMPTY_NODE=new ze,e}();function Ke(e,t){return O(e.name,t.name)}function Ge(e,t){return O(e,t)}var He,Ye,$e,Xe=function(e){return"number"===typeof e?"number:"+j(e):"string:"+e},Qe=function(e){if(e.isLeafNode()){var t=e.val();(0,o.assert)("string"===typeof t||"number"===typeof t||"object"===typeof t&&(0,o.contains)(t,".sv"),"Priority must be a string or number.")}else(0,o.assert)(e===Re||e.isEmpty(),"priority of unexpected type.");(0,o.assert)(e===Re||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Ze=function(){function e(t,n){void 0===n&&(n=e.__childrenNodeConstructor.EMPTY_NODE),this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,o.assert)(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Qe(this.priorityNode_)}return Object.defineProperty(e,"__childrenNodeConstructor",{get:function(){return He},set:function(e){He=e},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!0},e.prototype.getPriority=function(){return this.priorityNode_},e.prototype.updatePriority=function(t){return new e(this.value_,t)},e.prototype.getImmediateChild=function(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.getChild=function(t){return Se(t)?this:".priority"===me(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE},e.prototype.hasChild=function(){return!1},e.prototype.getPredecessorChildName=function(e,t){return null},e.prototype.updateImmediateChild=function(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)},e.prototype.updateChild=function(t,n){var r=me(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,o.assert)(".priority"!==r||1===ye(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild(_e(t),n)))},e.prototype.isEmpty=function(){return!1},e.prototype.numChildren=function(){return 0},e.prototype.forEachChild=function(e,t){return!1},e.prototype.val=function(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xe(this.priorityNode_.val())+":");var t=typeof this.value_;e+=t+":",e+="number"===t?j(this.value_):this.value_,this.lazyHash_=y(e)}return this.lazyHash_},e.prototype.getValue=function(){return this.value_},e.prototype.compareTo=function(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,o.assert)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))},e.prototype.compareToLeafNode_=function(t){var n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),a=e.VALUE_TYPE_ORDER.indexOf(r);return(0,o.assert)(i>=0,"Unknown leaf type: "+n),(0,o.assert)(a>=0,"Unknown leaf type: "+r),i===a?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:a-i},e.prototype.withIndex=function(){return this},e.prototype.isIndexed=function(){return!0},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode()){var t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1},e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e}();var Je,et,tt=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?O(e.name,t.name):i},t.prototype.isDefinedOn=function(e){return!e.getPriority().isEmpty()},t.prototype.indexedValueChanged=function(e,t){return!e.getPriority().equals(t.getPriority())},t.prototype.minPost=function(){return je.MIN},t.prototype.maxPost=function(){return new je(P,new Ze("[PRIORITY-POST]",$e))},t.prototype.makePost=function(e,t){var n=Ye(e);return new je(t,new Ze("[PRIORITY-POST]",n))},t.prototype.toString=function(){return".priority"},t}(Fe),nt=new tt,rt=Math.log(2),it=function(){function e(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/rt,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=e+1&r}return e.prototype.nextBitIsOne=function(){var e=!(this.bits_&1<<this.current_);return this.current_--,e},e}(),ot=function(e,t,n,r){e.sort(t);var i=function(t,r){var o,a,s=r-t;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new Ve(a,o.node,Ve.BLACK,null,null);var u=parseInt(s/2,10)+t,c=i(t,u),l=i(u+1,r);return o=e[u],a=n?n(o):o,new Ve(a,o.node,Ve.BLACK,c,l)},o=function(t){for(var r=null,o=null,a=e.length,s=function(t,r){var o=a-t,s=a;a-=t;var c=i(o+1,s),l=e[o],f=n?n(l):l;u(new Ve(f,l.node,r,null,c))},u=function(e){r?(r.left=e,r=e):(o=e,r=e)},c=0;c<t.count;++c){var l=t.nextBitIsOne(),f=Math.pow(2,t.count-(c+1));l?s(f,Ve.BLACK):(s(f,Ve.BLACK),s(f,Ve.RED))}return o}(new it(e.length));return new We(r||t,o)},at={},st=function(){function e(e,t){this.indexes_=e,this.indexSet_=t}return Object.defineProperty(e,"Default",{get:function(){return(0,o.assert)(at&&nt,"ChildrenNode.ts has not been loaded"),Je=Je||new e({".priority":at},{".priority":nt})},enumerable:!1,configurable:!0}),e.prototype.get=function(e){var t=(0,o.safeGet)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof We?t:null},e.prototype.hasIndex=function(e){return(0,o.contains)(this.indexSet_,e.toString())},e.prototype.addIndex=function(t,n){(0,o.assert)(t!==qe,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],s=!1,u=n.getIterator(je.Wrap),c=u.getNext();c;)s=s||t.isDefinedOn(c.node),i.push(c),c=u.getNext();r=s?ot(i,t.getCompare()):at;var l=t.toString(),f=(0,a.__assign)({},this.indexSet_);f[l]=t;var h=(0,a.__assign)({},this.indexes_);return h[l]=r,new e(h,f)},e.prototype.addToIndexes=function(t,n){var r=this;return new e((0,o.map)(this.indexes_,(function(e,i){var a=(0,o.safeGet)(r.indexSet_,i);if((0,o.assert)(a,"Missing index implementation for "+i),e===at){if(a.isDefinedOn(t.node)){for(var s=[],u=n.getIterator(je.Wrap),c=u.getNext();c;)c.name!==t.name&&s.push(c),c=u.getNext();return s.push(t),ot(s,a.getCompare())}return at}var l=n.get(t.name),f=e;return l&&(f=f.remove(new je(t.name,l))),f.insert(t,t.node)})),this.indexSet_)},e.prototype.removeFromIndexes=function(t,n){return new e((0,o.map)(this.indexes_,(function(e){if(e===at)return e;var r=n.get(t.name);return r?e.remove(new je(t.name,r)):e})),this.indexSet_)},e}(),ut=function(){function e(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Qe(this.priorityNode_),this.children_.isEmpty()&&(0,o.assert)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(e,"EMPTY_NODE",{get:function(){return et||(et=new e(new We(Ge),null,st.Default))},enumerable:!1,configurable:!0}),e.prototype.isLeafNode=function(){return!1},e.prototype.getPriority=function(){return this.priorityNode_||et},e.prototype.updatePriority=function(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)},e.prototype.getImmediateChild=function(e){if(".priority"===e)return this.getPriority();var t=this.children_.get(e);return null===t?et:t},e.prototype.getChild=function(e){var t=me(e);return null===t?this:this.getImmediateChild(t).getChild(_e(e))},e.prototype.hasChild=function(e){return null!==this.children_.get(e)},e.prototype.updateImmediateChild=function(t,n){if((0,o.assert)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);var r=new je(t,n),i=void 0,a=void 0;n.isEmpty()?(i=this.children_.remove(t),a=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),a=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?et:this.priorityNode_;return new e(i,s,a)},e.prototype.updateChild=function(e,t){var n=me(e);if(null===n)return t;(0,o.assert)(".priority"!==me(e)||1===ye(e),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(_e(e),t);return this.updateImmediateChild(n,r)},e.prototype.isEmpty=function(){return this.children_.isEmpty()},e.prototype.numChildren=function(){return this.children_.count()},e.prototype.val=function(t){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(nt,(function(a,s){n[a]=s.val(t),r++,o&&e.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1})),!t&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},e.prototype.hash=function(){if(null===this.lazyHash_){var e="";this.getPriority().isEmpty()||(e+="priority:"+Xe(this.getPriority().val())+":"),this.forEachChild(nt,(function(t,n){var r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":y(e)}return this.lazyHash_},e.prototype.getPredecessorChildName=function(e,t,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new je(e,t));return i?i.name:null}return this.children_.getPredecessorKey(e)},e.prototype.getFirstChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.minKey();return n&&n.name}return this.children_.minKey()},e.prototype.getFirstChild=function(e){var t=this.getFirstChildName(e);return t?new je(t,this.children_.get(t)):null},e.prototype.getLastChildName=function(e){var t=this.resolveIndex_(e);if(t){var n=t.maxKey();return n&&n.name}return this.children_.maxKey()},e.prototype.getLastChild=function(e){var t=this.getLastChildName(e);return t?new je(t,this.children_.get(t)):null},e.prototype.forEachChild=function(e,t){var n=this.resolveIndex_(e);return n?n.inorderTraversal((function(e){return t(e.name,e.node)})):this.children_.inorderTraversal(t)},e.prototype.getIterator=function(e){return this.getIteratorFrom(e.minPost(),e)},e.prototype.getIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getIteratorFrom(e.name,je.Wrap),i=r.peek();null!=i&&t.compare(i,e)<0;)r.getNext(),i=r.peek();return r},e.prototype.getReverseIterator=function(e){return this.getReverseIteratorFrom(e.maxPost(),e)},e.prototype.getReverseIteratorFrom=function(e,t){var n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(function(e){return e}));for(var r=this.children_.getReverseIteratorFrom(e.name,je.Wrap),i=r.peek();null!=i&&t.compare(i,e)>0;)r.getNext(),i=r.peek();return r},e.prototype.compareTo=function(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ct?-1:0},e.prototype.withIndex=function(t){if(t===qe||this.indexMap_.hasIndex(t))return this;var n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)},e.prototype.isIndexed=function(e){return e===qe||this.indexMap_.hasIndex(e)},e.prototype.equals=function(e){if(e===this)return!0;if(e.isLeafNode())return!1;var t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){for(var n=this.getIterator(nt),r=t.getIterator(nt),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},e.prototype.resolveIndex_=function(e){return e===qe?null:this.indexMap_.get(e.toString())},e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e}(),ct=new(function(e){function t(){return e.call(this,new We(Ge),ut.EMPTY_NODE,st.Default)||this}return(0,a.__extends)(t,e),t.prototype.compareTo=function(e){return e===this?0:1},t.prototype.equals=function(e){return e===this},t.prototype.getPriority=function(){return this},t.prototype.getImmediateChild=function(e){return ut.EMPTY_NODE},t.prototype.isEmpty=function(){return!1},t}(ut));Object.defineProperties(je,{MIN:{value:new je(A,ut.EMPTY_NODE)},MAX:{value:new je(P,ct)}}),Ue.__EMPTY_NODE=ut.EMPTY_NODE,Ze.__childrenNodeConstructor=ut,Re=ct,function(e){$e=e}(ct);function lt(e,t){if(void 0===t&&(t=null),null===e)return ut.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),(0,o.assert)(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e)return new Ze(e,lt(t));if(e instanceof Array){var n=ut.EMPTY_NODE;return L(e,(function(t,r){if((0,o.contains)(e,t)&&"."!==t.substring(0,1)){var i=lt(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}})),n.updatePriority(lt(t))}var r=[],i=!1;if(L(e,(function(e,t){if("."!==e.substring(0,1)){var n=lt(t);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new je(e,n)))}})),0===r.length)return ut.EMPTY_NODE;var a=ot(r,Ke,(function(e){return e.name}),Ge);if(i){var s=ot(r,nt.getCompare());return new ut(a,lt(t),new st({".priority":s},{".priority":nt}))}return new ut(a,lt(t),st.Default)}!function(e){Ye=e}(lt);var ft=function(e){function t(t){var n=e.call(this)||this;return n.indexPath_=t,(0,o.assert)(!Se(t)&&".priority"!==me(t),"Can't create PathIndex with empty path or .priority key"),n}return(0,a.__extends)(t,e),t.prototype.extractChild=function(e){return e.getChild(this.indexPath_)},t.prototype.isDefinedOn=function(e){return!e.getChild(this.indexPath_).isEmpty()},t.prototype.compare=function(e,t){var n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?O(e.name,t.name):i},t.prototype.makePost=function(e,t){var n=lt(e),r=ut.EMPTY_NODE.updateChild(this.indexPath_,n);return new je(t,r)},t.prototype.maxPost=function(){var e=ut.EMPTY_NODE.updateChild(this.indexPath_,ct);return new je(P,e)},t.prototype.toString=function(){return we(this.indexPath_,0).join("/")},t}(Fe),ht=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype.compare=function(e,t){var n=e.node.compareTo(t.node);return 0===n?O(e.name,t.name):n},t.prototype.isDefinedOn=function(e){return!0},t.prototype.indexedValueChanged=function(e,t){return!e.equals(t)},t.prototype.minPost=function(){return je.MIN},t.prototype.maxPost=function(){return je.MAX},t.prototype.makePost=function(e,t){var n=lt(e);return new je(t,n)},t.prototype.toString=function(){return".value"},t}(Fe),dt=new ht,pt="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",vt=function(){var e=0,t=[];return function(n){var r,i=n===e;e=n;var a=new Array(8);for(r=7;r>=0;r--)a[r]=pt.charAt(n%64),n=Math.floor(n/64);(0,o.assert)(0===n,"Cannot push at time == 0");var s=a.join("");if(i){for(r=11;r>=0&&63===t[r];r--)t[r]=0;t[r]++}else for(r=0;r<12;r++)t[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)s+=pt.charAt(t[r]);return(0,o.assert)(20===s.length,"nextPushId: Length should be 20."),s}}(),gt=function(e){if("2147483647"===e)return"-";var t=B(e);if(null!=t)return""+(t+1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);if(n.length<786)return n.push("-"),n.join("");for(var i=n.length-1;i>=0&&"z"===n[i];)i--;if(-1===i)return P;var o=n[i],a=pt.charAt(pt.indexOf(o)+1);return n[i]=a,n.slice(0,i+1).join("")},mt=function(e){if("-2147483648"===e)return A;var t=B(e);if(null!=t)return""+(t-1);for(var n=new Array(e.length),r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=pt.charAt(pt.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function yt(e){return{type:"value",snapshotNode:e}}function _t(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function bt(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function wt(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}var kt=function(){function e(e){this.index_=e}return e.prototype.updateChild=function(e,t,n,r,i,a){(0,o.assert)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=a&&(n.isEmpty()?e.hasChild(t)?a.trackChildChange(bt(t,s)):(0,o.assert)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(_t(t,n)):a.trackChildChange(wt(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))},e.prototype.updateFullNode=function(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(nt,(function(e,r){t.hasChild(e)||n.trackChildChange(bt(e,r))})),t.isLeafNode()||t.forEachChild(nt,(function(t,r){if(e.hasChild(t)){var i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(wt(t,r,i))}else n.trackChildChange(_t(t,r))}))),t.withIndex(this.index_)},e.prototype.updatePriority=function(e,t){return e.isEmpty()?ut.EMPTY_NODE:e.updatePriority(t)},e.prototype.filtersNodes=function(){return!1},e.prototype.getIndexedFilter=function(){return this},e.prototype.getIndex=function(){return this.index_},e}(),It=function(){function e(t){this.indexedFilter_=new kt(t.getIndex()),this.index_=t.getIndex(),this.startPost_=e.getStartPost_(t),this.endPost_=e.getEndPost_(t)}return e.prototype.getStartPost=function(){return this.startPost_},e.prototype.getEndPost=function(){return this.endPost_},e.prototype.matches=function(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0},e.prototype.updateChild=function(e,t,n,r,i,o){return this.matches(new je(t,n))||(n=ut.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)},e.prototype.updateFullNode=function(e,t,n){t.isLeafNode()&&(t=ut.EMPTY_NODE);var r=t.withIndex(this.index_);r=r.updatePriority(ut.EMPTY_NODE);var i=this;return t.forEachChild(nt,(function(e,t){i.matches(new je(e,t))||(r=r.updateImmediateChild(e,ut.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.indexedFilter_},e.prototype.getIndex=function(){return this.index_},e.getStartPost_=function(e){if(e.hasStart()){var t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()},e.getEndPost_=function(e){if(e.hasEnd()){var t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()},e}(),St=function(){function e(e){this.rangedFilter_=new It(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}return e.prototype.updateChild=function(e,t,n,r,i,o){return this.rangedFilter_.matches(new je(t,n))||(n=ut.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)},e.prototype.updateFullNode=function(e,t,n){var r;if(t.isLeafNode()||t.isEmpty())r=ut.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){r=ut.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=(r=t.withIndex(this.index_)).updatePriority(ut.EMPTY_NODE);var s=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),s=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(e,t){return l(t,e)}}else i=r.getIterator(this.index_),s=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var f=!1;i.hasNext();){a=i.getNext();!f&&c(s,a)<=0&&(f=!0),f&&o<this.limit_&&c(a,u)<=0?o++:r=r.updateImmediateChild(a.name,ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)},e.prototype.updatePriority=function(e,t){return e},e.prototype.filtersNodes=function(){return!0},e.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},e.prototype.getIndex=function(){return this.index_},e.prototype.fullLimitUpdateChild_=function(e,t,n,r,i){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(e,t){return s(t,e)}}else a=this.index_.getCompare();var u=e;(0,o.assert)(u.numChildren()===this.limit_,"");var c=new je(t,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(u.hasChild(t)){for(var h=u.getImmediateChild(t),d=r.getChildAfterChild(this.index_,l,this.reverse_);null!=d&&(d.name===t||u.hasChild(d.name));)d=r.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c);if(f&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(wt(t,n,h)),u.updateImmediateChild(t,n);null!=i&&i.trackChildChange(bt(t,h));var v=u.updateImmediateChild(t,ut.EMPTY_NODE);return null!=d&&this.rangedFilter_.matches(d)?(null!=i&&i.trackChildChange(_t(d.name,d.node)),v.updateImmediateChild(d.name,d.node)):v}return n.isEmpty()?e:f&&a(l,c)>=0?(null!=i&&(i.trackChildChange(bt(l.name,l.node)),i.trackChildChange(_t(t,n))),u.updateImmediateChild(t,n).updateImmediateChild(l.name,ut.EMPTY_NODE)):e},e}(),Tt=function(){function e(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nt}return e.prototype.hasStart=function(){return this.startSet_},e.prototype.hasStartAfter=function(){return this.startAfterSet_},e.prototype.hasEndBefore=function(){return this.endBeforeSet_},e.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_},e.prototype.getIndexStartValue=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},e.prototype.getIndexStartName=function(){return(0,o.assert)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:A},e.prototype.hasEnd=function(){return this.endSet_},e.prototype.getIndexEndValue=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},e.prototype.getIndexEndName=function(){return(0,o.assert)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:P},e.prototype.hasLimit=function(){return this.limitSet_},e.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},e.prototype.getLimit=function(){return(0,o.assert)(this.limitSet_,"Only valid if limit has been set"),this.limit_},e.prototype.getIndex=function(){return this.index_},e.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},e.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===nt},e.prototype.copy=function(){var t=new e;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t},e}();function Et(e,t,n){var r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function Ct(e,t,n){var r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function xt(e,t){var n=e.copy();return n.index_=t,n}function At(e){var t,n={};return e.isDefault()||(e.index_===nt?t="$priority":e.index_===dt?t="$value":e.index_===qe?t="$key":((0,o.assert)(e.index_ instanceof ft,"Unrecognized index type!"),t=e.index_.toString()),n.orderBy=(0,o.stringify)(t),e.startSet_&&(n.startAt=(0,o.stringify)(e.indexStartValue_),e.startNameSet_&&(n.startAt+=","+(0,o.stringify)(e.indexStartName_))),e.endSet_&&(n.endAt=(0,o.stringify)(e.indexEndValue_),e.endNameSet_&&(n.endAt+=","+(0,o.stringify)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?n.limitToFirst=e.limit_:n.limitToLast=e.limit_)),n}function Pt(e){var t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;var n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==nt&&(t.i=e.index_.toString()),t}var Ot=function(e){function t(t,n,r,i){var o=e.call(this)||this;return o.repoInfo_=t,o.onDataUpdate_=n,o.authTokenProvider_=r,o.appCheckTokenProvider_=i,o.log_=S("p:rest:"),o.listens_={},o}return(0,a.__extends)(t,e),t.prototype.reportStats=function(e){throw new Error("Method not implemented.")},t.getListenId_=function(e,t){return void 0!==t?"tag$"+t:((0,o.assert)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())},t.prototype.listen=function(e,n,r,i){var a=this,s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);var u=t.getListenId_(e,r),c={};this.listens_[u]=c;var l=At(e._queryParams);this.restRequest_(s+".json",l,(function(e,t){var n=t;(404===e&&(n=null,e=null),null===e&&a.onDataUpdate_(s,n,!1,r),(0,o.safeGet)(a.listens_,u)===c)&&i(e?401===e?"permission_denied":"rest_error:"+e:"ok",null)}))},t.prototype.unlisten=function(e,n){var r=t.getListenId_(e,n);delete this.listens_[r]},t.prototype.get=function(e){var t=this,n=At(e._queryParams),r=e._path.toString(),i=new o.Deferred;return this.restRequest_(r+".json",n,(function(e,n){var o=n;404===e&&(o=null,e=null),null===e?(t.onDataUpdate_(r,o,!1,null),i.resolve(o)):i.reject(new Error(o))})),i.promise},t.prototype.refreshAuthToken=function(e){},t.prototype.restRequest_=function(e,t,n){var r=this;return void 0===t&&(t={}),t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((function(i){var s=(0,a.__read)(i,2),u=s[0],c=s[1];u&&u.accessToken&&(t.auth=u.accessToken),c&&c.token&&(t.ac=c.token);var l=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+e+"?ns="+r.repoInfo_.namespace+(0,o.querystring)(t);r.log_("Sending REST request for "+l);var f=new XMLHttpRequest;f.onreadystatechange=function(){if(n&&4===f.readyState){r.log_("REST Response for "+l+" received. status:",f.status,"response:",f.responseText);var e=null;if(f.status>=200&&f.status<300){try{e=(0,o.jsonEval)(f.responseText)}catch(t){C("Failed to parse JSON response for "+l+": "+f.responseText)}n(null,e)}else 401!==f.status&&404!==f.status&&C("Got unsuccessful REST response for "+l+" Status: "+f.status),n(f.status);n=null}},f.open("GET",l,!0),f.send()}))},t}(he),Nt=function(){function e(){this.rootNode_=ut.EMPTY_NODE}return e.prototype.getNode=function(e){return this.rootNode_.getChild(e)},e.prototype.updateSnapshot=function(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)},e}();function Rt(){return{value:null,children:new Map}}function Dt(e,t,n){if(Se(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{var r=me(t);e.children.has(r)||e.children.set(r,Rt()),Dt(e.children.get(r),t=_e(t),n)}}function Mt(e,t){if(Se(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;var n=e.value;return e.value=null,n.forEachChild(nt,(function(t,n){Dt(e,new ve(t),n)})),Mt(e,t)}if(e.children.size>0){var r=me(t);if(t=_e(t),e.children.has(r))Mt(e.children.get(r),t)&&e.children.delete(r);return 0===e.children.size}return!0}function Lt(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((function(e,n){t(n,e)}))}(e,(function(e,r){Lt(r,new ve(t.toString()+"/"+e),n)}))}var jt,Ft=function(){function e(e){this.collection_=e,this.last_=null}return e.prototype.get=function(){var e=this.collection_.get(),t=(0,a.__assign)({},e);return this.last_&&L(this.last_,(function(e,n){t[e]=t[e]-n})),this.last_=e,t},e}(),Ut=function(){function e(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Ft(e);var n=1e4+2e4*Math.random();z(this.reportStats_.bind(this),Math.floor(n))}return e.prototype.reportStats_=function(){var e=this,t=this.statsListener_.get(),n={},r=!1;L(t,(function(t,i){i>0&&(0,o.contains)(e.statsToReport_,t)&&(n[t]=i,r=!0)})),r&&this.server_.reportStats(n),z(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},e}();function qt(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(jt||(jt={}));var Bt,Vt=function(){function e(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=jt.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}return e.prototype.operationForChild=function(t){if(Se(this.path)){if(null!=this.affectedTree.value)return(0,o.assert)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ve(t));return new e(ge(),n,this.revert)}return(0,o.assert)(me(this.path)===t,"operationForChild called for unrelated child."),new e(_e(this.path),this.affectedTree,this.revert)},e}(),zt=function(){function e(e,t){this.source=e,this.path=t,this.type=jt.LISTEN_COMPLETE}return e.prototype.operationForChild=function(t){return Se(this.path)?new e(this.source,ge()):new e(this.source,_e(this.path))},e}(),Wt=function(){function e(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=jt.OVERWRITE}return e.prototype.operationForChild=function(t){return Se(this.path)?new e(this.source,ge(),this.snap.getImmediateChild(t)):new e(this.source,_e(this.path),this.snap)},e}(),Kt=function(){function e(e,t,n){this.source=e,this.path=t,this.children=n,this.type=jt.MERGE}return e.prototype.operationForChild=function(t){if(Se(this.path)){var n=this.children.subtree(new ve(t));return n.isEmpty()?null:n.value?new Wt(this.source,ge(),n.value):new e(this.source,ge(),n)}return(0,o.assert)(me(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new e(this.source,_e(this.path),this.children)},e.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},e}(),Gt=function(){function e(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}return e.prototype.isFullyInitialized=function(){return this.fullyInitialized_},e.prototype.isFiltered=function(){return this.filtered_},e.prototype.isCompleteForPath=function(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;var t=me(e);return this.isCompleteForChild(t)},e.prototype.isCompleteForChild=function(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)},e.prototype.getNode=function(){return this.node_},e}(),Ht=function(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()};function Yt(e,t,n,r,i,a){var s=r.filter((function(e){return e.type===n}));s.sort((function(t,n){return function(e,t,n){if(null==t.childName||null==n.childName)throw(0,o.assertionError)("Should only compare child_ events.");var r=new je(t.childName,t.snapshotNode),i=new je(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)})),s.forEach((function(n){var r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,a);i.forEach((function(i){i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function $t(e,t){return{eventCache:e,serverCache:t}}function Xt(e,t,n,r){return $t(new Gt(t,n,r),e.serverCache)}function Qt(e,t,n,r){return $t(e.eventCache,new Gt(t,n,r))}function Zt(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Jt(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}var en=function(){function e(e,t){void 0===t&&(Bt||(Bt=new We(N)),t=Bt),this.value=e,this.children=t}return e.fromObject=function(t){var n=new e(null);return L(t,(function(e,t){n=n.set(new ve(e),t)})),n},e.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},e.prototype.findRootMostMatchingPathAndValue=function(e,t){if(null!=this.value&&t(this.value))return{path:ge(),value:this.value};if(Se(e))return null;var n=me(e),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(_e(e),t);return null!=i?{path:Ie(new ve(n),i.path),value:i.value}:null}return null},e.prototype.findRootMostValueAndPath=function(e){return this.findRootMostMatchingPathAndValue(e,(function(){return!0}))},e.prototype.subtree=function(t){if(Se(t))return this;var n=me(t),r=this.children.get(n);return null!==r?r.subtree(_e(t)):new e(null)},e.prototype.set=function(t,n){if(Se(t))return new e(n,this.children);var r=me(t),i=(this.children.get(r)||new e(null)).set(_e(t),n),o=this.children.insert(r,i);return new e(this.value,o)},e.prototype.remove=function(t){if(Se(t))return this.children.isEmpty()?new e(null):new e(null,this.children);var n=me(t),r=this.children.get(n);if(r){var i=r.remove(_e(t)),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?new e(null):new e(this.value,o)}return this},e.prototype.get=function(e){if(Se(e))return this.value;var t=me(e),n=this.children.get(t);return n?n.get(_e(e)):null},e.prototype.setTree=function(t,n){if(Se(t))return n;var r=me(t),i=(this.children.get(r)||new e(null)).setTree(_e(t),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new e(this.value,o)},e.prototype.fold=function(e){return this.fold_(ge(),e)},e.prototype.fold_=function(e,t){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(Ie(e,r),t)})),t(e,this.value,n)},e.prototype.findOnPath=function(e,t){return this.findOnPath_(e,ge(),t)},e.prototype.findOnPath_=function(e,t,n){var r=!!this.value&&n(t,this.value);if(r)return r;if(Se(e))return null;var i=me(e),o=this.children.get(i);return o?o.findOnPath_(_e(e),Ie(t,i),n):null},e.prototype.foreachOnPath=function(e,t){return this.foreachOnPath_(e,ge(),t)},e.prototype.foreachOnPath_=function(t,n,r){if(Se(t))return this;this.value&&r(n,this.value);var i=me(t),o=this.children.get(i);return o?o.foreachOnPath_(_e(t),Ie(n,i),r):new e(null)},e.prototype.foreach=function(e){this.foreach_(ge(),e)},e.prototype.foreach_=function(e,t){this.children.inorderTraversal((function(n,r){r.foreach_(Ie(e,n),t)})),this.value&&t(e,this.value)},e.prototype.foreachChild=function(e){this.children.inorderTraversal((function(t,n){n.value&&e(t,n.value)}))},e}(),tn=function(){function e(e){this.writeTree_=e}return e.empty=function(){return new e(new en(null))},e}();function nn(e,t,n){if(Se(t))return new tn(new en(n));var r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){var i=r.path,o=r.value,a=Te(i,t);return o=o.updateChild(a,n),new tn(e.writeTree_.set(i,o))}var s=new en(n),u=e.writeTree_.setTree(t,s);return new tn(u)}function rn(e,t,n){var r=e;return L(n,(function(e,n){r=nn(r,Ie(t,e),n)})),r}function on(e,t){if(Se(t))return tn.empty();var n=e.writeTree_.setTree(t,new en(null));return new tn(n)}function an(e,t){return null!=sn(e,t)}function sn(e,t){var n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Te(n.path,t)):null}function un(e){var t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(nt,(function(e,n){t.push(new je(e,n))})):e.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new je(e,n.value))})),t}function cn(e,t){if(Se(t))return e;var n=sn(e,t);return new tn(null!=n?new en(n):e.writeTree_.subtree(t))}function ln(e){return e.writeTree_.isEmpty()}function fn(e,t){return hn(ge(),e.writeTree_,t)}function hn(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);var r=null;return t.children.inorderTraversal((function(t,i){".priority"===t?((0,o.assert)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=hn(Ie(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Ie(e,".priority"),r)),n}function dn(e,t){return En(t,e)}function pn(e,t){var n=e.allWrites.findIndex((function(e){return e.writeId===t}));(0,o.assert)(n>=0,"removeWrite called with nonexistent writeId.");var r=e.allWrites[n];e.allWrites.splice(n,1);for(var i=r.visible,a=!1,s=e.allWrites.length-1;i&&s>=0;){var u=e.allWrites[s];u.visible&&(s>=n&&vn(u,r.path)?i=!1:xe(r.path,u.path)&&(a=!0)),s--}if(i){if(a)return function(e){e.visibleWrites=mn(e.allWrites,gn,ge()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;r.snap?e.visibleWrites=on(e.visibleWrites,r.path):L(r.children,(function(t){e.visibleWrites=on(e.visibleWrites,Ie(r.path,t))}));return!0}return!1}function vn(e,t){if(e.snap)return xe(e.path,t);for(var n in e.children)if(e.children.hasOwnProperty(n)&&xe(Ie(e.path,n),t))return!0;return!1}function gn(e){return e.visible}function mn(e,t,n){for(var r=tn.empty(),i=0;i<e.length;++i){var a=e[i];if(t(a)){var s=a.path,u=void 0;if(a.snap)xe(n,s)?r=nn(r,u=Te(n,s),a.snap):xe(s,n)&&(u=Te(s,n),r=nn(r,ge(),a.snap.getChild(u)));else{if(!a.children)throw(0,o.assertionError)("WriteRecord should have .snap or .children");if(xe(n,s))r=rn(r,u=Te(n,s),a.children);else if(xe(s,n))if(Se(u=Te(s,n)))r=rn(r,ge(),a.children);else{var c=(0,o.safeGet)(a.children,me(u));if(c){var l=c.getChild(_e(u));r=nn(r,ge(),l)}}}}}return r}function yn(e,t,n,r,i){if(r||i){var o=cn(e.visibleWrites,t);if(!i&&ln(o))return n;if(i||null!=n||an(o,ge())){return fn(mn(e.allWrites,(function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(xe(e.path,t)||xe(t,e.path))}),t),n||ut.EMPTY_NODE)}return null}var a=sn(e.visibleWrites,t);if(null!=a)return a;var s=cn(e.visibleWrites,t);return ln(s)?n:null!=n||an(s,ge())?fn(s,n||ut.EMPTY_NODE):null}function _n(e,t,n,r){return yn(e.writeTree,e.treePath,t,n,r)}function bn(e,t){return function(e,t,n){var r=ut.EMPTY_NODE,i=sn(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(nt,(function(e,t){r=r.updateImmediateChild(e,t)})),r;if(n){var o=cn(e.visibleWrites,t);return n.forEachChild(nt,(function(e,t){var n=fn(cn(o,new ve(e)),t);r=r.updateImmediateChild(e,n)})),un(o).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}return un(cn(e.visibleWrites,t)).forEach((function(e){r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function wn(e,t,n,r){return function(e,t,n,r,i){(0,o.assert)(r||i,"Either existingEventSnap or existingServerSnap must exist");var a=Ie(t,n);if(an(e.visibleWrites,a))return null;var s=cn(e.visibleWrites,a);return ln(s)?i.getChild(n):fn(s,i.getChild(n))}(e.writeTree,e.treePath,t,n,r)}function kn(e,t){return function(e,t){return sn(e.visibleWrites,t)}(e.writeTree,Ie(e.treePath,t))}function In(e,t,n,r,i,o){return function(e,t,n,r,i,o,a){var s,u=cn(e.visibleWrites,t),c=sn(u,ge());if(null!=c)s=c;else{if(null==n)return[];s=fn(u,n)}if((s=s.withIndex(a)).isEmpty()||s.isLeafNode())return[];for(var l=[],f=a.getCompare(),h=o?s.getReverseIteratorFrom(r,a):s.getIteratorFrom(r,a),d=h.getNext();d&&l.length<i;)0!==f(d,r)&&l.push(d),d=h.getNext();return l}(e.writeTree,e.treePath,t,n,r,i,o)}function Sn(e,t,n){return function(e,t,n,r){var i=Ie(t,n),o=sn(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?fn(cn(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function Tn(e,t){return En(Ie(e.treePath,t),e.writeTree)}function En(e,t){return{treePath:e,writeTree:t}}var Cn=function(){function e(){this.changeMap=new Map}return e.prototype.trackChildChange=function(e){var t=e.type,n=e.childName;(0,o.assert)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,o.assert)(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,wt(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,bt(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,_t(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,o.assertionError)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,wt(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)},e.prototype.getChanges=function(){return Array.from(this.changeMap.values())},e}(),xn=new(function(){function e(){}return e.prototype.getCompleteChild=function(e){return null},e.prototype.getChildAfterChild=function(e,t,n){return null},e}()),An=function(){function e(e,t,n){void 0===n&&(n=null),this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}return e.prototype.getCompleteChild=function(e){var t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);var n=null!=this.optCompleteServerCache_?new Gt(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Sn(this.writes_,e,n)},e.prototype.getChildAfterChild=function(e,t,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Jt(this.viewCache_),i=In(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]},e}();function Pn(e,t,n,r,i){var a,s,u=new Cn;if(n.type===jt.OVERWRITE){var c=n;c.source.fromUser?a=Rn(e,t,c.path,c.snap,r,i,u):((0,o.assert)(c.source.fromServer,"Unknown source."),s=c.source.tagged||t.serverCache.isFiltered()&&!Se(c.path),a=Nn(e,t,c.path,c.snap,r,i,s,u))}else if(n.type===jt.MERGE){var l=n;l.source.fromUser?a=function(e,t,n,r,i,o,a){var s=t;return r.foreach((function(r,u){var c=Ie(n,r);Dn(t,me(c))&&(s=Rn(e,s,c,u,i,o,a))})),r.foreach((function(r,u){var c=Ie(n,r);Dn(t,me(c))||(s=Rn(e,s,c,u,i,o,a))})),s}(e,t,l.path,l.children,r,i,u):((0,o.assert)(l.source.fromServer,"Unknown source."),s=l.source.tagged||t.serverCache.isFiltered(),a=Ln(e,t,l.path,l.children,r,i,s,u))}else if(n.type===jt.ACK_USER_WRITE){var f=n;a=f.revert?function(e,t,n,r,i,a){var s;if(null!=kn(r,n))return t;var u=new An(r,t,i),c=t.eventCache.getNode(),l=void 0;if(Se(n)||".priority"===me(n)){var f=void 0;if(t.serverCache.isFullyInitialized())f=_n(r,Jt(t));else{var h=t.serverCache.getNode();(0,o.assert)(h instanceof ut,"serverChildren would be complete if leaf node"),f=bn(r,h)}f=f,l=e.filter.updateFullNode(c,f,a)}else{var d=me(n),p=Sn(r,d,t.serverCache);null==p&&t.serverCache.isCompleteForChild(d)&&(p=c.getImmediateChild(d)),(l=null!=p?e.filter.updateChild(c,d,p,_e(n),u,a):t.eventCache.getNode().hasChild(d)?e.filter.updateChild(c,d,ut.EMPTY_NODE,_e(n),u,a):c).isEmpty()&&t.serverCache.isFullyInitialized()&&(s=_n(r,Jt(t))).isLeafNode()&&(l=e.filter.updateFullNode(l,s,a))}return s=t.serverCache.isFullyInitialized()||null!=kn(r,ge()),Xt(t,l,s,e.filter.filtersNodes())}(e,t,f.path,r,i,u):function(e,t,n,r,i,o,a){if(null!=kn(i,n))return t;var s=t.serverCache.isFiltered(),u=t.serverCache;if(null!=r.value){if(Se(n)&&u.isFullyInitialized()||u.isCompleteForPath(n))return Nn(e,t,n,u.getNode().getChild(n),i,o,s,a);if(Se(n)){var c=new en(null);return u.getNode().forEachChild(qe,(function(e,t){c=c.set(new ve(e),t)})),Ln(e,t,n,c,i,o,s,a)}return t}var l=new en(null);return r.foreach((function(e,t){var r=Ie(n,e);u.isCompleteForPath(r)&&(l=l.set(e,u.getNode().getChild(r)))})),Ln(e,t,n,l,i,o,s,a)}(e,t,f.path,f.affectedTree,r,i,u)}else{if(n.type!==jt.LISTEN_COMPLETE)throw(0,o.assertionError)("Unknown operation type: "+n.type);a=function(e,t,n,r,i){var o=t.serverCache,a=Qt(t,o.getNode(),o.isFullyInitialized()||Se(n),o.isFiltered());return On(e,a,n,r,xn,i)}(e,t,n.path,r,u)}var h=u.getChanges();return function(e,t,n){var r=t.eventCache;if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=Zt(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(yt(Zt(t)))}}(t,a,h),{viewCache:a,changes:h}}function On(e,t,n,r,i,a){var s=t.eventCache;if(null!=kn(r,n))return t;var u=void 0,c=void 0;if(Se(n))if((0,o.assert)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){var l=Jt(t),f=bn(r,l instanceof ut?l:ut.EMPTY_NODE);u=e.filter.updateFullNode(t.eventCache.getNode(),f,a)}else{var h=_n(r,Jt(t));u=e.filter.updateFullNode(t.eventCache.getNode(),h,a)}else{var d=me(n);if(".priority"===d){(0,o.assert)(1===ye(n),"Can't have a priority with additional path components");var p=s.getNode(),v=wn(r,n,p,c=t.serverCache.getNode());u=null!=v?e.filter.updatePriority(p,v):s.getNode()}else{var g=_e(n),m=void 0;if(s.isCompleteForChild(d)){c=t.serverCache.getNode();var y=wn(r,n,s.getNode(),c);m=null!=y?s.getNode().getImmediateChild(d).updateChild(g,y):s.getNode().getImmediateChild(d)}else m=Sn(r,d,t.serverCache);u=null!=m?e.filter.updateChild(s.getNode(),d,m,g,i,a):s.getNode()}}return Xt(t,u,s.isFullyInitialized()||Se(n),e.filter.filtersNodes())}function Nn(e,t,n,r,i,o,a,s){var u,c=t.serverCache,l=a?e.filter:e.filter.getIndexedFilter();if(Se(n))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){var f=c.getNode().updateChild(n,r);u=l.updateFullNode(c.getNode(),f,null)}else{var h=me(n);if(!c.isCompleteForPath(n)&&ye(n)>1)return t;var d=_e(n),p=c.getNode().getImmediateChild(h).updateChild(d,r);u=".priority"===h?l.updatePriority(c.getNode(),p):l.updateChild(c.getNode(),h,p,d,xn,null)}var v=Qt(t,u,c.isFullyInitialized()||Se(n),l.filtersNodes());return On(e,v,n,i,new An(i,v,o),s)}function Rn(e,t,n,r,i,o,a){var s,u,c=t.eventCache,l=new An(i,t,o);if(Se(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,a),s=Xt(t,u,!0,e.filter.filtersNodes());else{var f=me(n);if(".priority"===f)u=e.filter.updatePriority(t.eventCache.getNode(),r),s=Xt(t,u,c.isFullyInitialized(),c.isFiltered());else{var h=_e(n),d=c.getNode().getImmediateChild(f),p=void 0;if(Se(h))p=r;else{var v=l.getCompleteChild(f);p=null!=v?".priority"===be(h)&&v.getChild(ke(h)).isEmpty()?v:v.updateChild(h,r):ut.EMPTY_NODE}if(d.equals(p))s=t;else s=Xt(t,e.filter.updateChild(c.getNode(),f,p,h,l,a),c.isFullyInitialized(),e.filter.filtersNodes())}}return s}function Dn(e,t){return e.eventCache.isCompleteForChild(t)}function Mn(e,t,n){return n.foreach((function(e,n){t=t.updateChild(e,n)})),t}function Ln(e,t,n,r,i,o,a,s){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;var u,c=t;u=Se(n)?r:new en(null).setTree(n,r);var l=t.serverCache.getNode();return u.children.inorderTraversal((function(n,r){if(l.hasChild(n)){var u=Mn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Nn(e,c,new ve(n),u,i,o,a,s)}})),u.children.inorderTraversal((function(n,r){var u=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!l.hasChild(n)&&!u){var f=Mn(0,t.serverCache.getNode().getImmediateChild(n),r);c=Nn(e,c,new ve(n),f,i,o,a,s)}})),c}var jn,Fn=function(){function e(e,t){this.query_=e,this.eventRegistrations_=[];var n,r=this.query_._queryParams,i=new kt(r.getIndex()),o=(n=r).loadsAllData()?new kt(n.getIndex()):n.hasLimit()?new St(n):new It(n);this.processor_=function(e){return{filter:e}}(o);var a=t.serverCache,s=t.eventCache,u=i.updateFullNode(ut.EMPTY_NODE,a.getNode(),null),c=o.updateFullNode(ut.EMPTY_NODE,s.getNode(),null),l=new Gt(u,a.isFullyInitialized(),i.filtersNodes()),f=new Gt(c,s.isFullyInitialized(),o.filtersNodes());this.viewCache_=$t(f,l),this.eventGenerator_=new Ht(this.query_)}return Object.defineProperty(e.prototype,"query",{get:function(){return this.query_},enumerable:!1,configurable:!0}),e}();function Un(e,t){var n=Jt(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Se(t)&&!n.getImmediateChild(me(t)).isEmpty())?n.getChild(t):null}function qn(e){return 0===e.eventRegistrations_.length}function Bn(e,t,n){var r=[];if(n){(0,o.assert)(null==t,"A cancel should cancel all event registrations.");var i=e.query._path;e.eventRegistrations_.forEach((function(e){var t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){for(var a=[],s=0;s<e.eventRegistrations_.length;++s){var u=e.eventRegistrations_[s];if(u.matches(t)){if(t.hasAnyCallback()){a=a.concat(e.eventRegistrations_.slice(s+1));break}}else a.push(u)}e.eventRegistrations_=a}else e.eventRegistrations_=[];return r}function Vn(e,t,n,r){t.type===jt.MERGE&&null!==t.source.queryId&&((0,o.assert)(Jt(e.viewCache_),"We should always have a full cache before handling merges"),(0,o.assert)(Zt(e.viewCache_),"Missing event cache, even though we have a server cache"));var i,a,s=e.viewCache_,u=Pn(e.processor_,s,t,n,r);return i=e.processor_,a=u.viewCache,(0,o.assert)(a.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),(0,o.assert)(a.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed"),(0,o.assert)(u.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=u.viewCache,zn(e,u.changes,u.viewCache.eventCache.getNode(),null)}function zn(e,t,n,r){var i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){var i=[],o=[];return t.forEach((function(t){var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),Yt(e,i,"child_removed",t,r,n),Yt(e,i,"child_added",t,r,n),Yt(e,i,"child_moved",o,r,n),Yt(e,i,"child_changed",t,r,n),Yt(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}var Wn,Kn=function(){this.views=new Map};function Gn(e,t,n,r){var i,s,u=t.source.queryId;if(null!==u){var c=e.views.get(u);return(0,o.assert)(null!=c,"SyncTree gave us an op for an invalid query."),Vn(c,t,n,r)}var l=[];try{for(var f=(0,a.__values)(e.views.values()),h=f.next();!h.done;h=f.next()){c=h.value;l=l.concat(Vn(c,t,n,r))}}catch(d){i={error:d}}finally{try{h&&!h.done&&(s=f.return)&&s.call(f)}finally{if(i)throw i.error}}return l}function Hn(e,t,n,r,i){var o=t._queryIdentifier,a=e.views.get(o);if(!a){var s=_n(n,i?r:null),u=!1;s?u=!0:r instanceof ut?(s=bn(n,r),u=!1):(s=ut.EMPTY_NODE,u=!1);var c=$t(new Gt(s,u,!1),new Gt(r,i,!1));return new Fn(t,c)}return a}function Yn(e,t,n,r,i,o){var a=Hn(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,a),function(e,t){e.eventRegistrations_.push(t)}(a,n),function(e,t){var n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(nt,(function(e,t){r.push(_t(e,t))})),n.isFullyInitialized()&&r.push(yt(n.getNode())),zn(e,r,n.getNode(),t)}(a,n)}function $n(e,t,n,r){var i,s,u=t._queryIdentifier,c=[],l=[],f=er(e);if("default"===u)try{for(var h=(0,a.__values)(e.views.entries()),d=h.next();!d.done;d=h.next()){var p=(0,a.__read)(d.value,2),v=p[0],g=p[1];l=l.concat(Bn(g,n,r)),qn(g)&&(e.views.delete(v),g.query._queryParams.loadsAllData()||c.push(g.query))}}catch(m){i={error:m}}finally{try{d&&!d.done&&(s=h.return)&&s.call(h)}finally{if(i)throw i.error}}else(g=e.views.get(u))&&(l=l.concat(Bn(g,n,r)),qn(g)&&(e.views.delete(u),g.query._queryParams.loadsAllData()||c.push(g.query)));return f&&!er(e)&&c.push(new((0,o.assert)(jn,"Reference.ts has not been loaded"),jn)(t._repo,t._path)),{removed:c,events:l}}function Xn(e){var t,n,r=[];try{for(var i=(0,a.__values)(e.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;s.query._queryParams.loadsAllData()||r.push(s)}}catch(u){t={error:u}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function Qn(e,t){var n,r,i=null;try{for(var o=(0,a.__values)(e.views.values()),s=o.next();!s.done;s=o.next()){var u=s.value;i=i||Un(u,t)}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}function Zn(e,t){if(t._queryParams.loadsAllData())return tr(e);var n=t._queryIdentifier;return e.views.get(n)}function Jn(e,t){return null!=Zn(e,t)}function er(e){return null!=tr(e)}function tr(e){var t,n;try{for(var r=(0,a.__values)(e.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;if(o.query._queryParams.loadsAllData())return o}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return null}var nr=1,rr=function(e){this.listenProvider_=e,this.syncPointTree_=new en(null),this.pendingWriteTree_={visibleWrites:tn.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map};function ir(e,t,n,r,i){return function(e,t,n,r,i){(0,o.assert)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=nn(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?hr(e,new Wt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function or(e,t,n,r){!function(e,t,n,r){(0,o.assert)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=rn(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);var i=en.fromObject(n);return hr(e,new Kt({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}function ar(e,t,n){void 0===n&&(n=!1);var r=function(e,t){for(var n=0;n<e.allWrites.length;n++){var r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(pn(e.pendingWriteTree_,t)){var i=new en(null);return null!=r.snap?i=i.set(ge(),!0):L(r.children,(function(e){i=i.set(new ve(e),!0)})),hr(e,new Vt(r.path,i,n))}return[]}function sr(e,t,n){return hr(e,new Wt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function ur(e,t,n,r){var i=t._path,o=e.syncPointTree_.get(i),a=[];if(o&&("default"===t._queryIdentifier||Jn(o,t))){var s=$n(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));var u=s.removed;a=s.events;var c=-1!==u.findIndex((function(e){return e._queryParams.loadsAllData()})),l=e.syncPointTree_.findOnPath(i,(function(e,t){return er(t)}));if(c&&!l){var f=e.syncPointTree_.subtree(i);if(!f.isEmpty())for(var h=function(e){return e.fold((function(e,t,n){if(t&&er(t))return[tr(t)];var r=[];return t&&(r=Xn(t)),L(n,(function(e,t){r=r.concat(t)})),r}))}(f),d=0;d<h.length;++d){var p=h[d],v=p.query,g=vr(e,p);e.listenProvider_.startListening(wr(v),gr(e,v),g.hashFn,g.onComplete)}}if(!l&&u.length>0&&!r)if(c){e.listenProvider_.stopListening(wr(t),null)}else u.forEach((function(t){var n=e.queryToTagMap.get(mr(t));e.listenProvider_.stopListening(wr(t),n)}));!function(e,t){for(var n=0;n<t.length;++n){var r=t[n];if(!r._queryParams.loadsAllData()){var i=mr(r),o=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(o)}}}(e,u)}return a}function cr(e,t,n){var r=t._path,i=null,a=!1;e.syncPointTree_.foreachOnPath(r,(function(e,t){var n=Te(e,r);i=i||Qn(t,n),a=a||er(t)}));var s,u=e.syncPointTree_.get(r);(u?(a=a||er(u),i=i||Qn(u,ge())):(u=new Kn,e.syncPointTree_=e.syncPointTree_.set(r,u)),null!=i)?s=!0:(s=!1,i=ut.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((function(e,t){var n=Qn(t,ge());n&&(i=i.updateImmediateChild(e,n))})));var c=Jn(u,t);if(!c&&!t._queryParams.loadsAllData()){var l=mr(t);(0,o.assert)(!e.queryToTagMap.has(l),"View does not exist, but we have a tag");var f=nr++;e.queryToTagMap.set(l,f),e.tagToQueryMap.set(f,l)}var h=Yn(u,t,n,dn(e.pendingWriteTree_,r),i,s);if(!c&&!a){var d=Zn(u,t);h=h.concat(function(e,t,n){var r=t._path,i=gr(e,t),a=vr(e,n),s=e.listenProvider_.startListening(wr(t),i,a.hashFn,a.onComplete),u=e.syncPointTree_.subtree(r);if(i)(0,o.assert)(!er(u.value),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold((function(e,t,n){if(!Se(e)&&t&&er(t))return[tr(t).query];var r=[];return t&&(r=r.concat(Xn(t).map((function(e){return e.query})))),L(n,(function(e,t){r=r.concat(t)})),r})),l=0;l<c.length;++l){var f=c[l];e.listenProvider_.stopListening(wr(f),gr(e,f))}return s}(e,t,d))}return h}function lr(e,t,n){var r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(function(e,n){var r=Qn(n,Te(e,t));if(r)return r}));return yn(r,t,i,n,!0)}function fr(e,t){var n=t._path,r=null;e.syncPointTree_.foreachOnPath(n,(function(e,t){var i=Te(e,n);r=r||Qn(t,i)}));var i=e.syncPointTree_.get(n);i?r=r||Qn(i,ge()):(i=new Kn,e.syncPointTree_=e.syncPointTree_.set(n,i));var o=null!=r,a=o?new Gt(r,!0,!1):null;return function(e){return Zt(e.viewCache_)}(Hn(i,t,dn(e.pendingWriteTree_,t._path),o?a.getNode():ut.EMPTY_NODE,o))}function hr(e,t){return dr(t,e.syncPointTree_,null,dn(e.pendingWriteTree_,ge()))}function dr(e,t,n,r){if(Se(e.path))return pr(e,t,n,r);var i=t.get(ge());null==n&&null!=i&&(n=Qn(i,ge()));var o=[],a=me(e.path),s=e.operationForChild(a),u=t.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=Tn(r,a);o=o.concat(dr(s,u,c,l))}return i&&(o=o.concat(Gn(i,e,r,n))),o}function pr(e,t,n,r){var i=t.get(ge());null==n&&null!=i&&(n=Qn(i,ge()));var o=[];return t.children.inorderTraversal((function(t,i){var a=n?n.getImmediateChild(t):null,s=Tn(r,t),u=e.operationForChild(t);u&&(o=o.concat(pr(u,i,a,s)))})),i&&(o=o.concat(Gn(i,e,r,n))),o}function vr(e,t){var n=t.query,r=gr(e,n);return{hashFn:function(){var e=function(e){return e.viewCache_.serverCache.getNode()}(t)||ut.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return r?function(e,t,n){var r=yr(e,n);if(r){var i=_r(r),o=i.path,a=i.queryId,s=Te(o,t);return br(e,o,new zt(qt(a),s))}return[]}(e,n._path,r):function(e,t){return hr(e,new zt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);var i=function(e,t){var n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");var r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return ur(e,n,null,i)}}}function gr(e,t){var n=mr(t);return e.queryToTagMap.get(n)}function mr(e){return e._path.toString()+"$"+e._queryIdentifier}function yr(e,t){return e.tagToQueryMap.get(t)}function _r(e){var t=e.indexOf("$");return(0,o.assert)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new ve(e.substr(0,t))}}function br(e,t,n){var r=e.syncPointTree_.get(t);return(0,o.assert)(r,"Missing sync point for query tag that we're tracking"),Gn(r,n,dn(e.pendingWriteTree_,t),null)}function wr(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,o.assert)(Wn,"Reference.ts has not been loaded"),Wn)(e._repo,e._path):e}var kr=function(){function e(e){this.node_=e}return e.prototype.getImmediateChild=function(t){return new e(this.node_.getImmediateChild(t))},e.prototype.node=function(){return this.node_},e}(),Ir=function(){function e(e,t){this.syncTree_=e,this.path_=t}return e.prototype.getImmediateChild=function(t){var n=Ie(this.path_,t);return new e(this.syncTree_,n)},e.prototype.node=function(){return lr(this.syncTree_,this.path_)},e}(),Sr=function(e,t,n){return e&&"object"===typeof e?((0,o.assert)(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Tr(e[".sv"],t,n):"object"===typeof e[".sv"]?Er(e[".sv"],t):void(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Tr=function(e,t,n){if("timestamp"===e)return n.timestamp;(0,o.assert)(!1,"Unexpected server value: "+e)},Er=function(e,t,n){e.hasOwnProperty("increment")||(0,o.assert)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));var r=e.increment;"number"!==typeof r&&(0,o.assert)(!1,"Unexpected increment value: "+r);var i=t.node();if((0,o.assert)(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var a=i.getValue();return"number"!==typeof a?r:a+r},Cr=function(e,t,n,r){return Ar(t,new Ir(n,e),r)},xr=function(e,t,n){return Ar(e,new kr(t),n)};function Ar(e,t,n){var r,i=e.getPriority().val(),o=Sr(i,t.getImmediateChild(".priority"),n);if(e.isLeafNode()){var a=e,s=Sr(a.getValue(),t,n);return s!==a.getValue()||o!==a.getPriority().val()?new Ze(s,lt(o)):e}var u=e;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Ze(o))),u.forEachChild(nt,(function(e,i){var o=Ar(i,t.getImmediateChild(e),n);o!==i&&(r=r.updateImmediateChild(e,o))})),r}var Pr=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=null),void 0===n&&(n={children:{},childCount:0}),this.name=e,this.parent=t,this.node=n};function Or(e,t){for(var n=t instanceof ve?t:new ve(t),r=e,i=me(n);null!==i;){var a=(0,o.safeGet)(r.node.children,i)||{children:{},childCount:0};r=new Pr(i,r,a),i=me(n=_e(n))}return r}function Nr(e){return e.node.value}function Rr(e,t){e.node.value=t,Fr(e)}function Dr(e){return e.node.childCount>0}function Mr(e,t){L(e.node.children,(function(n,r){t(new Pr(n,e,r))}))}function Lr(e,t,n,r){n&&!r&&t(e),Mr(e,(function(e){Lr(e,t,!0,r)})),n&&r&&t(e)}function jr(e){return new ve(null===e.parent?e.name:jr(e.parent)+"/"+e.name)}function Fr(e){null!==e.parent&&function(e,t,n){var r=function(e){return void 0===Nr(e)&&!Dr(e)}(n),i=(0,o.contains)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Fr(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Fr(e))}(e.parent,e.name,e)}var Ur=/[\[\].#$\/\u0000-\u001F\u007F]/,qr=/[\[\].#$\u0000-\u001F\u007F]/,Br=10485760,Vr=function(e){return"string"===typeof e&&0!==e.length&&!Ur.test(e)},zr=function(e){return"string"===typeof e&&0!==e.length&&!qr.test(e)},Wr=function(e){return null===e||"string"===typeof e||"number"===typeof e&&!x(e)||e&&"object"===typeof e&&(0,o.contains)(e,".sv")},Kr=function(e,t,n,r){r&&void 0===t||Gr((0,o.errorPrefix)(e,"value"),t,n)},Gr=function(e,t,n){var r=n instanceof ve?new Ae(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+Oe(r));if("function"===typeof t)throw new Error(e+"contains a function "+Oe(r)+" with contents = "+t.toString());if(x(t))throw new Error(e+"contains "+t.toString()+" "+Oe(r));if("string"===typeof t&&t.length>Br/3&&(0,o.stringLength)(t)>Br)throw new Error(e+"contains a string greater than "+"10485760 utf8 bytes "+Oe(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){var i=!1,a=!1;if(L(t,(function(t,n){if(".value"===t)i=!0;else if(".priority"!==t&&".sv"!==t&&(a=!0,!Vr(t)))throw new Error(e+" contains an invalid key ("+t+") "+Oe(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=(0,o.stringLength)(t),Pe(e)}(r,t),Gr(e,n,r),function(e){var t=e.parts_.pop();e.byteLength_-=(0,o.stringLength)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),i&&a)throw new Error(e+' contains ".value" child '+Oe(r)+" in addition to actual children.")}},Hr=function(e,t,n,r){if(!r||void 0!==t){var i=(0,o.errorPrefix)(e,"values");if(!t||"object"!==typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");var a=[];L(t,(function(e,t){var r=new ve(e);if(Gr(i,t,Ie(n,r)),".priority"===be(r)&&!Wr(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(r)})),function(e,t){var n,r;for(n=0;n<t.length;n++)for(var i=we(r=t[n]),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!Vr(i[o]))throw new Error(e+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');t.sort(Ee);var a=null;for(n=0;n<t.length;n++){if(r=t[n],null!==a&&xe(a,r))throw new Error(e+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}}(i,a)}},Yr=function(e,t,n){if(!n||void 0!==t){if(x(t))throw new Error((0,o.errorPrefix)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Wr(t))throw new Error((0,o.errorPrefix)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},$r=function(e,t,n){if(!n||void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,o.errorPrefix)(e,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Xr=function(e,t,n,r){if((!r||void 0!==n)&&!Vr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Qr=function(e,t,n,r){if((!r||void 0!==n)&&!zr(n))throw new Error((0,o.errorPrefix)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Zr=function(e,t){if(".info"===me(t))throw new Error(e+" failed = Can't modify data under /.info/")},Jr=function(e,t){var n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Vr(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),zr(e)}(n))throw new Error((0,o.errorPrefix)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},ei=function(e,t,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error((0,o.errorPrefix)(e,t)+"must be a boolean.")},ti=function(){this.eventLists_=[],this.recursionDepth_=0};function ni(e,t){for(var n=null,r=0;r<t.length;r++){var i=t[r],o=i.getPath();null===n||Ce(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function ri(e,t,n){ni(e,n),oi(e,(function(e){return Ce(e,t)}))}function ii(e,t,n){ni(e,n),oi(e,(function(e){return xe(e,t)||xe(t,e)}))}function oi(e,t){e.recursionDepth_++;for(var n=!0,r=0;r<e.eventLists_.length;r++){var i=e.eventLists_[r];if(i)t(i.path)?(ai(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}n&&(e.eventLists_=[]),e.recursionDepth_--}function ai(e){for(var t=0;t<e.events.length;t++){var n=e.events[t];if(null!==n){e.events[t]=null;var r=n.getEventRunner();b&&I("event: "+n.toString()),V(r)}}}var si="repo_interrupt",ui=function(){function e(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ti,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Rt(),this.transactionQueueTree_=new Pr,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}return e.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},e}();function ci(e,t,n){if(e.stats_=ne(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Ot(e.repoInfo_,(function(t,n,r,i){hi(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((function(){return di(e,!0)}),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,o.stringify)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new Le(e.repoInfo_,t,(function(t,n,r,i){hi(e,t,n,r,i)}),(function(t){di(e,t)}),(function(t){!function(e,t){L(t,(function(t,n){pi(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((function(t){e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((function(t){e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){var n=e.toString();return te[n]||(te[n]=t()),te[n]}(e.repoInfo_,(function(){return new Ut(e.stats_,e.server_)})),e.infoData_=new Nt,e.infoSyncTree_=new rr({startListening:function(t,n,r,i){var o=[],a=e.infoData_.getNode(t._path);return a.isEmpty()||(o=sr(e.infoSyncTree_,t._path,a),setTimeout((function(){i("ok")}),0)),o},stopListening:function(){}}),pi(e,"connected",!1),e.serverSyncTree_=new rr({startListening:function(t,n,r,i){return e.server_.listen(t,r,n,(function(n,r){var o=i(n,r);ii(e.eventQueue_,t._path,o)})),[]},stopListening:function(t,n){e.server_.unlisten(t,n)}})}function li(e){var t=e.infoData_.getNode(new ve(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function fi(e){return(t=(t={timestamp:li(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function hi(e,t,n,r,i){e.dataUpdateCount++;var a=new ve(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;var s=[];if(i)if(r){var u=(0,o.map)(n,(function(e){return lt(e)}));s=function(e,t,n,r){var i=yr(e,r);if(i){var o=_r(i),a=o.path,s=o.queryId,u=Te(a,t),c=en.fromObject(n);return br(e,a,new Kt(qt(s),u,c))}return[]}(e.serverSyncTree_,a,u,i)}else{var c=lt(n);s=function(e,t,n,r){var i=yr(e,r);if(null!=i){var o=_r(i),a=o.path,s=o.queryId,u=Te(a,t);return br(e,a,new Wt(qt(s),u,n))}return[]}(e.serverSyncTree_,a,c,i)}else if(r){var l=(0,o.map)(n,(function(e){return lt(e)}));s=function(e,t,n){var r=en.fromObject(n);return hr(e,new Kt({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,a,l)}else{var f=lt(n);s=sr(e.serverSyncTree_,a,f)}var h=a;s.length>0&&(h=Ti(e,a)),ii(e.eventQueue_,h,s)}function di(e,t){pi(e,"connected",t),!1===t&&function(e){wi(e,"onDisconnectEvents");var t=fi(e),n=Rt();Lt(e.onDisconnect_,ge(),(function(r,i){var o=Cr(r,i,e.serverSyncTree_,t);Dt(n,r,o)}));var r=[];Lt(n,ge(),(function(t,n){r=r.concat(sr(e.serverSyncTree_,t,n));var i=Pi(e,t);Ti(e,i)})),e.onDisconnect_=Rt(),ii(e.eventQueue_,ge(),r)}(e)}function pi(e,t,n){var r=new ve("/.info/"+t),i=lt(n);e.infoData_.updateSnapshot(r,i);var o=sr(e.infoSyncTree_,r,i);ii(e.eventQueue_,r,o)}function vi(e){return e.nextWriteId_++}function gi(e,t,n,r,i){wi(e,"set",{path:t.toString(),value:n,priority:r});var o=fi(e),a=lt(n,r),s=lr(e.serverSyncTree_,t),u=xr(a,s,o),c=vi(e),l=ir(e.serverSyncTree_,t,u,c,!0);ni(e.eventQueue_,l),e.server_.put(t.toString(),a.val(!0),(function(n,r){var o="ok"===n;o||C("set at "+t+" failed: "+n);var a=ar(e.serverSyncTree_,c,!o);ii(e.eventQueue_,t,a),ki(e,i,n,r)}));var f=Pi(e,t);Ti(e,f),ii(e.eventQueue_,f,[])}function mi(e,t,n){e.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&Mt(e.onDisconnect_,t),ki(e,n,r,i)}))}function yi(e,t,n,r){var i=lt(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(function(n,o){"ok"===n&&Dt(e.onDisconnect_,t,i),ki(e,r,n,o)}))}function _i(e,t,n){var r;r=".info"===me(t._path)?ur(e.infoSyncTree_,t,n):ur(e.serverSyncTree_,t,n),ri(e.eventQueue_,t._path,r)}function bi(e){e.persistentConnection_&&e.persistentConnection_.interrupt(si)}function wi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r="";e.persistentConnection_&&(r=e.persistentConnection_.id+":"),I.apply(void 0,(0,a.__spreadArray)([r],(0,a.__read)(t)))}function ki(e,t,n,r){t&&V((function(){if("ok"===n)t(null);else{var e=(n||"error").toUpperCase(),i=e;r&&(i+=": "+r);var o=new Error(i);o.code=e,t(o)}}))}function Ii(e,t,n){return lr(e.serverSyncTree_,t,n)||ut.EMPTY_NODE}function Si(e,t){if(void 0===t&&(t=e.transactionQueueTree_),t||Ai(e,t),Nr(t)){var n=Ci(e,t);(0,o.assert)(n.length>0,"Sending zero length transaction queue"),n.every((function(e){return 0===e.status}))&&function(e,t,n){for(var r=n.map((function(e){return e.currentWriteId})),i=Ii(e,t,r),a=i,s=i.hash(),u=0;u<n.length;u++){var c=n[u];(0,o.assert)(0===c.status,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;var l=Te(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var f=a.val(!0),h=t;e.server_.put(h.toString(),f,(function(r){wi(e,"transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=function(t){n[t].status=2,i=i.concat(ar(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&o.push((function(){return n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)})),n[t].unwatcher()},s=0;s<n.length;s++)a(s);Ai(e,Or(e.transactionQueueTree_,t)),Si(e,e.transactionQueueTree_),ii(e.eventQueue_,t,i);for(s=0;s<o.length;s++)V(o[s])}else{if("datastale"===r)for(s=0;s<n.length;s++)3===n[s].status?n[s].status=4:n[s].status=0;else{C("transaction at "+h.toString()+" failed: "+r);for(s=0;s<n.length;s++)n[s].status=4,n[s].abortReason=r}Ti(e,t)}}),s)}(e,jr(t),n)}else Dr(t)&&Mr(t,(function(t){Si(e,t)}))}function Ti(e,t){var n=Ei(e,t),r=jr(n);return function(e,t,n){if(0===t.length)return;for(var r=[],i=[],a=t.filter((function(e){return 0===e.status})).map((function(e){return e.currentWriteId})),s=function(s){var u,c,l=t[s],f=Te(n,l.path),h=!1;if((0,o.assert)(null!==f,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)h=!0,u=l.abortReason,i=i.concat(ar(e.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=25)h=!0,u="maxretry",i=i.concat(ar(e.serverSyncTree_,l.currentWriteId,!0));else{var d=Ii(e,l.path,a);l.currentInputSnapshot=d;var p=t[s].update(d.val());if(void 0!==p){Gr("transaction failed: Data returned ",p,l.path);var v=lt(p);"object"===typeof p&&null!=p&&(0,o.contains)(p,".priority")||(v=v.updatePriority(d.getPriority()));var g=l.currentWriteId,m=fi(e),y=xr(v,d,m);l.currentOutputSnapshotRaw=v,l.currentOutputSnapshotResolved=y,l.currentWriteId=vi(e),a.splice(a.indexOf(g),1),i=(i=i.concat(ir(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally))).concat(ar(e.serverSyncTree_,g,!0))}else h=!0,u="nodata",i=i.concat(ar(e.serverSyncTree_,l.currentWriteId,!0))}ii(e.eventQueue_,n,i),i=[],h&&(t[s].status=2,c=t[s].unwatcher,setTimeout(c,Math.floor(0)),t[s].onComplete&&("nodata"===u?r.push((function(){return t[s].onComplete(null,!1,t[s].currentInputSnapshot)})):r.push((function(){return t[s].onComplete(new Error(u),!1,null)}))))},u=0;u<t.length;u++)s(u);Ai(e,e.transactionQueueTree_);for(u=0;u<r.length;u++)V(r[u]);Si(e,e.transactionQueueTree_)}(e,Ci(e,n),r),r}function Ei(e,t){var n,r=e.transactionQueueTree_;for(n=me(t);null!==n&&void 0===Nr(r);)r=Or(r,n),n=me(t=_e(t));return r}function Ci(e,t){var n=[];return xi(e,t,n),n.sort((function(e,t){return e.order-t.order})),n}function xi(e,t,n){var r=Nr(t);if(r)for(var i=0;i<r.length;i++)n.push(r[i]);Mr(t,(function(t){xi(e,t,n)}))}function Ai(e,t){var n=Nr(t);if(n){for(var r=0,i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Rr(t,n.length>0?n:void 0)}Mr(t,(function(t){Ai(e,t)}))}function Pi(e,t){var n=jr(Ei(e,t)),r=Or(e.transactionQueueTree_,t);return function(e,t,n){for(var r=n?e:e.parent;null!==r;){if(t(r))return!0;r=r.parent}}(r,(function(t){Oi(e,t)})),Oi(e,r),Lr(r,(function(t){Oi(e,t)})),n}function Oi(e,t){var n=Nr(t);if(n){for(var r=[],i=[],a=-1,s=0;s<n.length;s++)3===n[s].status||(1===n[s].status?((0,o.assert)(a===s-1,"All SENT items should be at beginning of queue."),a=s,n[s].status=3,n[s].abortReason="set"):((0,o.assert)(0===n[s].status,"Unexpected transaction status in abort"),n[s].unwatcher(),i=i.concat(ar(e.serverSyncTree_,n[s].currentWriteId,!0)),n[s].onComplete&&r.push(n[s].onComplete.bind(null,new Error("set"),!1,null))));-1===a?Rr(t,void 0):n.length=a+1,ii(e.eventQueue_,jr(t),i);for(s=0;s<r.length;s++)V(r[s])}}var Ni=function(e,t){var n=Ri(e),r=n.namespace;"firebase.com"===n.domain&&E(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||E("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&C("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Q(n.host,n.secure,r,t,i,"",r!==n.subdomain),path:new ve(n.pathString)}},Ri=function(e){var t="",n="",r="",i="",o="",s=!0,u="https",c=443;if("string"===typeof e){var l=e.indexOf("//");l>=0&&(u=e.substring(0,l-1),e=e.substring(l+2));var f=e.indexOf("/");-1===f&&(f=e.length);var h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(f,h)),f<h&&(i=function(e){for(var t="",n=e.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(o){}t+="/"+i}return t}(e.substring(f,h)));var d=function(e){var t,n,r={};"?"===e.charAt(0)&&(e=e.substring(1));try{for(var i=(0,a.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var u=s.split("=");2===u.length?r[decodeURIComponent(u[0])]=decodeURIComponent(u[1]):C("Invalid query segment '"+s+"' in query '"+e+"'")}}}catch(c){t={error:c}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(e.substring(Math.min(e.length,h)));(l=t.indexOf(":"))>=0?(s="https"===u||"wss"===u,c=parseInt(t.substring(l+1),10)):l=t.length;var p=t.slice(0,l);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var v=t.indexOf(".");r=t.substring(0,v).toLowerCase(),n=t.substring(v+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:i,namespace:o}},Di=function(){function e(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}return e.prototype.getPath=function(){var e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path},e.prototype.getEventType=function(){return this.eventType},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+(0,o.stringify)(this.snapshot.exportVal())},e}(),Mi=function(){function e(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}return e.prototype.getPath=function(){return this.path},e.prototype.getEventType=function(){return"cancel"},e.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},e.prototype.toString=function(){return this.path.toString()+":cancel"},e}(),Li=function(){function e(e,t){this.snapshotCallback=e,this.cancelCallback=t}return e.prototype.onValue=function(e,t){this.snapshotCallback.call(null,e,t)},e.prototype.onCancel=function(e){return(0,o.assert)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)},Object.defineProperty(e.prototype,"hasCancelCallback",{get:function(){return!!this.cancelCallback},enumerable:!1,configurable:!0}),e.prototype.matches=function(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context},e}(),ji=function(){function e(e,t){this._repo=e,this._path=t}return e.prototype.cancel=function(){var e=new o.Deferred;return mi(this._repo,this._path,e.wrapCallback((function(){}))),e.promise},e.prototype.remove=function(){Zr("OnDisconnect.remove",this._path);var e=new o.Deferred;return yi(this._repo,this._path,null,e.wrapCallback((function(){}))),e.promise},e.prototype.set=function(e){Zr("OnDisconnect.set",this._path),Kr("OnDisconnect.set",e,this._path,!1);var t=new o.Deferred;return yi(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e.prototype.setWithPriority=function(e,t){Zr("OnDisconnect.setWithPriority",this._path),Kr("OnDisconnect.setWithPriority",e,this._path,!1),Yr("OnDisconnect.setWithPriority",t,!1);var n=new o.Deferred;return function(e,t,n,r,i){var o=lt(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(function(n,r){"ok"===n&&Dt(e.onDisconnect_,t,o),ki(0,i,n,r)}))}(this._repo,this._path,e,t,n.wrapCallback((function(){}))),n.promise},e.prototype.update=function(e){Zr("OnDisconnect.update",this._path),Hr("OnDisconnect.update",e,this._path,!1);var t=new o.Deferred;return function(e,t,n,r){if((0,o.isEmpty)(n))return I("onDisconnect().update() called with empty data.  Don't do anything."),void ki(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(function(i,o){"ok"===i&&L(n,(function(n,r){var i=lt(r);Dt(e.onDisconnect_,Ie(t,n),i)})),ki(0,r,i,o)}))}(this._repo,this._path,e,t.wrapCallback((function(){}))),t.promise},e}(),Fi=function(){function e(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}return Object.defineProperty(e.prototype,"key",{get:function(){return Se(this._path)?null:be(this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Vi(this._repo,this._path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryIdentifier",{get:function(){var e=Pt(this._queryParams),t=D(e);return"{}"===t?"default":t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_queryObject",{get:function(){return Pt(this._queryParams)},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){if(!((t=(0,o.getModularInstance)(t))instanceof e))return!1;var n=this._repo===t._repo,r=Ce(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i},e.prototype.toJSON=function(){return this.toString()},e.prototype.toString=function(){return this._repo.toString()+function(e){for(var t="",n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)},e}();function Ui(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function qi(e){var t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===qe){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==A)throw new Error(r);if("string"!==typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==P)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(e.getIndex()===nt){if(null!=t&&!Wr(t)||null!=n&&!Wr(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,o.assert)(e.getIndex()instanceof ft||e.getIndex()===dt,"unknown index type."),null!=t&&"object"===typeof t||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function Bi(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Vi=function(e){function t(t,n){return e.call(this,t,n,new Tt,!1)||this}return(0,a.__extends)(t,e),Object.defineProperty(t.prototype,"parent",{get:function(){var e=ke(this._path);return null===e?null:new t(this._repo,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){for(var e=this;null!==e.parent;)e=e.parent;return e},enumerable:!1,configurable:!0}),t}(Fi),zi=function(){function e(e,t,n){this._node=e,this.ref=t,this._index=n}return Object.defineProperty(e.prototype,"priority",{get:function(){return this._node.getPriority().val()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.ref.key},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._node.numChildren()},enumerable:!1,configurable:!0}),e.prototype.child=function(t){var n=new ve(t),r=Gi(this.ref,t);return new e(this._node.getChild(n),r,nt)},e.prototype.exists=function(){return!this._node.isEmpty()},e.prototype.exportVal=function(){return this._node.val(!0)},e.prototype.forEach=function(t){var n=this;return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(function(r,i){return t(new e(i,Gi(n.ref,r),nt))}))},e.prototype.hasChild=function(e){var t=new ve(e);return!this._node.getChild(t).isEmpty()},e.prototype.hasChildren=function(){return!this._node.isLeafNode()&&!this._node.isEmpty()},e.prototype.toJSON=function(){return this.exportVal()},e.prototype.val=function(){return this._node.val()},e}();function Wi(e,t){return(e=(0,o.getModularInstance)(e))._checkNotDeleted("ref"),void 0!==t?Gi(e._root,t):e._root}function Ki(e,t){(e=(0,o.getModularInstance)(e))._checkNotDeleted("refFromURL");var n=Ni(t,e._repo.repoInfo_.nodeAdmin);Jr("refFromURL",n);var r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||E("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),Wi(e,n.path.toString())}function Gi(e,t){var n,r,i,a;return null===me((e=(0,o.getModularInstance)(e))._path)?(n="child",r="path",a=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Qr(n,r,i,a)):Qr("child","path",t,!1),new Vi(e._repo,Ie(e._path,t))}function Hi(e,t){e=(0,o.getModularInstance)(e),Zr("push",e._path),Kr("push",t,e._path,!0);var n,r=li(e._repo),i=vt(r),a=Gi(e,i),s=Gi(e,i);return n=null!=t?$i(s,t).then((function(){return s})):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),a}function Yi(e){return Zr("remove",e._path),$i(e,null)}function $i(e,t){e=(0,o.getModularInstance)(e),Zr("set",e._path),Kr("set",t,e._path,!1);var n=new o.Deferred;return gi(e._repo,e._path,t,null,n.wrapCallback((function(){}))),n.promise}function Xi(e,t){e=(0,o.getModularInstance)(e),Zr("setPriority",e._path),Yr("setPriority",t,!1);var n=new o.Deferred;return gi(e._repo,Ie(e._path,".priority"),t,null,n.wrapCallback((function(){}))),n.promise}function Qi(e,t,n){if(Zr("setWithPriority",e._path),Kr("setWithPriority",t,e._path,!1),Yr("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";var r=new o.Deferred;return gi(e._repo,e._path,t,n,r.wrapCallback((function(){}))),r.promise}function Zi(e,t){Hr("update",t,e._path,!1);var n=new o.Deferred;return function(e,t,n,r){wi(e,"update",{path:t.toString(),value:n});var i=!0,o=fi(e),a={};if(L(n,(function(n,r){i=!1,a[n]=Cr(Ie(t,n),lt(r),e.serverSyncTree_,o)})),i)I("update() called with empty data.  Don't do anything."),ki(0,r,"ok",void 0);else{var s=vi(e),u=or(e.serverSyncTree_,t,a,s);ni(e.eventQueue_,u),e.server_.merge(t.toString(),n,(function(n,i){var o="ok"===n;o||C("update at "+t+" failed: "+n);var a=ar(e.serverSyncTree_,s,!o),u=a.length>0?Ti(e,t):t;ii(e.eventQueue_,u,a),ki(0,r,n,i)})),L(n,(function(n){var r=Pi(e,Ie(t,n));Ti(e,r)})),ii(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback((function(){}))),n.promise}function Ji(e){return function(e,t){var n=fr(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then((function(n){var r=lt(n).withIndex(t._queryParams.getIndex()),i=sr(e.serverSyncTree_,t._path,r);return ri(e.eventQueue_,t._path,i),Promise.resolve(r)}),(function(n){return wi(e,"get for query "+(0,o.stringify)(t)+" failed: "+n),Promise.reject(new Error(n))}))}((e=(0,o.getModularInstance)(e))._repo,e).then((function(t){return new zi(t,new Vi(e._repo,e._path),e._queryParams.getIndex())}))}var eo=function(){function e(e){this.callbackContext=e}return e.prototype.respondsTo=function(e){return"value"===e},e.prototype.createEvent=function(e,t){var n=t._queryParams.getIndex();return new Di("value",this,new zi(e.snapshotNode,new Vi(t._repo,t._path),n))},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,null)}},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Mi(this,e,t):null},e.prototype.matches=function(t){return t instanceof e&&(!t.callbackContext||!this.callbackContext||t.callbackContext.matches(this.callbackContext))},e.prototype.hasAnyCallback=function(){return null!==this.callbackContext},e}(),to=function(){function e(e,t){this.eventType=e,this.callbackContext=t}return e.prototype.respondsTo=function(e){var t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t},e.prototype.createCancelEvent=function(e,t){return this.callbackContext.hasCancelCallback?new Mi(this,e,t):null},e.prototype.createEvent=function(e,t){(0,o.assert)(null!=e.childName,"Child events should have a childName.");var n=Gi(new Vi(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new Di(e.type,this,new zi(e.snapshotNode,n,r),e.prevName)},e.prototype.getEventRunner=function(e){var t=this;return"cancel"===e.getEventType()?function(){return t.callbackContext.onCancel(e.error)}:function(){return t.callbackContext.onValue(e.snapshot,e.prevName)}},e.prototype.matches=function(t){return t instanceof e&&(this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)))},e.prototype.hasAnyCallback=function(){return!!this.callbackContext},e}();function no(e,t,n,r,i){var o;if("object"===typeof r&&(o=void 0,i=r),"function"===typeof r&&(o=r),i&&i.onlyOnce){var a=n,s=function(t,n){_i(e._repo,e,c),a(t,n)};s.userCallback=n.userCallback,s.context=n.context,n=s}var u=new Li(n,o||void 0),c="value"===t?new eo(u):new to(t,u);return function(e,t,n){var r;r=".info"===me(t._path)?cr(e.infoSyncTree_,t,n):cr(e.serverSyncTree_,t,n),ri(e.eventQueue_,t._path,r)}(e._repo,e,c),function(){return _i(e._repo,e,c)}}function ro(e,t,n,r){return no(e,"value",t,n,r)}function io(e,t,n,r){return no(e,"child_added",t,n,r)}function oo(e,t,n,r){return no(e,"child_changed",t,n,r)}function ao(e,t,n,r){return no(e,"child_moved",t,n,r)}function so(e,t,n,r){return no(e,"child_removed",t,n,r)}function uo(e,t,n){var r=null,i=n?new Li(n):null;"value"===t?r=new eo(i):t&&(r=new to(t,i)),_i(e._repo,e,r)}var co=function(){},lo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Kr("endAt",this._value,e._path,!0);var t=Ct(e._queryParams,this._value,this._key);if(Bi(t),qi(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(co);function fo(e,t){return Xr("endAt","key",t,!0),new lo(e,t)}var ho=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Kr("endBefore",this._value,e._path,!1);var t=function(e,t,n){var r;return e.index_===qe?("string"===typeof t&&(t=mt(t)),r=Ct(e,t,n)):r=Ct(e,t,null==n?A:mt(n)),r.endBeforeSet_=!0,r}(e._queryParams,this._value,this._key);if(Bi(t),qi(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(co);function po(e,t){return Xr("endBefore","key",t,!0),new ho(e,t)}var vo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Kr("startAt",this._value,e._path,!0);var t=Et(e._queryParams,this._value,this._key);if(Bi(t),qi(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(co);function go(e,t){return void 0===e&&(e=null),Xr("startAt","key",t,!0),new vo(e,t)}var mo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Kr("startAfter",this._value,e._path,!1);var t=function(e,t,n){var r;e.index_===qe?("string"===typeof t&&(t=gt(t)),r=Et(e,t,n)):r=Et(e,t,null==n?P:gt(n));return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(Bi(t),qi(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new Fi(e._repo,e._path,t,e._orderByCalled)},t}(co);function yo(e,t){return Xr("startAfter","key",t,!0),new mo(e,t)}var _o=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)},t}(co);function bo(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new _o(e)}var wo=function(e){function t(t){var n=e.call(this)||this;return n._limit=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new Fi(e._repo,e._path,function(e,t){var n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)},t}(co);function ko(e){if("number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new wo(e)}var Io=function(e){function t(t){var n=e.call(this)||this;return n._path=t,n}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Ui(e,"orderByChild");var t=new ve(this._path);if(Se(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");var n=new ft(t),r=xt(e._queryParams,n);return qi(r),new Fi(e._repo,e._path,r,!0)},t}(co);function So(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Qr("orderByChild","path",e,!1),new Io(e)}var To=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Ui(e,"orderByKey");var t=xt(e._queryParams,qe);return qi(t),new Fi(e._repo,e._path,t,!0)},t}(co);function Eo(){return new To}var Co=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Ui(e,"orderByPriority");var t=xt(e._queryParams,nt);return qi(t),new Fi(e._repo,e._path,t,!0)},t}(co);function xo(){return new Co}var Ao=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(t,e),t.prototype._apply=function(e){Ui(e,"orderByValue");var t=xt(e._queryParams,dt);return qi(t),new Fi(e._repo,e._path,t,!0)},t}(co);function Po(){return new Ao}var Oo=function(e){function t(t,n){var r=e.call(this)||this;return r._value=t,r._key=n,r}return(0,a.__extends)(t,e),t.prototype._apply=function(e){if(Kr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new lo(this._value,this._key)._apply(new vo(this._value,this._key)._apply(e))},t}(co);function No(e,t){return Xr("equalTo","key",t,!0),new Oo(e,t)}function Ro(e){for(var t,n,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var s=(0,o.getModularInstance)(e);try{for(var u=(0,a.__values)(r),c=u.next();!c.done;c=u.next()){var l=c.value;s=l._apply(s)}}catch(f){t={error:f}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return s}!function(e){(0,o.assert)(!jn,"__referenceConstructor has already been defined"),jn=e}(Vi),function(e){(0,o.assert)(!Wn,"__referenceConstructor has already been defined"),Wn=e}(Vi);var Do={},Mo=!1;function Lo(e,t,n,r,i){var o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||E("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),I("Using default host for project ",e.options.projectId),o=e.options.projectId+"-default-rtdb.firebaseio.com");var a,s=Ni(o,i),c=s.repoInfo,l=void 0;"undefined"!==typeof u&&(l=u.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(a=!0,o="http://"+l+"?ns="+c.namespace,c=(s=Ni(o,i)).repoInfo):a=!s.repoInfo.secure;var f=i&&a?new G(G.OWNER):new K(e.name,e.options,t);Jr("Invalid Firebase Database URL",s),Se(s.path)||E("Database URL must point to the root of a Firebase Database (not including a child path).");var h=function(e,t,n,r){var i=Do[t.name];i||(i={},Do[t.name]=i);var o=i[e.toURLString()];o&&E("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return o=new ui(e,Mo,n,r),i[e.toURLString()]=o,o}(c,e,f,new W(e.name,n));return new jo(h,e)}var jo=function(){function e(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}return Object.defineProperty(e.prototype,"_repo",{get:function(){return this._instanceStarted||(ci(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_root",{get:function(){return this._rootInternal||(this._rootInternal=new Vi(this._repo,ge())),this._rootInternal},enumerable:!1,configurable:!0}),e.prototype._delete=function(){return null!==this._rootInternal&&(!function(e,t){var n=Do[t];n&&n[e.key]===e||E("Database "+t+"("+e.repoInfo_+") has already been deleted."),bi(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()},e.prototype._checkNotDeleted=function(e){null===this._rootInternal&&E("Cannot call "+e+" on a deleted database.")},e}();function Fo(e,t,n,r){void 0===r&&(r={}),(e=(0,o.getModularInstance)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&E("Cannot call useEmulator() after instance has already been initialized.");var i=e._repoInternal,a=void 0;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&E('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new G(G.OWNER);else if(r.mockUserToken){var s="string"===typeof r.mockUserToken?r.mockUserToken:(0,o.createMockUserToken)(r.mockUserToken,e.app.options.projectId);a=new G(s)}!function(e,t,n,r){e.repoInfo_=new Q(t+":"+n,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,a)}function Uo(e){(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOffline"),bi(e._repo)}function qo(e){var t;(e=(0,o.getModularInstance)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(si)}var Bo={".sv":"timestamp"};var Vo=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}();function zo(e,t,n){var r;if(e=(0,o.getModularInstance)(e),Zr("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";var i=null===(r=null===n||void 0===n?void 0:n.applyLocally)||void 0===r||r,a=new o.Deferred,s=ro(e,(function(){}));return function(e,t,n,r,i,a){wi(e,"transaction on "+t);var s={path:t,update:n,onComplete:r,status:null,order:m(),applyLocally:a,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},u=Ii(e,t,void 0);s.currentInputSnapshot=u;var c=s.update(u.val());if(void 0===c)s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete&&s.onComplete(null,!1,s.currentInputSnapshot);else{Gr("transaction failed: Data returned ",c,s.path),s.status=0;var l=Or(e.transactionQueueTree_,t),f=Nr(l)||[];f.push(s),Rr(l,f);var h=void 0;"object"===typeof c&&null!==c&&(0,o.contains)(c,".priority")?(h=(0,o.safeGet)(c,".priority"),(0,o.assert)(Wr(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(lr(e.serverSyncTree_,t)||ut.EMPTY_NODE).getPriority().val();var d=fi(e),p=lt(c,h),v=xr(p,u,d);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=v,s.currentWriteId=vi(e);var g=ir(e.serverSyncTree_,t,v,s.currentWriteId,s.applyLocally);ii(e.eventQueue_,t,g),Si(e,e.transactionQueueTree_)}}(e._repo,e._path,t,(function(t,n,r){var i=null;t?a.reject(t):(i=new zi(r,new Vi(e._repo,e._path),nt),a.resolve(new Vo(n,i)))}),s,i),a.promise}var Wo=function(){function e(e){this._delegate=e}return e.prototype.cancel=function(e){(0,o.validateArgCount)("OnDisconnect.cancel",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.cancel","onComplete",e,!0);var t=this._delegate.cancel();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.remove=function(e){(0,o.validateArgCount)("OnDisconnect.remove",0,1,arguments.length),(0,o.validateCallback)("OnDisconnect.remove","onComplete",e,!0);var t=this._delegate.remove();return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},e.prototype.set=function(e,t){(0,o.validateArgCount)("OnDisconnect.set",1,2,arguments.length),(0,o.validateCallback)("OnDisconnect.set","onComplete",t,!0);var n=this._delegate.set(e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},e.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("OnDisconnect.setWithPriority","onComplete",n,!0);var r=this._delegate.setWithPriority(e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},e.prototype.update=function(e,t){if((0,o.validateArgCount)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,C("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,o.validateCallback)("OnDisconnect.update","onComplete",t,!0);var i=this._delegate.update(e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},e}(),Ko=function(){function e(e,t){this.committed=e,this.snapshot=t}return e.prototype.toJSON=function(){return(0,o.validateArgCount)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},e}(),Go=function(){function e(e,t){this._database=e,this._delegate=t}return e.prototype.val=function(){return(0,o.validateArgCount)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()},e.prototype.exportVal=function(){return(0,o.validateArgCount)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.exists=function(){return(0,o.validateArgCount)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()},e.prototype.child=function(t){return(0,o.validateArgCount)("DataSnapshot.child",0,1,arguments.length),t=String(t),Qr("DataSnapshot.child","path",t,!1),new e(this._database,this._delegate.child(t))},e.prototype.hasChild=function(e){return(0,o.validateArgCount)("DataSnapshot.hasChild",1,1,arguments.length),Qr("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)},e.prototype.getPriority=function(){return(0,o.validateArgCount)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority},e.prototype.forEach=function(t){var n=this;return(0,o.validateArgCount)("DataSnapshot.forEach",1,1,arguments.length),(0,o.validateCallback)("DataSnapshot.forEach","action",t,!1),this._delegate.forEach((function(r){return t(new e(n._database,r))}))},e.prototype.hasChildren=function(){return(0,o.validateArgCount)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()},Object.defineProperty(e.prototype,"key",{get:function(){return this._delegate.key},enumerable:!1,configurable:!0}),e.prototype.numChildren=function(){return(0,o.validateArgCount)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size},e.prototype.getRef=function(){return(0,o.validateArgCount)("DataSnapshot.ref",0,0,arguments.length),new Yo(this._database,this._delegate.ref)},Object.defineProperty(e.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),e}(),Ho=function(){function e(e,t){this.database=e,this._delegate=t}return e.prototype.on=function(t,n,r,i){var a,s=this;(0,o.validateArgCount)("Query.on",2,4,arguments.length),(0,o.validateCallback)("Query.on","callback",n,!1);var u=e.getCancelAndContextArgs_("Query.on",r,i),c=function(e,t){n.call(u.context,new Go(s.database,e),t)};c.userCallback=n,c.context=u.context;var l=null===(a=u.cancel)||void 0===a?void 0:a.bind(u.context);switch(t){case"value":return ro(this._delegate,c,l),n;case"child_added":return io(this._delegate,c,l),n;case"child_removed":return so(this._delegate,c,l),n;case"child_changed":return oo(this._delegate,c,l),n;case"child_moved":return ao(this._delegate,c,l),n;default:throw new Error((0,o.errorPrefix)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},e.prototype.off=function(e,t,n){if((0,o.validateArgCount)("Query.off",0,3,arguments.length),$r("Query.off",e,!0),(0,o.validateCallback)("Query.off","callback",t,!0),(0,o.validateContextObject)("Query.off","context",n,!0),t){var r=function(){};r.userCallback=t,r.context=n,uo(this._delegate,e,r)}else uo(this._delegate,e)},e.prototype.get=function(){var e=this;return Ji(this._delegate).then((function(t){return new Go(e.database,t)}))},e.prototype.once=function(t,n,r,i){var a=this;(0,o.validateArgCount)("Query.once",1,4,arguments.length),(0,o.validateCallback)("Query.once","callback",n,!0);var s=e.getCancelAndContextArgs_("Query.once",r,i),u=new o.Deferred,c=function(e,t){var r=new Go(a.database,e);n&&n.call(s.context,r,t),u.resolve(r)};c.userCallback=n,c.context=s.context;var l=function(e){s.cancel&&s.cancel.call(s.context,e),u.reject(e)};switch(t){case"value":ro(this._delegate,c,l,{onlyOnce:!0});break;case"child_added":io(this._delegate,c,l,{onlyOnce:!0});break;case"child_removed":so(this._delegate,c,l,{onlyOnce:!0});break;case"child_changed":oo(this._delegate,c,l,{onlyOnce:!0});break;case"child_moved":ao(this._delegate,c,l,{onlyOnce:!0});break;default:throw new Error((0,o.errorPrefix)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return u.promise},e.prototype.limitToFirst=function(t){return(0,o.validateArgCount)("Query.limitToFirst",1,1,arguments.length),new e(this.database,Ro(this._delegate,bo(t)))},e.prototype.limitToLast=function(t){return(0,o.validateArgCount)("Query.limitToLast",1,1,arguments.length),new e(this.database,Ro(this._delegate,ko(t)))},e.prototype.orderByChild=function(t){return(0,o.validateArgCount)("Query.orderByChild",1,1,arguments.length),new e(this.database,Ro(this._delegate,So(t)))},e.prototype.orderByKey=function(){return(0,o.validateArgCount)("Query.orderByKey",0,0,arguments.length),new e(this.database,Ro(this._delegate,Eo()))},e.prototype.orderByPriority=function(){return(0,o.validateArgCount)("Query.orderByPriority",0,0,arguments.length),new e(this.database,Ro(this._delegate,xo()))},e.prototype.orderByValue=function(){return(0,o.validateArgCount)("Query.orderByValue",0,0,arguments.length),new e(this.database,Ro(this._delegate,Po()))},e.prototype.startAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAt",0,2,arguments.length),new e(this.database,Ro(this._delegate,go(t,n)))},e.prototype.startAfter=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.startAfter",0,2,arguments.length),new e(this.database,Ro(this._delegate,yo(t,n)))},e.prototype.endAt=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endAt",0,2,arguments.length),new e(this.database,Ro(this._delegate,fo(t,n)))},e.prototype.endBefore=function(t,n){return void 0===t&&(t=null),(0,o.validateArgCount)("Query.endBefore",0,2,arguments.length),new e(this.database,Ro(this._delegate,po(t,n)))},e.prototype.equalTo=function(t,n){return(0,o.validateArgCount)("Query.equalTo",1,2,arguments.length),new e(this.database,Ro(this._delegate,No(t,n)))},e.prototype.toString=function(){return(0,o.validateArgCount)("Query.toString",0,0,arguments.length),this._delegate.toString()},e.prototype.toJSON=function(){return(0,o.validateArgCount)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()},e.prototype.isEqual=function(t){if((0,o.validateArgCount)("Query.isEqual",1,1,arguments.length),!(t instanceof e)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}return this._delegate.isEqual(t._delegate)},e.getCancelAndContextArgs_=function(e,t,n){var r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,o.validateCallback)(e,"cancel",r.cancel,!0),r.context=n,(0,o.validateContextObject)(e,"context",r.context,!0);else if(t)if("object"===typeof t&&null!==t)r.context=t;else{if("function"!==typeof t)throw new Error((0,o.errorPrefix)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r},Object.defineProperty(e.prototype,"ref",{get:function(){return new Yo(this.database,new Vi(this._delegate._repo,this._delegate._path))},enumerable:!1,configurable:!0}),e}(),Yo=function(e){function t(t,n){var r=e.call(this,t,new Fi(n._repo,n._path,new Tt,!1))||this;return r.database=t,r._delegate=n,r}return(0,a.__extends)(t,e),t.prototype.getKey=function(){return(0,o.validateArgCount)("Reference.key",0,0,arguments.length),this._delegate.key},t.prototype.child=function(e){return(0,o.validateArgCount)("Reference.child",1,1,arguments.length),"number"===typeof e&&(e=String(e)),new t(this.database,Gi(this._delegate,e))},t.prototype.getParent=function(){(0,o.validateArgCount)("Reference.parent",0,0,arguments.length);var e=this._delegate.parent;return e?new t(this.database,e):null},t.prototype.getRoot=function(){return(0,o.validateArgCount)("Reference.root",0,0,arguments.length),new t(this.database,this._delegate.root)},t.prototype.set=function(e,t){(0,o.validateArgCount)("Reference.set",1,2,arguments.length),(0,o.validateCallback)("Reference.set","onComplete",t,!0);var n=$i(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.update=function(e,t){if((0,o.validateArgCount)("Reference.update",1,2,arguments.length),Array.isArray(e)){for(var n={},r=0;r<e.length;++r)n[""+r]=e[r];e=n,C("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Zr("Reference.update",this._delegate._path),(0,o.validateCallback)("Reference.update","onComplete",t,!0);var i=Zi(this._delegate,e);return t&&i.then((function(){return t(null)}),(function(e){return t(e)})),i},t.prototype.setWithPriority=function(e,t,n){(0,o.validateArgCount)("Reference.setWithPriority",2,3,arguments.length),(0,o.validateCallback)("Reference.setWithPriority","onComplete",n,!0);var r=Qi(this._delegate,e,t);return n&&r.then((function(){return n(null)}),(function(e){return n(e)})),r},t.prototype.remove=function(e){(0,o.validateArgCount)("Reference.remove",0,1,arguments.length),(0,o.validateCallback)("Reference.remove","onComplete",e,!0);var t=Yi(this._delegate);return e&&t.then((function(){return e(null)}),(function(t){return e(t)})),t},t.prototype.transaction=function(e,t,n){var r=this;(0,o.validateArgCount)("Reference.transaction",1,3,arguments.length),(0,o.validateCallback)("Reference.transaction","transactionUpdate",e,!1),(0,o.validateCallback)("Reference.transaction","onComplete",t,!0),ei("Reference.transaction","applyLocally",n,!0);var i=zo(this._delegate,e,{applyLocally:n}).then((function(e){return new Ko(e.committed,new Go(r.database,e.snapshot))}));return t&&i.then((function(e){return t(null,e.committed,e.snapshot)}),(function(e){return t(e,!1,null)})),i},t.prototype.setPriority=function(e,t){(0,o.validateArgCount)("Reference.setPriority",1,2,arguments.length),(0,o.validateCallback)("Reference.setPriority","onComplete",t,!0);var n=Xi(this._delegate,e);return t&&n.then((function(){return t(null)}),(function(e){return t(e)})),n},t.prototype.push=function(e,n){var r=this;(0,o.validateArgCount)("Reference.push",0,2,arguments.length),(0,o.validateCallback)("Reference.push","onComplete",n,!0);var i=Hi(this._delegate,e),a=i.then((function(e){return new t(r.database,e)}));n&&a.then((function(){return n(null)}),(function(e){return n(e)}));var s=new t(this.database,i);return s.then=a.then.bind(a),s.catch=a.catch.bind(a,void 0),s},t.prototype.onDisconnect=function(){return Zr("Reference.onDisconnect",this._delegate._path),new Wo(new ji(this._delegate._repo,this._delegate._path))},Object.defineProperty(t.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),t}(Ho),$o=function(){function e(e,t){var n=this;this._delegate=e,this.app=t,this.INTERNAL={delete:function(){return n._delegate._delete()}}}return e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),Fo(this._delegate,e,t,n)},e.prototype.ref=function(e){if((0,o.validateArgCount)("database.ref",0,1,arguments.length),e instanceof Yo){var t=Ki(this._delegate,e.toString());return new Yo(this,t)}t=Wi(this._delegate,e);return new Yo(this,t)},e.prototype.refFromURL=function(e){var t="database.refFromURL";(0,o.validateArgCount)(t,1,1,arguments.length);var n=Ki(this._delegate,e);return new Yo(this,n)},e.prototype.goOffline=function(){return(0,o.validateArgCount)("database.goOffline",0,0,arguments.length),Uo(this._delegate)},e.prototype.goOnline=function(){return(0,o.validateArgCount)("database.goOnline",0,0,arguments.length),qo(this._delegate)},e.ServerValue={TIMESTAMP:Bo,increment:function(e){return function(e){return{".sv":{increment:e}}}(e)}},e}();var Xo=Object.freeze({__proto__:null,forceLongPolling:function(){ce.forceDisallow(),ae.forceAllow()},forceWebSockets:function(){ae.forceDisallow()},isWebSocketsAvailable:function(){return ce.isAvailable()},setSecurityDebugCallback:function(e,t){e._delegate._repo.persistentConnection_.securityDebugCallback_=t},stats:function(e,t){!function(e,t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var n;t?(e.statsListener_||(e.statsListener_=new Ft(e.stats_)),n=e.statsListener_.get()):n=e.stats_.get();var r=Object.keys(n).reduce((function(e,t){return Math.max(t.length,e)}),0);L(n,(function(e,t){for(var n=e,i=e.length;i<r+2;i++)n+=" ";console.log(n+t)}))}}(e._delegate._repo,t)},statsIncrementCounter:function(e,t){!function(e,t){var n,r;e.stats_.incrementCounter(t),n=e.statsReporter_,r=t,n.statsToReport_[r]=!0}(e._delegate._repo,t)},dataUpdateCount:function(e){return e._delegate._repo.dataUpdateCount},interceptServerData:function(e,t){return function(e,t){e.interceptServerDataCallback_=t}(e._delegate._repo,t)},initStandalone:function(e){var t=e.app,n=e.url,r=e.version,o=e.customAuthImpl,a=e.namespace,s=e.nodeAdmin,u=void 0!==s&&s;l(r);var c=new i.Provider("auth-internal",new i.ComponentContainer("database-standalone"));return c.setComponent(new i.Component("auth-internal",(function(){return o}),"PRIVATE")),{instance:new $o(Lo(t,c,void 0,n,u),t),namespace:a}}}),Qo=Le;Le.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},Le.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};var Zo=fe,Jo=Q,ea=Object.freeze({__proto__:null,DataConnection:Qo,RealTimeConnection:Zo,hijackHash:function(e){var t=Le.prototype.put;return Le.prototype.put=function(n,r,i,o){void 0!==o&&(o=e()),t.call(this,n,r,i,o)},function(){Le.prototype.put=t}},ConnectionTarget:Jo,queryIdentifier:function(e){return e._delegate._queryIdentifier},forceRestClient:function(e){!function(e){Mo=e}(e)}}),ta=$o.ServerValue;!function(t){l(t.SDK_VERSION);var n=t.INTERNAL.registerComponent(new i.Component("database",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return new $o(Lo(r,i,o,n),r)}),"PUBLIC").setServiceProps({Reference:Yo,Query:Ho,Database:$o,DataSnapshot:Go,enableLogging:k,INTERNAL:Xo,ServerValue:ta,TEST_ACCESS:ea}).setMultipleInstances(!0));t.registerVersion("@firebase/database","0.11.0"),(0,o.isNodeSdk)()&&(e.exports=n)}(r.default)},4594:function(e,t,n){"use strict";function r(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.r(t),n.d(t,{LogLevel:function(){return o},Logger:function(){return f},setLogLevel:function(){return h},setUserLogHandler:function(){return d}});var o,a=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(t<e.logLevel)){var o=(new Date).toISOString(),a=c[t];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+t+")");console[a].apply(console,r(["["+o+"]  "+e.name+":"],n))}},f=function(){function e(e){this.name=e,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(e.prototype,"logLevel",{get:function(){return this._logLevel},set:function(e){if(!(e in o))throw new TypeError('Invalid value "'+e+'" assigned to `logLevel`');this._logLevel=e},enumerable:!1,configurable:!0}),e.prototype.setLogLevel=function(e){this._logLevel="string"===typeof e?s[e]:e},Object.defineProperty(e.prototype,"logHandler",{get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e},enumerable:!1,configurable:!0}),e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],e)),this._logHandler.apply(this,r([this,o.DEBUG],e))},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],e)),this._logHandler.apply(this,r([this,o.VERBOSE],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],e)),this._logHandler.apply(this,r([this,o.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],e)),this._logHandler.apply(this,r([this,o.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],e)),this._logHandler.apply(this,r([this,o.ERROR],e))},e}();function h(e){a.forEach((function(t){t.setLogLevel(e)}))}function d(e,t){for(var n=function(n){var r=null;t&&t.level&&(r=s[t.level]),n.userLogHandler=null===e?null:function(t,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==r&&void 0!==r?r:t.logLevel)&&e({level:o[n].toLowerCase(),message:s,args:i,type:t.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},4589:function(e,t,n){"use strict";n.r(t),n.d(t,{CONSTANTS:function(){return i},Deferred:function(){return p},ErrorFactory:function(){return N},FirebaseError:function(){return O},MAX_VALUE_MILLIS:function(){return ce},RANDOM_FACTOR:function(){return le},Sha1:function(){return Q},areCookiesEnabled:function(){return A},assert:function(){return o},assertionError:function(){return a},async:function(){return ee},base64:function(){return u},base64Decode:function(){return f},base64Encode:function(){return c},base64urlEncodeWithoutPadding:function(){return l},calculateBackoffMillis:function(){return fe},contains:function(){return V},createMockUserToken:function(){return v},createSubscribe:function(){return Z},decode:function(){return j},deepCopy:function(){return h},deepEqual:function(){return G},deepExtend:function(){return d},errorPrefix:function(){return re},extractQuerystring:function(){return X},getGlobal:function(){return P},getModularInstance:function(){return de},getUA:function(){return g},isAdmin:function(){return B},isBrowser:function(){return _},isBrowserExtension:function(){return b},isElectron:function(){return k},isEmpty:function(){return W},isIE:function(){return I},isIndexedDBAvailable:function(){return C},isMobileCordova:function(){return m},isNode:function(){return y},isNodeSdk:function(){return T},isReactNative:function(){return w},isSafari:function(){return E},isUWP:function(){return S},isValidFormat:function(){return q},isValidTimestamp:function(){return F},issuedAtTime:function(){return U},jsonEval:function(){return M},map:function(){return K},ordinal:function(){return he},querystring:function(){return Y},querystringDecode:function(){return $},safeGet:function(){return z},stringLength:function(){return ue},stringToByteArray:function(){return se},stringify:function(){return L},validateArgCount:function(){return ne},validateCallback:function(){return oe},validateContextObject:function(){return ae},validateIndexedDBOpenable:function(){return x},validateNamespace:function(){return ie}});var r=n(655),i={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(e,t){if(!e)throw a(t)},a=function(e){return new Error("Firebase Database ("+i.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)},s=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},u={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var o=e[i],a=i+1<e.length,s=a?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=o>>2,f=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(s(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=e[n++]))<<12|(63&(s=e[n++]))<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(a>>10)),t[r++]=String.fromCharCode(56320+(1023&a))}else{o=e[n++];var s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var o=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},c=function(e){var t=s(e);return u.encodeByteArray(t,!0)},l=function(e){return c(e).replace(/\./g,"")},f=function(e){try{return u.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function h(e){return d(void 0,e)}function d(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=d(e[n],t[n]));return e}var p=function(){function e(){var e=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return e.prototype.wrapCallback=function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}},e}();function v(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",i=e.iat||0,o=e.sub||e.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=(0,r.__assign)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},e);return[l(JSON.stringify({alg:"none",type:"JWT"})),l(JSON.stringify(a)),""].join(".")}function g(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function m(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(g())}function y(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function _(){return"object"===typeof self&&self.self===self}function b(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function w(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function k(){return g().indexOf("Electron/")>=0}function I(){var e=g();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function S(){return g().indexOf("MSAppHost/")>=0}function T(){return!0===i.NODE_CLIENT||!0===i.NODE_ADMIN}function E(){return!y()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function C(){return"indexedDB"in self&&null!=indexedDB}function x(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(o){t(o)}}))}function A(){return!(!navigator||!navigator.cookieEnabled)}function P(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}var O=function(e){function t(n,r,i){var o=e.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,N.prototype.create),o}return(0,r.__extends)(t,e),t}(Error),N=function(){function e(e,t,n){this.service=e,this.serviceName=t,this.errors=n}return e.prototype.create=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=t[0]||{},i=this.service+"/"+e,o=this.errors[e],a=o?R(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new O(i,s,r);return u},e}();function R(e,t){return e.replace(D,(function(e,n){var r=t[n];return null!=r?String(r):"<"+n+"?>"}))}var D=/\{\$([^}]+)}/g;function M(e){return JSON.parse(e)}function L(e){return JSON.stringify(e)}var j=function(e){var t={},n={},r={},i="";try{var o=e.split(".");t=M(f(o[0])||""),n=M(f(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(a){}return{header:t,claims:n,data:r,signature:i}},F=function(e){var t=j(e).claims,n=Math.floor((new Date).getTime()/1e3),r=0,i=0;return"object"===typeof t&&(t.hasOwnProperty("nbf")?r=t.nbf:t.hasOwnProperty("iat")&&(r=t.iat),i=t.hasOwnProperty("exp")?t.exp:r+86400),!!n&&!!r&&!!i&&n>=r&&n<=i},U=function(e){var t=j(e).claims;return"object"===typeof t&&t.hasOwnProperty("iat")?t.iat:null},q=function(e){var t=j(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")},B=function(e){var t=j(e).claims;return"object"===typeof t&&!0===t.admin};function V(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function z(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function W(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function K(e,t,n){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function G(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,o=n;i<o.length;i++){var a=o[i];if(!r.includes(a))return!1;var s=e[a],u=t[a];if(H(s)&&H(u)){if(!G(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){a=l[c];if(!n.includes(a))return!1}return!0}function H(e){return null!==e&&"object"===typeof e}function Y(e){for(var t=[],n=function(e,n){Array.isArray(n)?n.forEach((function(n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))})):t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))},r=0,i=Object.entries(e);r<i.length;r++){var o=i[r];n(o[0],o[1])}return t.length?"&"+t.join("&"):""}function $(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=e.split("="),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function X(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Q=function(){function e(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}return e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(e,t){t||(t=0);var n=this.W_;if("string"===typeof e)for(var r=0;r<16;r++)n[r]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(r=0;r<16;r++)n[r]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],f=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+f+a+n[r]&4294967295;f=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+f&4294967295},e.prototype.update=function(e,t){if(null!=e){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}},e.prototype.digest=function(){var e=[],t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&t,t/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)e[r]=this.chain_[n]>>i&255,++r;return e},e}();function Z(e,t){var n=new J(e,t);return n.subscribe.bind(n)}var J=function(){function e(e,t){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((function(){e(n)})).catch((function(e){n.error(e)}))}return e.prototype.next=function(e){this.forEachObserver((function(t){t.next(e)}))},e.prototype.error=function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)},e.prototype.complete=function(){this.forEachObserver((function(e){e.complete()})),this.close()},e.prototype.subscribe=function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;for(var n=0,r=t;n<r.length;n++){var i=r[n];if(i in e&&"function"===typeof e[i])return!0}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=te),void 0===r.error&&(r.error=te),void 0===r.complete&&(r.complete=te);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),o},e.prototype.unsubscribeOne=function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},e.prototype.forEachObserver=function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)},e.prototype.sendOne=function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},e.prototype.close=function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))},e}();function ee(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then((function(){e.apply(void 0,n)})).catch((function(e){t&&t(e)}))}}function te(){}var ne=function(e,t,n,r){var i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function re(e,t){return e+" failed: "+t+" argument "}function ie(e,t,n){if((!n||t)&&"string"!==typeof t)throw new Error(re(e,"namespace")+"must be a valid firebase namespace.")}function oe(e,t,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(re(e,t)+"must be a valid function.")}function ae(e,t,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(re(e,t)+"must be a valid context object.")}var se=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);if(i>=55296&&i<=56319){var a=i-55296;r++,o(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(a<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ue=function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t},ce=144e5,le=.5;function fe(e,t,n){void 0===t&&(t=1e3),void 0===n&&(n=2);var r=t*Math.pow(n,e),i=Math.round(le*r*(Math.random()-.5)*2);return Math.min(ce,r+i)}function he(e){return Number.isFinite(e)?e+function(e){var t=(e=Math.abs(e))%100;if(t>=10&&t<=20)return"th";var n=e%10;if(1===n)return"st";if(2===n)return"nd";if(3===n)return"rd";return"th"}(e):""+e}function de(e){return e&&e._delegate?e._delegate:e}},9399:function(e,t,n){"use strict";n.d(t,{Z:function(){return x}});var r=n(7462),i=n(5987),o=n(7294),a=n(3935),s=n(6010),u=n(3834),c=n(5192),l=n(172),f=n(4896),h=n(1451),d=n(3366),p=n(7326),v=n(4578),g=o.createContext(null);function m(e,t){var n=Object.create(null);return e&&o.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,o.isValidElement)(e)?t(e):e}(e)})),n}function y(e,t,n){return null!=n[t]?n[t]:e.props[t]}function _(e,t,n){var r=m(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in t){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(a){var s=i[a];if((0,o.isValidElement)(s)){var u=a in t,c=a in r,l=t[a],f=(0,o.isValidElement)(l)&&!l.props.in;!c||u&&!f?c||!u||f?c&&u&&(0,o.isValidElement)(l)&&(i[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:l.props.in,exit:y(s,"exit",e),enter:y(s,"enter",e)})):i[a]=(0,o.cloneElement)(s,{in:!1}):i[a]=(0,o.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:y(s,"exit",e),enter:y(s,"enter",e)})}})),i}var b=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},w=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind((0,p.Z)(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}(0,v.Z)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,m(n.children,(function(e){return(0,o.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:y(e,"appear",n),enter:y(e,"enter",n),exit:y(e,"exit",n)})}))):_(e,i,a),firstRender:!1}},n.handleExited=function(e,t){var n=m(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,r.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,d.Z)(e,["component","childFactory"]),i=this.state.contextValue,a=b(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o.createElement(g.Provider,{value:i},a):o.createElement(g.Provider,{value:i},o.createElement(t,r,a))},t}(o.Component);w.propTypes={},w.defaultProps={component:"div",childFactory:function(e){return e}};var k=w,I="undefined"===typeof window?o.useEffect:o.useLayoutEffect;var S=function(e){var t=e.classes,n=e.pulsate,r=void 0!==n&&n,i=e.rippleX,a=e.rippleY,u=e.rippleSize,l=e.in,f=e.onExited,h=void 0===f?function(){}:f,d=e.timeout,p=o.useState(!1),v=p[0],g=p[1],m=(0,s.Z)(t.ripple,t.rippleVisible,r&&t.ripplePulsate),y={width:u,height:u,top:-u/2+a,left:-u/2+i},_=(0,s.Z)(t.child,v&&t.childLeaving,r&&t.childPulsate),b=(0,c.Z)(h);return I((function(){if(!l){g(!0);var e=setTimeout(b,d);return function(){clearTimeout(e)}}}),[b,l,d]),o.createElement("span",{className:m,style:y},o.createElement("span",{className:_}))},T=o.forwardRef((function(e,t){var n=e.center,a=void 0!==n&&n,u=e.classes,c=e.className,l=(0,i.Z)(e,["center","classes","className"]),f=o.useState([]),d=f[0],p=f[1],v=o.useRef(0),g=o.useRef(null);o.useEffect((function(){g.current&&(g.current(),g.current=null)}),[d]);var m=o.useRef(!1),y=o.useRef(null),_=o.useRef(null),b=o.useRef(null);o.useEffect((function(){return function(){clearTimeout(y.current)}}),[]);var w=o.useCallback((function(e){var t=e.pulsate,n=e.rippleX,r=e.rippleY,i=e.rippleSize,a=e.cb;p((function(e){return[].concat((0,h.Z)(e),[o.createElement(S,{key:v.current,classes:u,timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i})])})),v.current+=1,g.current=a}),[u]),I=o.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,i=void 0!==r&&r,o=t.center,s=void 0===o?a||t.pulsate:o,u=t.fakeElement,c=void 0!==u&&u;if("mousedown"===e.type&&m.current)m.current=!1;else{"touchstart"===e.type&&(m.current=!0);var l,f,h,d=c?null:b.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,g=v.clientX,k=v.clientY;l=Math.round(g-p.left),f=Math.round(k-p.top)}if(s)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var I=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(I,2)+Math.pow(S,2))}e.touches?null===_.current&&(_.current=function(){w({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})},y.current=setTimeout((function(){_.current&&(_.current(),_.current=null)}),80)):w({pulsate:i,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[a,w]),T=o.useCallback((function(){I({},{pulsate:!0})}),[I]),E=o.useCallback((function(e,t){if(clearTimeout(y.current),"touchend"===e.type&&_.current)return e.persist(),_.current(),_.current=null,void(y.current=setTimeout((function(){E(e,t)})));_.current=null,p((function(e){return e.length>0?e.slice(1):e})),g.current=t}),[]);return o.useImperativeHandle(t,(function(){return{pulsate:T,start:I,stop:E}}),[T,I,E]),o.createElement("span",(0,r.Z)({className:(0,s.Z)(u.root,c),ref:b},l),o.createElement(k,{component:null,exit:!0},d))})),E=(0,l.Z)((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(o.memo(T)),C=o.forwardRef((function(e,t){var n=e.action,l=e.buttonRef,h=e.centerRipple,d=void 0!==h&&h,p=e.children,v=e.classes,g=e.className,m=e.component,y=void 0===m?"button":m,_=e.disabled,b=void 0!==_&&_,w=e.disableRipple,k=void 0!==w&&w,I=e.disableTouchRipple,S=void 0!==I&&I,T=e.focusRipple,C=void 0!==T&&T,x=e.focusVisibleClassName,A=e.onBlur,P=e.onClick,O=e.onFocus,N=e.onFocusVisible,R=e.onKeyDown,D=e.onKeyUp,M=e.onMouseDown,L=e.onMouseLeave,j=e.onMouseUp,F=e.onTouchEnd,U=e.onTouchMove,q=e.onTouchStart,B=e.onDragLeave,V=e.tabIndex,z=void 0===V?0:V,W=e.TouchRippleProps,K=e.type,G=void 0===K?"button":K,H=(0,i.Z)(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),Y=o.useRef(null);var $=o.useRef(null),X=o.useState(!1),Q=X[0],Z=X[1];b&&Q&&Z(!1);var J=(0,f.Z)(),ee=J.isFocusVisible,te=J.onBlurVisible,ne=J.ref;function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S;return(0,c.Z)((function(r){return t&&t(r),!n&&$.current&&$.current[e](r),!0}))}o.useImperativeHandle(n,(function(){return{focusVisible:function(){Z(!0),Y.current.focus()}}}),[]),o.useEffect((function(){Q&&C&&!k&&$.current.pulsate()}),[k,C,Q]);var ie=re("start",M),oe=re("stop",B),ae=re("stop",j),se=re("stop",(function(e){Q&&e.preventDefault(),L&&L(e)})),ue=re("start",q),ce=re("stop",F),le=re("stop",U),fe=re("stop",(function(e){Q&&(te(e),Z(!1)),A&&A(e)}),!1),he=(0,c.Z)((function(e){Y.current||(Y.current=e.currentTarget),ee(e)&&(Z(!0),N&&N(e)),O&&O(e)})),de=function(){var e=a.findDOMNode(Y.current);return y&&"button"!==y&&!("A"===e.tagName&&e.href)},pe=o.useRef(!1),ve=(0,c.Z)((function(e){C&&!pe.current&&Q&&$.current&&" "===e.key&&(pe.current=!0,e.persist(),$.current.stop(e,(function(){$.current.start(e)}))),e.target===e.currentTarget&&de()&&" "===e.key&&e.preventDefault(),R&&R(e),e.target===e.currentTarget&&de()&&"Enter"===e.key&&!b&&(e.preventDefault(),P&&P(e))})),ge=(0,c.Z)((function(e){C&&" "===e.key&&$.current&&Q&&!e.defaultPrevented&&(pe.current=!1,e.persist(),$.current.stop(e,(function(){$.current.pulsate(e)}))),D&&D(e),P&&e.target===e.currentTarget&&de()&&" "===e.key&&!e.defaultPrevented&&P(e)})),me=y;"button"===me&&H.href&&(me="a");var ye={};"button"===me?(ye.type=G,ye.disabled=b):("a"===me&&H.href||(ye.role="button"),ye["aria-disabled"]=b);var _e=(0,u.Z)(l,t),be=(0,u.Z)(ne,Y),we=(0,u.Z)(_e,be),ke=o.useState(!1),Ie=ke[0],Se=ke[1];o.useEffect((function(){Se(!0)}),[]);var Te=Ie&&!k&&!b;return o.createElement(me,(0,r.Z)({className:(0,s.Z)(v.root,g,Q&&[v.focusVisible,x],b&&v.disabled),onBlur:fe,onClick:P,onFocus:he,onKeyDown:ve,onKeyUp:ge,onMouseDown:ie,onMouseLeave:se,onMouseUp:ae,onDragLeave:oe,onTouchEnd:ce,onTouchMove:le,onTouchStart:ue,ref:we,tabIndex:b?-1:z},ye,H),p,Te?o.createElement(E,(0,r.Z)({ref:$,center:d},W)):null)})),x=(0,l.Z)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(C)},9693:function(e,t,n){"use strict";n.d(t,{mi:function(){return s},Fq:function(){return c},_j:function(){return l},$n:function(){return f}});var r=n(288);function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function o(e){if(e.type)return e;if("#"===e.charAt(0))return o(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error((0,r.Z)(3,e));var i=e.substring(t+1,e.length-1).split(",");return{type:n,values:i=i.map((function(e){return parseFloat(e)}))}}function a(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function s(e,t){var n=u(e),r=u(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function u(e){var t="hsl"===(e=o(e)).type?o(function(e){var t=(e=o(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)},c="rgb",l=[Math.round(255*u(0)),Math.round(255*u(8)),Math.round(255*u(4))];return"hsla"===e.type&&(c+="a",l.push(t[3])),a({type:c,values:l})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function c(e,t){return e=o(e),t=i(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,a(e)}function l(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return a(e)}function f(e,t){if(e=o(e),t=i(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return a(e)}},172:function(e,t,n){"use strict";n.d(t,{Z:function(){return gr}});var r=n(7462),i=n(5987),o=n(7294),a=n(8679),s=n.n(a),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c="object"===("undefined"===typeof window?"undefined":u(window))&&"object"===("undefined"===typeof document?"undefined":u(document))&&9===document.nodeType,l=n(3144),f=n(4578),h=n(7326),d=n(3366),p={}.constructor;function v(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(v);if(e.constructor!==p)return e;var t={};for(var n in e)t[n]=v(e[n]);return t}function g(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=v(t),o=r.plugins.onCreateRule(e,i,n);return o||(e[0],null)}var m=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},y=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=m(e[r]," ");else n=m(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function _(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function b(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function w(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,o=void 0===i?0:i,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=_(n),u=s.linebreak,c=s.space;if(e&&o++,a)if(Array.isArray(a))for(var l=0;l<a.length;l++){var f=a[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=u),r+=b(h+":"+c+y(d)+";",o))}}else for(var p in a){var v=a[p];null!=v&&(r&&(r+=u),r+=b(p+":"+c+y(v)+";",o))}for(var g in t){var m=t[g];null!=m&&"fallbacks"!==g&&(r&&(r+=u),r+=b(g+":"+c+y(m)+";",o))}return(r||n.allowEmpty)&&e?(r&&(r=""+u+r+u),b(""+e+c+"{"+r,--o)+b("}",o)):r}var k=/([[\].#*$><+~=|^:(),"'`\s])/g,I="undefined"!==typeof CSS&&CSS.escape,S=function(e){return I?I(e):e.replace(k,"\\$1")},T=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==i||!1===i,a=e in this.style;if(o&&!a&&!r)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var u=this.options.sheet;return u&&u.attached,this},e}(),E=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var o=r.selector,a=r.scoped,s=r.sheet,u=r.generateId;return o?i.selectorText=o:!1!==a&&(i.id=u((0,h.Z)((0,h.Z)(i)),s),i.selectorText="."+S(i.id)),i}(0,f.Z)(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=y(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,r.Z)({},e,{allowEmpty:!0}):e;return w(this.selectorText,this.style,n)},(0,l.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(T),C={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new E(e,t,n)}},x={indent:1,children:!0},A=/@([\w-]+)/,P=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(A);for(var o in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ee((0,r.Z)({},n,{parent:this})),t)this.rules.add(o,t[o]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=x);var t=_(e).linebreak;if(null==e.indent&&(e.indent=x.indent),null==e.children&&(e.children=x.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),O=/@media|@supports\s+/,N={onCreateRule:function(e,t,n){return O.test(e)?new P(e,t,n):null}},R={indent:1,children:!0},D=/@keyframes\s+([\w-]+)/,M=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(D);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var o=n.scoped,a=n.sheet,s=n.generateId;for(var u in this.id=!1===o?this.name:S(s(this,a)),this.rules=new ee((0,r.Z)({},n,{parent:this})),t)this.rules.add(u,t[u],(0,r.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=R);var t=_(e).linebreak;if(null==e.indent&&(e.indent=R.indent),null==e.children&&(e.children=R.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),L=/@keyframes\s+/,j=/\$([\w-]+)/g,F=function(e,t){return"string"===typeof e?e.replace(j,(function(e,n){return n in t?t[n]:e})):e},U=function(e,t,n){var r=e[t],i=F(r,n);i!==r&&(e[t]=i)},q={onCreateRule:function(e,t,n){return"string"===typeof e&&L.test(e)?new M(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&U(e,"animation-name",n.keyframes),"animation"in e&&U(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return F(e,r.keyframes);default:return e}}},B=function(e){function t(){return e.apply(this,arguments)||this}return(0,f.Z)(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,r.Z)({},e,{allowEmpty:!0}):e;return w(this.key,this.style,n)},t}(T),V={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new B(e,t,n):null}},z=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=_(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=w(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return w(this.at,this.style,e)},e}(),W=/@font-face/,K={onCreateRule:function(e,t,n){return W.test(e)?new z(e,t,n):null}},G=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return w(this.key,this.style,e)},e}(),H={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new G(e,t,n):null}},Y=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),$={"@charset":!0,"@import":!0,"@namespace":!0},X={onCreateRule:function(e,t,n){return e in $?new Y(e,t,n):null}},Q=[C,N,q,V,K,H,X],Z={process:!0},J={force:!0,process:!0},ee=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,o=i.parent,a=i.sheet,s=i.jss,u=i.Renderer,c=i.generateId,l=i.scoped,f=(0,r.Z)({classes:this.classes,parent:o,sheet:a,jss:s,Renderer:u,generateId:c,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+S(this.classes[h]));var d=g(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var i=this.get(e),o=this.index.indexOf(i);i&&this.remove(i);var a=n;return-1!==o&&(a=(0,r.Z)({},n,{index:o})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof E?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof M&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof E?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof M&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=Z);var i=this.options,o=i.jss.plugins,a=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var s=t.style;if(o.onUpdate(n,t,a,r),r.process&&s&&s!==t.style){for(var u in o.onProcessStyle(t.style,t,a),t.style){var c=t.style[u];c!==s[u]&&t.prop(u,c,J)}for(var l in s){var f=t.style[l],h=s[l];null==f&&f!==h&&t.prop(l,null,J)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=_(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||r)&&(t&&(t+=i),t+=a)}return t},e}(),te=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,r.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new ee(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),ne=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),re=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=(0,d.Z)(t,["attached"]),i=_(r).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=i),o+=s.toString(r))}return o},(0,l.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),ie=new re,oe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ae="2f1acc6c3a606b082e5eef5e54414ffb";null==oe[ae]&&(oe[ae]=0);var se=oe[ae]++,ue=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",o="";return r&&(r.options.classNamePrefix&&(o=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(o||"c")+se+i+t:o+n.key+"-"+se+(i?"-"+i:"")+"-"+t}},ce=function(e){var t;return function(){return t||(t=e()),t}},le=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},fe=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=y(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},he=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},de=function(e,t){return e.selectorText=t,e.selectorText===t},pe=ce((function(){return document.querySelector("head")}));function ve(e){var t=ie.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=pe(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var ge=ce((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),me=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},ye=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},_e=function(){function e(e){this.getPropertyValue=le,this.setProperty=fe,this.removeProperty=he,this.setSelector=de,this.hasInsertedRules=!1,this.cssRules=[],e&&ie.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var o=ge();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=ve(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,o=i.parentNode;o&&o.insertBefore(e,i.nextSibling)}else pe().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var o=ye(n,t);if(!1===(i=me(n,r.toString({children:!1}),o)))return!1;this.refCssRule(e,o,i)}return this.insertRules(r.rules,i),i}var a=e.toString();if(!a)return!1;var s=ye(n,t),u=me(n,a,s);return!1!==u&&(this.hasInsertedRules=!0,this.refCssRule(e,s,u),u)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof te&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),be=0,we=function(){function e(e){this.id=be++,this.version="10.9.0",this.plugins=new ne,this.options={id:{minify:!1},createGenerateId:ue,Renderer:c?_e:null,plugins:[]},this.generateId=ue({minify:!1});for(var t=0;t<Q.length;t++)this.plugins.use(Q[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,r.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===ie.index?0:ie.index+1);var i=new te(e,(0,r.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),ie.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=(0,r.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var o=g(e,t,i);return o&&this.plugins.onProcessRule(o),o},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),ke=function(e){return new we(e)},Ie="object"===typeof CSS&&null!=CSS&&"number"in CSS;function Se(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var o=Se(r);o&&(t||(t={}),t[n]=o)}}return t}ke();function Te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,r.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}var Ee={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Ce=Ee;var xe=o.createContext(null);function Ae(){return o.useContext(xe)}var Pe="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",Oe=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Ne=Date.now(),Re="fnValues"+Ne,De="fnStyle"+ ++Ne,Me=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=g(e,{},n);return r[De]=t,r},onProcessStyle:function(e,t){if(Re in t||De in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[Re]=n,e},onUpdate:function(e,t,n,r){var i=t,o=i[De];o&&(i.style=o(e)||{});var a=i[Re];if(a)for(var s in a)i.prop(s,a[s](e),r)}}},Le="@global",je="@global ",Fe=function(){function e(e,t,n){for(var i in this.type="global",this.at=Le,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new ee((0,r.Z)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Ue=function(){function e(e,t,n){this.type="global",this.at=Le,this.isProcessed=!1,this.key=e,this.options=n;var i=e.substr(je.length);this.rule=n.jss.createRule(i,t,(0,r.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),qe=/\s*,\s*/g;function Be(e,t){for(var n=e.split(qe),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Ve=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Le)return new Fe(e,t,n);if("@"===e[0]&&e.substr(0,je.length)===je)return new Ue(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,o=i?i[Le]:null;if(o){for(var a in o)t.addRule(a,o[a],(0,r.Z)({},n,{selector:Be(a,e.selector)}));delete i[Le]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var o in i)if("@"===o[0]&&o.substr(0,Le.length)===Le){var a=Be(o.substr(Le.length),e.selector);t.addRule(a,i[o],(0,r.Z)({},n,{selector:a})),delete i[o]}}(e,t))}}},ze=/\s*,\s*/g,We=/&/g,Ke=/\$([\w-]+)/g;var Ge=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(ze),r=e.split(ze),i="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<r.length;s++){var u=r[s];i&&(i+=", "),i+=-1!==u.indexOf("&")?u.replace(We,a):a+" "+u}return i}function n(e,t,n){if(n)return(0,r.Z)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var o=(0,r.Z)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete o.name,o}return{onProcessStyle:function(i,o,a){if("style"!==o.type)return i;var s,u,c=o,l=c.options.parent;for(var f in i){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(s=n(c,l,s),h){var p=t(f,c.selector);u||(u=e(l,a)),p=p.replace(Ke,u);var v=c.key+"-"+f;"replaceRule"in l?l.replaceRule(v,i[f],(0,r.Z)({},s,{selector:p})):l.addRule(v,i[f],(0,r.Z)({},s,{selector:p}))}else d&&l.addRule(f,{},s).addRule(c.key,i[f],{selector:c.selector});delete i[f]}}return i}}},He=n(5477);function Ye(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:(0,He.default)(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Ye):t.fallbacks=Ye(e.fallbacks)),t}var $e=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Ye(e[t]);return e}return Ye(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=(0,He.default)(t);return t===r?e:(n.prop(r,e),null)}}},Xe=Ie&&CSS?CSS.px:"px",Qe=Ie&&CSS?CSS.ms:"ms",Ze=Ie&&CSS?CSS.percent:"%";function Je(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var et=Je({"animation-delay":Qe,"animation-duration":Qe,"background-position":Xe,"background-position-x":Xe,"background-position-y":Xe,"background-size":Xe,border:Xe,"border-bottom":Xe,"border-bottom-left-radius":Xe,"border-bottom-right-radius":Xe,"border-bottom-width":Xe,"border-left":Xe,"border-left-width":Xe,"border-radius":Xe,"border-right":Xe,"border-right-width":Xe,"border-top":Xe,"border-top-left-radius":Xe,"border-top-right-radius":Xe,"border-top-width":Xe,"border-width":Xe,"border-block":Xe,"border-block-end":Xe,"border-block-end-width":Xe,"border-block-start":Xe,"border-block-start-width":Xe,"border-block-width":Xe,"border-inline":Xe,"border-inline-end":Xe,"border-inline-end-width":Xe,"border-inline-start":Xe,"border-inline-start-width":Xe,"border-inline-width":Xe,"border-start-start-radius":Xe,"border-start-end-radius":Xe,"border-end-start-radius":Xe,"border-end-end-radius":Xe,margin:Xe,"margin-bottom":Xe,"margin-left":Xe,"margin-right":Xe,"margin-top":Xe,"margin-block":Xe,"margin-block-end":Xe,"margin-block-start":Xe,"margin-inline":Xe,"margin-inline-end":Xe,"margin-inline-start":Xe,padding:Xe,"padding-bottom":Xe,"padding-left":Xe,"padding-right":Xe,"padding-top":Xe,"padding-block":Xe,"padding-block-end":Xe,"padding-block-start":Xe,"padding-inline":Xe,"padding-inline-end":Xe,"padding-inline-start":Xe,"mask-position-x":Xe,"mask-position-y":Xe,"mask-size":Xe,height:Xe,width:Xe,"min-height":Xe,"max-height":Xe,"min-width":Xe,"max-width":Xe,bottom:Xe,left:Xe,top:Xe,right:Xe,inset:Xe,"inset-block":Xe,"inset-block-end":Xe,"inset-block-start":Xe,"inset-inline":Xe,"inset-inline-end":Xe,"inset-inline-start":Xe,"box-shadow":Xe,"text-shadow":Xe,"column-gap":Xe,"column-rule":Xe,"column-rule-width":Xe,"column-width":Xe,"font-size":Xe,"font-size-delta":Xe,"letter-spacing":Xe,"text-decoration-thickness":Xe,"text-indent":Xe,"text-stroke":Xe,"text-stroke-width":Xe,"word-spacing":Xe,motion:Xe,"motion-offset":Xe,outline:Xe,"outline-offset":Xe,"outline-width":Xe,perspective:Xe,"perspective-origin-x":Ze,"perspective-origin-y":Ze,"transform-origin":Ze,"transform-origin-x":Ze,"transform-origin-y":Ze,"transform-origin-z":Ze,"transition-delay":Qe,"transition-duration":Qe,"vertical-align":Xe,"flex-basis":Xe,"shape-margin":Xe,size:Xe,gap:Xe,grid:Xe,"grid-gap":Xe,"row-gap":Xe,"grid-row-gap":Xe,"grid-column-gap":Xe,"grid-template-rows":Xe,"grid-template-columns":Xe,"grid-auto-rows":Xe,"grid-auto-columns":Xe,"box-shadow-x":Xe,"box-shadow-y":Xe,"box-shadow-blur":Xe,"box-shadow-spread":Xe,"font-line-height":Xe,"text-shadow-x":Xe,"text-shadow-y":Xe,"text-shadow-blur":Xe});function tt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=tt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=tt(i,t[i],n);else for(var o in t)t[o]=tt(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var a=n[e]||et[e];return!a||0===t&&a===Xe?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}var nt=function(e){void 0===e&&(e={});var t=Je(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=tt(r,e[r],t);return e},onChangeValue:function(e,n){return tt(n,e,t)}}},rt=n(1451),it="",ot="",at="",st="",ut=c&&"ontouchstart"in document.documentElement;if(c){var ct={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},lt=document.createElement("p").style;for(var ft in ct)if(ft+"Transform"in lt){it=ft,ot=ct[ft];break}"Webkit"===it&&"msHyphens"in lt&&(it="ms",ot=ct.ms,st="edge"),"Webkit"===it&&"-apple-trailing-word"in lt&&(at="apple")}var ht=it,dt=ot,pt=at,vt=st,gt=ut;var mt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===ht?"-webkit-"+e:dt+e)}},yt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===ht?dt+"print-"+e:e)}},_t=/[-\s]+(.)?/g;function bt(e,t){return t?t.toUpperCase():""}function wt(e){return e.replace(_t,bt)}function kt(e){return wt("-"+e)}var It,St={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===ht){var n="mask-image";if(wt(n)in t)return e;if(ht+kt(n)in t)return dt+e}return e}},Tt={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==pt||gt?e:dt+e)}},Et={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:dt+e)}},Ct={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:dt+e)}},xt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===ht||"ms"===ht&&"edge"!==vt?dt+e:e)}},At={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===ht||"ms"===ht||"apple"===pt?dt+e:e)}},Pt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===ht?"WebkitColumn"+kt(e)in t&&dt+"column-"+e:"Moz"===ht&&("page"+kt(e)in t&&"page-"+e))}},Ot={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===ht)return e;var n=e.replace("-inline","");return ht+kt(n)in t&&dt+n}},Nt={supportedProperty:function(e,t){return wt(e)in t&&e}},Rt={supportedProperty:function(e,t){var n=kt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:ht+n in t?dt+e:"Webkit"!==ht&&"Webkit"+n in t&&"-webkit-"+e}},Dt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===ht?""+dt+e:e)}},Mt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===ht?dt+"scroll-chaining":e)}},Lt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},jt={supportedProperty:function(e,t){var n=Lt[e];return!!n&&(ht+kt(n)in t&&dt+n)}},Ft={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},Ut=Object.keys(Ft),qt=function(e){return dt+e},Bt={supportedProperty:function(e,t,n){var r=n.multiple;if(Ut.indexOf(e)>-1){var i=Ft[e];if(!Array.isArray(i))return ht+kt(i)in t&&dt+i;if(!r)return!1;for(var o=0;o<i.length;o++)if(!(ht+kt(i[0])in t))return!1;return i.map(qt)}return!1}},Vt=[mt,yt,St,Tt,Et,Ct,xt,At,Pt,Ot,Nt,Rt,Dt,Mt,jt,Bt],zt=Vt.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Wt=Vt.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,rt.Z)(t.noPrefill)),e}),[]),Kt={};if(c){It=document.createElement("p");var Gt=window.getComputedStyle(document.documentElement,"");for(var Ht in Gt)isNaN(Ht)||(Kt[Gt[Ht]]=Gt[Ht]);Wt.forEach((function(e){return delete Kt[e]}))}function Yt(e,t){if(void 0===t&&(t={}),!It)return e;if(null!=Kt[e])return Kt[e];"transition"!==e&&"transform"!==e||(t[e]=e in It.style);for(var n=0;n<zt.length&&(Kt[e]=zt[n](e,It.style,t),!Kt[e]);n++);try{It.style[e]=""}catch(r){return!1}return Kt[e]}var $t,Xt={},Qt={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Zt=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Jt(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?Yt(t):", "+Yt(n);return r||(t||n)}function en(e,t){var n=t;if(!$t||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=Xt[r])return Xt[r];try{$t.style[e]=n}catch(i){return Xt[r]=!1,!1}if(Qt[e])n=n.replace(Zt,Jt);else if(""===$t.style[e]&&("-ms-flex"===(n=dt+n)&&($t.style[e]="-ms-flexbox"),$t.style[e]=n,""===$t.style[e]))return Xt[r]=!1,!1;return $t.style[e]="",Xt[r]=n,Xt[r]}c&&($t=document.createElement("p"));var tn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,o=Yt(n);o&&o!==n&&(i=!0);var a=!1,s=en(o,y(r));s&&s!==r&&(a=!0),(i||a)&&(i&&delete t[n],t[o||n]=s||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===ht?e:"@"+dt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return en(t,y(e))||e}}};var nn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),o=0;o<i.length;o++)r[i[o]]=t[i[o]];return r}}};var rn=ke({plugins:[Me(),Ve(),Ge(),$e(),nt(),"undefined"===typeof window?null:tn(),nn()]}),on=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),u=0,c=function(){return u+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==Oe.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(r,"-").concat(e.key);return t.options.theme[Pe]&&""===a?"".concat(o,"-").concat(c()):o}return"".concat(s).concat(i).concat(c())}}(),an={disableGeneration:!1,generateClassName:on,jss:rn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},sn=o.createContext(an);var un=-1e9;function cn(){return un+=1}var ln=n(1002);function fn(e){return e&&"object"===(0,ln.Z)(e)&&e.constructor===Object}function hn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},i=n.clone?(0,r.Z)({},e):e;return fn(e)&&fn(t)&&Object.keys(t).forEach((function(r){"__proto__"!==r&&(fn(t[r])&&r in e?i[r]=hn(e[r],t[r],n):i[r]=t[r])})),i}function dn(e){var t="function"===typeof e;return{create:function(n,i){var o;try{o=t?e(n):e}catch(u){throw u}if(!i||!n.overrides||!n.overrides[i])return o;var a=n.overrides[i],s=(0,r.Z)({},o);return Object.keys(a).forEach((function(e){s[e]=hn(s[e],a[e])})),s},options:{}}}var pn={};function vn(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Te({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function gn(e,t){var n=e.state,i=e.theme,o=e.stylesOptions,a=e.stylesCreator,s=e.name;if(!o.disableGeneration){var u=Ce.get(o.sheetsManager,a,i);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Ce.set(o.sheetsManager,a,i,u));var c=(0,r.Z)({},a.options,o,{theme:i,flip:"boolean"===typeof o.flip?o.flip:"rtl"===i.direction});c.generateId=c.serverGenerateClassName||c.generateClassName;var l=o.sheetsRegistry;if(0===u.refs){var f;o.sheetsCache&&(f=Ce.get(o.sheetsCache,a,i));var h=a.create(i,s);f||((f=o.jss.createStyleSheet(h,(0,r.Z)({link:!1},c))).attach(),o.sheetsCache&&Ce.set(o.sheetsCache,a,i,f)),l&&l.add(f),u.staticSheet=f,u.dynamicStyles=Se(h)}if(u.dynamicStyles){var d=o.jss.createStyleSheet(u.dynamicStyles,(0,r.Z)({link:!0},c));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Te({baseClasses:u.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function mn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function yn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var o=Ce.get(r.sheetsManager,i,n);o.refs-=1;var a=r.sheetsRegistry;0===o.refs&&(Ce.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}function _n(e,t){var n,r=o.useRef([]),i=o.useMemo((function(){return{}}),t);r.current!==i&&(r.current=i,n=e()),o.useEffect((function(){return function(){n&&n()}}),[i])}function bn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,a=t.classNamePrefix,s=t.Component,u=t.defaultTheme,c=void 0===u?pn:u,l=(0,i.Z)(t,["name","classNamePrefix","Component","defaultTheme"]),f=dn(e),h=n||a||"makeStyles";f.options={index:cn(),name:n,meta:h,classNamePrefix:h};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ae()||c,i=(0,r.Z)({},o.useContext(sn),l),a=o.useRef(),u=o.useRef();_n((function(){var r={name:n,state:{},stylesCreator:f,stylesOptions:i,theme:t};return gn(r,e),u.current=!1,a.current=r,function(){yn(r)}}),[t,f]),o.useEffect((function(){u.current&&mn(a.current,e),u.current=!0}));var h=vn(a.current,e.classes,s);return h};return d}function wn(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,o=t.props[n];for(i in o)void 0===r[i]&&(r[i]=o[i]);return r}var kn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(n){var a=t.defaultTheme,u=t.withTheme,c=void 0!==u&&u,l=t.name,f=(0,i.Z)(t,["defaultTheme","withTheme","name"]);var h=l,d=bn(e,(0,r.Z)({defaultTheme:a,Component:n,name:l||n.displayName,classNamePrefix:h},f)),p=o.forwardRef((function(e,t){e.classes;var s,u=e.innerRef,f=(0,i.Z)(e,["classes","innerRef"]),h=d((0,r.Z)({},n.defaultProps,e)),p=f;return("string"===typeof l||c)&&(s=Ae()||a,l&&(p=wn({theme:s,name:l,props:f})),c&&!p.theme&&(p.theme=s)),o.createElement(n,(0,r.Z)({ref:u||t,classes:h},p))}));return s()(p,n),p}},In=["xs","sm","md","lg","xl"];function Sn(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,o=e.unit,a=void 0===o?"px":o,s=e.step,u=void 0===s?5:s,c=(0,i.Z)(e,["values","unit","step"]);function l(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(a,")")}function f(e,t){var r=In.indexOf(t);return r===In.length-1?l(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(a,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[In[r+1]]?n[In[r+1]]:t)-u/100).concat(a,")")}return(0,r.Z)({keys:In,values:n,up:l,down:function(e){var t=In.indexOf(e)+1,r=n[In[t]];return t===In.length?l("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-u/100).concat(a,")")},between:f,only:function(e){return f(e,e)},width:function(e){return n[e]}},c)}var Tn=n(4942);function En(e,t,n){var i;return(0,r.Z)({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),(0,r.Z)({paddingLeft:t(2),paddingRight:t(2)},n,(0,Tn.Z)({},e.up("sm"),(0,r.Z)({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(i={minHeight:56},(0,Tn.Z)(i,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),(0,Tn.Z)(i,e.up("sm"),{minHeight:64}),i)},n)}var Cn=n(288),xn={black:"#000",white:"#fff"},An={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Pn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},On={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Nn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Rn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Dn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Mn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},Ln=n(9693),jn={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:xn.white,default:An[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},Fn={text:{primary:xn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:An[800],default:"#303030"},action:{active:xn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function Un(e,t,n,r){var i=r.light||r,o=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,Ln.$n)(e.main,i):"dark"===t&&(e.dark=(0,Ln._j)(e.main,o)))}function qn(e){var t=e.primary,n=void 0===t?{light:Pn[300],main:Pn[500],dark:Pn[700]}:t,o=e.secondary,a=void 0===o?{light:On.A200,main:On.A400,dark:On.A700}:o,s=e.error,u=void 0===s?{light:Nn[300],main:Nn[500],dark:Nn[700]}:s,c=e.warning,l=void 0===c?{light:Rn[300],main:Rn[500],dark:Rn[700]}:c,f=e.info,h=void 0===f?{light:Dn[300],main:Dn[500],dark:Dn[700]}:f,d=e.success,p=void 0===d?{light:Mn[300],main:Mn[500],dark:Mn[700]}:d,v=e.type,g=void 0===v?"light":v,m=e.contrastThreshold,y=void 0===m?3:m,_=e.tonalOffset,b=void 0===_?.2:_,w=(0,i.Z)(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function k(e){return(0,Ln.mi)(e,Fn.text.primary)>=y?Fn.text.primary:jn.text.primary}var I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=(0,r.Z)({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error((0,Cn.Z)(4,t));if("string"!==typeof e.main)throw new Error((0,Cn.Z)(5,JSON.stringify(e.main)));return Un(e,"light",n,b),Un(e,"dark",i,b),e.contrastText||(e.contrastText=k(e.main)),e},S={dark:Fn,light:jn};return hn((0,r.Z)({common:xn,type:g,primary:I(n),secondary:I(a,"A400","A200","A700"),error:I(u),warning:I(l),info:I(h),success:I(p),grey:An,contrastThreshold:y,getContrastText:k,augmentColor:I,tonalOffset:b},S[g]),w)}function Bn(e){return Math.round(1e5*e)/1e5}function Vn(e){return Bn(e)}var zn={textTransform:"uppercase"},Wn='"Roboto", "Helvetica", "Arial", sans-serif';function Kn(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,a=void 0===o?Wn:o,s=n.fontSize,u=void 0===s?14:s,c=n.fontWeightLight,l=void 0===c?300:c,f=n.fontWeightRegular,h=void 0===f?400:f,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,g=void 0===v?700:v,m=n.htmlFontSize,y=void 0===m?16:m,_=n.allVariants,b=n.pxToRem,w=(0,i.Z)(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var k=u/14,I=b||function(e){return"".concat(e/y*k,"rem")},S=function(e,t,n,i,o){return(0,r.Z)({fontFamily:a,fontWeight:e,fontSize:I(t),lineHeight:n},a===Wn?{letterSpacing:"".concat(Bn(i/t),"em")}:{},o,_)},T={h1:S(l,96,1.167,-1.5),h2:S(l,60,1.2,-.5),h3:S(h,48,1.167,0),h4:S(h,34,1.235,.25),h5:S(h,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(h,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(h,16,1.5,.15),body2:S(h,14,1.43,.15),button:S(p,14,1.75,.4,zn),caption:S(h,12,1.66,.4),overline:S(h,12,2.66,1,zn)};return hn((0,r.Z)({htmlFontSize:y,pxToRem:I,round:Vn,fontFamily:a,fontSize:u,fontWeightLight:l,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:g},T),w,{clone:!1})}function Gn(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var Hn=["none",Gn(0,2,1,-1,0,1,1,0,0,1,3,0),Gn(0,3,1,-2,0,2,2,0,0,1,5,0),Gn(0,3,3,-2,0,3,4,0,0,1,8,0),Gn(0,2,4,-1,0,4,5,0,0,1,10,0),Gn(0,3,5,-1,0,5,8,0,0,1,14,0),Gn(0,3,5,-1,0,6,10,0,0,1,18,0),Gn(0,4,5,-2,0,7,10,1,0,2,16,1),Gn(0,5,5,-3,0,8,10,1,0,3,14,2),Gn(0,5,6,-3,0,9,12,1,0,3,16,2),Gn(0,6,6,-3,0,10,14,1,0,4,18,3),Gn(0,6,7,-4,0,11,15,1,0,4,20,3),Gn(0,7,8,-4,0,12,17,2,0,5,22,4),Gn(0,7,8,-4,0,13,19,2,0,5,24,4),Gn(0,7,9,-4,0,14,21,2,0,5,26,4),Gn(0,8,9,-5,0,15,22,2,0,6,28,5),Gn(0,8,10,-5,0,16,24,2,0,6,30,5),Gn(0,8,11,-5,0,17,26,2,0,6,32,5),Gn(0,9,11,-5,0,18,28,2,0,7,34,6),Gn(0,9,12,-6,0,19,29,2,0,7,36,6),Gn(0,10,13,-6,0,20,31,3,0,8,38,7),Gn(0,10,13,-6,0,21,33,3,0,8,40,7),Gn(0,10,14,-6,0,22,35,3,0,8,42,7),Gn(0,11,14,-7,0,23,36,3,0,9,44,8),Gn(0,11,15,-7,0,24,38,3,0,9,46,8)],Yn={borderRadius:4};var $n=n(181);function Xn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||(0,$n.Z)(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Qn={xs:0,sm:600,md:960,lg:1280,xl:1920},Zn={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(Qn[e],"px)")}};var Jn=function(e,t){return t?hn(e,t,{clone:!1}):e};var er={m:"margin",p:"padding"},tr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},nr={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},rr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!nr[e])return[e];e=nr[e]}var t=Xn(e.split(""),2),n=t[0],r=t[1],i=er[n],o=tr[r]||"";return Array.isArray(o)?o.map((function(e){return i+e})):[i+o]})),ir=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function or(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function ar(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function sr(e){var t=or(e.theme);return Object.keys(e).map((function(n){if(-1===ir.indexOf(n))return null;var r=ar(rr(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||Zn;return t.reduce((function(e,i,o){return e[r.up(r.keys[o])]=n(t[o]),e}),{})}if("object"===(0,ln.Z)(t)){var i=e.theme.breakpoints||Zn;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(Jn,{})}sr.propTypes={},sr.filterProps=ir;function ur(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=or({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var cr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},lr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function fr(e){return"".concat(Math.round(e),"ms")}var hr={easing:cr,duration:lr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?lr.standard:n,o=t.easing,a=void 0===o?cr.easeInOut:o,s=t.delay,u=void 0===s?0:s;(0,i.Z)(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:fr(r)," ").concat(a," ").concat("string"===typeof u?u:fr(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},dr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function pr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,o=void 0===r?{}:r,a=e.palette,s=void 0===a?{}:a,u=e.spacing,c=e.typography,l=void 0===c?{}:c,f=(0,i.Z)(e,["breakpoints","mixins","palette","spacing","typography"]),h=qn(s),d=Sn(n),p=ur(u),v=hn({breakpoints:d,direction:"ltr",mixins:En(d,p,o),overrides:{},palette:h,props:{},shadows:Hn,typography:Kn(h,l),spacing:p,shape:Yn,transitions:hr,zIndex:dr},f),g=arguments.length,m=new Array(g>1?g-1:0),y=1;y<g;y++)m[y-1]=arguments[y];return v=m.reduce((function(e,t){return hn(e,t)}),v)}var vr=pr();var gr=function(e,t){return kn(e,(0,r.Z)({defaultTheme:vr},t))}},3871:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(288);function i(e){if("string"!==typeof e)throw new Error((0,r.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4236:function(e,t,n){"use strict";function r(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return r}})},5192:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7294),i="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function o(e){var t=r.useRef(e);return i((function(){t.current=e})),r.useCallback((function(){return t.current.apply(void 0,arguments)}),[])}},3834:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(7294),i=n(4236);function o(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){(0,i.Z)(e,n),(0,i.Z)(t,n)}}),[e,t])}},4896:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(7294),i=n(3935),o=!0,a=!1,s=null,u={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function c(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function l(){o=!1}function f(){"hidden"===this.visibilityState&&a&&(o=!0)}function h(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!u[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function d(){a=!0,window.clearTimeout(s),s=window.setTimeout((function(){a=!1}),100)}function p(){return{isFocusVisible:h,onBlurVisible:d,ref:r.useCallback((function(e){var t,n=i.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",c,!0),t.addEventListener("mousedown",l,!0),t.addEventListener("pointerdown",l,!0),t.addEventListener("touchstart",l,!0),t.addEventListener("visibilitychange",f,!0))}),[])}}},288:function(e,t,n){"use strict";function r(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return r}})},5636:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(5352)),o=c(n(7294)),a=n(6486),s=c(n(5697)),u=n(1211);function c(e){return e&&e.__esModule?e:{default:e}}var l=new(c(n(4422)).default),f=[0,30,60,90,120,150,180,210,240,270,300,330],h=[0,1.1,1,.9,.8,.7,.6,.5,.4,.3,.2,.1],d=function(e){return l.prefix({transform:"rotate("+f[e]+"deg)"})},p={height:"100%",left:0,position:"absolute",top:0,width:"100%"},v=function(e,t){var n=t.betterReactSpinkit,s=void 0===n?{}:n,c=e.color,l=e.defaultSize,f=e.name,v=e.size,g=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","defaultSize","name","size"]),m=(0,u.preside)(v,s.size,l),y={height:m,position:"relative",width:m},_=r({},(0,u.animate)({name:f,fillMode:"both"}),{borderRadius:"100%",height:"20%",margin:"0 auto",width:"20%"});return o.default.createElement(i.default,g,o.default.createElement("div",{style:y},(0,a.range)(12).map((function(e){return o.default.createElement("div",{key:e,style:r({},p,d(e))},o.default.createElement("div",{style:r({},_,(0,u.animate)({delay:"-"+h[e]+"s"}),{backgroundColor:(0,u.preside)(c,s.color,u.defaults.color)})}))}))))};v.contextTypes=u.defaults.contextTypes,v.propTypes={color:s.default.string,css:s.default.string.isRequired,defaultSize:s.default.number.isRequired,name:s.default.string.isRequired,size:s.default.number},t.default=v},5352:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(n(7294)),i=a(n(5697)),o=a(n(1742));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t=e.css,n=e.children,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["css","children"]);return r.default.createElement("span",i,r.default.createElement("style",{children:(0,o.default)(t)}),n)};s.propTypes={children:i.default.node,css:i.default.string.isRequired},t.default=s},8850:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(7294)),o=u(n(5352)),a=u(n(5697)),s=n(1211);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,a=void 0===n?{}:n,u=e.color,c=e.dotSize,l=e.scaleEnd,f=e.scaleStart,h=e.size,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","dotSize","scaleEnd","scaleStart","size"]),p=(0,s.animationName)("chasing-dots"),v=(0,s.preside)(h,a.size,18),g=r({},(0,s.animate)({name:p+"-rotate"}),{height:v,position:"relative",width:v}),m=r({},(0,s.animate)({name:p+"-bounce"}),{backgroundColor:u||a.color||s.defaults.color,borderRadius:"100%",display:"inline-block",height:c,position:"absolute",top:0,width:c}),y=r({},m,(0,s.animate)({delay:"-1.0s"}),{bottom:0,top:"auto"});return i.default.createElement(o.default,r({css:"\n        @-webkit-keyframes "+p+"-rotate {\n          100% {\n            -webkit-transform: rotate(360deg);\n                    transform: rotate(360deg);\n          }\n        }\n        @keyframes "+p+"-rotate {\n          100% {\n            -webkit-transform: rotate(360deg);\n                    transform: rotate(360deg);\n          }\n        }\n        @-webkit-keyframes "+p+"-bounce {\n          0%, 100% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          50% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n          }\n        }\n        @keyframes "+p+"-bounce {\n          0%, 100% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          50% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n          }\n        }\n      "},d),i.default.createElement("div",{style:g},i.default.createElement("div",{style:m}),i.default.createElement("div",{style:y})))};c.contextTypes=s.defaults.contextTypes,c.defaultProps={dotSize:"45%",scaleEnd:1,scaleStart:0,size:18},c.propTypes={color:a.default.string,dotSize:a.default.oneOfType([a.default.number,a.default.string]),scaleEnd:a.default.number,scaleStart:a.default.number,size:a.default.number},t.default=c},5816:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(7294)),o=u(n(5697)),a=u(n(5636)),s=n(1211);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.scaleEnd,n=e.scaleStart,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["scaleEnd","scaleStart"]),u=(0,s.animationName)("circle");return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+u+" {\n          0%, 80%, 100% {\n            -webkit-transform: scale("+n+");\n                    transform: scale("+n+");\n          }\n          40% {\n            -webkit-transform: scale("+t+");\n                    transform: scale("+t+");\n          }\n        }\n\n        @keyframes "+u+" {\n          0%, 80%, 100% {\n            -webkit-transform: scale("+n+");\n                    transform: scale("+n+");\n          } 40% {\n            -webkit-transform: scale("+t+");\n                    transform: scale("+t+");\n          }\n        }\n      ",defaultSize:22,name:u},o))};c.defaultProps={scaleEnd:.7,scaleStart:.4,size:22},c.propTypes={color:o.default.string,scaleEnd:o.default.number,scaleStart:o.default.number,size:o.default.number},t.default=c},7557:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=l(n(7294)),o=l(n(5352)),a=l(n(5697)),s=n(6486),u=l(n(4699)),c=n(1211);function l(e){return e&&e.__esModule?e:{default:e}}var f=(0,s.memoize)(u.default),h=function(e,t){var n=t.betterReactSpinkit,a=void 0===n?{}:n,u=e.color,l=e.col,h=e.size,d=e.row,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","col","size","row"]),v=(0,c.animationName)("cube-grid"),g=(0,c.preside)(h,a.size,18),m={display:"flex",flexFlow:"row wrap",height:g,width:g},y=r({},(0,c.animate)({name:v}),{backgroundColor:(0,c.preside)(u,a.color,c.defaults.color),height:100/d+"%",width:100/l+"%"}),_=d*l;if(_>1e3)return null;var b=f(_);return i.default.createElement(o.default,r({css:"\n        @-webkit-keyframes "+v+" {\n          0%, 70%, 100% {\n            -webkit-transform: scale3D(1, 1, 1);\n                    transform: scale3D(1, 1, 1);\n          }\n          35% {\n            -webkit-transform: scale3D(0, 0, 1);\n                    transform: scale3D(0, 0, 1);\n          }\n        }\n        @keyframes "+v+" {\n          0%, 70%, 100% {\n            -webkit-transform: scale3D(1, 1, 1);\n                    transform: scale3D(1, 1, 1);\n          }\n          35% {\n            -webkit-transform: scale3D(0, 0, 1);\n                    transform: scale3D(0, 0, 1);\n          }\n        }\n      "},p),i.default.createElement("div",{style:m},(0,s.range)(_).map((function(e){return i.default.createElement("div",{key:e,style:r({},y,(0,c.animate)({delay:b[e]+"s"}))})}))))};h.contextTypes=c.defaults.contextTypes,h.defaultProps={col:3,row:3,size:18},h.propTypes={color:a.default.string,col:a.default.number,row:a.default.number,size:a.default.number},t.default=h},4699:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],n=0;n<e;n++)t.push((.9*Math.random()+.1).toFixed(2));return t}},8407:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(7294)),o=u(n(5352)),a=u(n(5697)),s=n(1211);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,a=void 0===n?{}:n,u=e.color,c=e.duration,l=e.scaleEnd,f=e.scaleStart,h=e.size,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","scaleEnd","scaleStart","size"]),p=(0,s.animationName)("double-bounce"),v=(0,s.preside)(h,a.size,18),g={height:v,position:"relative",width:v},m=r({},(0,s.animate)({name:p,duration:c}),{backgroundColor:(0,s.preside)(u,a.color,s.defaults.color),borderRadius:"100%",height:"100%",opacity:.6,position:"absolute",top:0,left:0,width:"100%"});return i.default.createElement(o.default,r({css:"\n        @-webkit-keyframes "+p+" {\n          0%, 100% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          50% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n          }\n        }\n        @keyframes "+p+" {\n          0%, 100% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          50% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n          }\n        }\n      "},d),i.default.createElement("div",{style:g},i.default.createElement("div",{style:m}),i.default.createElement("div",{style:r({},m,(0,s.animate)({delay:"-1s"}))})))};c.contextTypes=s.defaults.contextTypes,c.defaultProps={duration:"2s",scaleEnd:1,scaleStart:0,size:18},c.propTypes={color:a.default.string,duration:a.default.string,scaleEnd:a.default.number,scaleStart:a.default.number,size:a.default.number},t.default=c},6394:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(7294)),o=u(n(5697)),a=u(n(5636)),s=n(1211);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){var t=e.startOpacity,n=e.endOpacity,o=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["startOpacity","endOpacity"]),u=(0,s.animationName)("fading-circle");return i.default.createElement(a.default,r({css:"\n        @-webkit-keyframes "+u+" {\n          0%, 39%, 100% {\n            opacity: "+t+";\n          }\n          40% {\n            opacity: "+n+";\n          }\n        }\n        @keyframes "+u+" {\n          0%, 39%, 100% {\n            opacity: "+t+";\n          }\n          40% {\n            opacity: "+n+";\n          }\n        }\n      ",defaultSize:22,name:u},o))};c.defaultProps={endOpacity:1,size:22,startOpacity:0},c.propTypes={color:o.default.string,endOpacity:o.default.number,startOpacity:o.default.number,size:o.default.number},t.default=c},1559:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e){case 1:return"0.3s";case 3:return"0.6s";case 2:return"0.9s";default:return!1}}},688:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){switch(e){case 1:return"90deg";case 3:return"180deg";case 2:return"270deg";default:return!1}}},7073:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=f(n(7294)),o=f(n(5352)),a=n(6486),s=f(n(5697)),u=f(n(1559)),c=f(n(688)),l=n(1211);function f(e){return e&&e.__esModule?e:{default:e}}var h=function(e,t){var n=t.betterReactSpinkit,s=void 0===n?{}:n,f=e.color,h=e.duration,d=(e.secondBounceDelay,e.size),p=e.timingFunction,v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","secondBounceDelay","size","timingFunction"]),g=(0,l.animationName)("folding-cube"),m=(0,l.preside)(d,s.size,18),y={height:m,padding:m/4,position:"relative",transform:"rotateZ(45deg)",width:m,WebkitTransform:"rotateZ(45deg)"},_={float:"left",height:"50%",position:"relative",width:"50%",WebkitTransform:"scale(1.1)",MsTransform:"scale(1.1)",transform:"scale(1.1)"},b=r({},(0,l.animate)({name:g,duration:h,timingFunction:p}),{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:(0,l.preside)(f,s.color,l.defaults.color),WebkitTransformOrigin:"100% 100%",MsTransformOrigin:"100% 100%",TransformOrigin:"100% 100%"});return i.default.createElement(o.default,r({css:"\n        @-webkit-keyframes "+g+" {\n          0%, 10% {\n            -webkit-transform: perspective(140px) rotateX(-180deg);\n                    transform: perspective(140px) rotateX(-180deg);\n                    opacity: 0;\n          }\n          25%, 75% {\n            -webkit-transform: perspective(140px) rotateX(0deg);\n                    transform: perspective(140px) rotateX(0deg);\n                    opacity: 1;\n          }\n          90%, 100% {\n            -webkit-transform: perspective(140px) rotateY(180deg);\n                    transform: perspective(140px) rotateY(180deg);\n                    opacity: 0;\n          }\n        }\n        @keyframes "+g+" {\n          0%, 10% {\n            -webkit-transform: perspective(140px) rotateX(-180deg);\n                    transform: perspective(140px) rotateX(-180deg);\n                    opacity: 0;\n          }\n          25%, 75% {\n            -webkit-transform: perspective(140px) rotateX(0deg);\n                    transform: perspective(140px) rotateX(0deg);\n                    opacity: 1;\n          }\n          90%, 100% {\n            -webkit-transform: perspective(140px) rotateY(180deg);\n                    transform: perspective(140px) rotateY(180deg);\n                    opacity: 0;\n          }\n        }\n      "},v),i.default.createElement("div",{style:y},(0,a.range)(4).map((function(e){var t=(0,c.default)(e),n="scale(1.1) rotateZ("+t+")",o=(0,u.default)(e);return i.default.createElement("div",{key:e,style:r({},_,t?{transform:n,WebkitTransform:n}:{})},i.default.createElement("div",{style:r({},b,o?(0,l.animate)({delay:o}):{})}))}))))};h.contextTypes=l.defaults.contextTypes,h.defaultProps={duration:"2.4s",size:18,timingFunction:"linear"},h.propTypes={color:s.default.string,duration:s.default.string,size:s.default.number,timingFunction:s.default.oneOf(["linear","ease","ease-in","ease-out","ease-in-out"])},t.default=h},7903:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(7294)),o=u(n(5352)),a=u(n(5697)),s=n(1211);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,a=void 0===n?{}:n,u=e.color,c=e.duration,l=e.scaleEnd,f=e.scaleStart,h=e.size,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","scaleEnd","scaleStart","size"]),p=(0,s.animationName)("pulse"),v=(0,s.preside)(h,a.size,20);return i.default.createElement(o.default,r({css:"\n        @-webkit-keyframes "+p+" {\n          0% {\n            -webkit-transform: scale("+f+");\n          }\n          100% {\n            -webkit-transform: scale("+l+");\n            opacity: 0;\n          }\n        }\n        @keyframes "+p+" {\n          0% {\n            -webkit-transform: scale("+f+");\n                    transform: scale("+f+");\n          }\n          100% {\n            -webkit-transform: scale("+l+");\n                    transform: scale("+l+");\n            opacity: 0;\n          }\n        }\n      "},d),i.default.createElement("div",{style:r({},(0,s.animate)({name:p,duration:c}),{backgroundColor:(0,s.preside)(u,a.color,s.defaults.color),borderRadius:"100%",height:v,width:v})}))};c.contextTypes=s.defaults.contextTypes,c.defaultProps={duration:"1s",scaleEnd:1,scaleStart:0,size:20},c.propTypes={color:a.default.string,duration:a.default.string,scaleEnd:a.default.number,scaleStart:a.default.number,size:a.default.number},t.default=c},8911:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(7294)),o=u(n(5352)),a=u(n(5697)),s=n(1211);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,a=void 0===n?{}:n,u=e.color,c=e.duration,l=e.size,f=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","size"]),h=(0,s.animationName)("rotating-plane"),d=(0,s.preside)(l,a.size,18);return i.default.createElement(o.default,r({css:"\n        @-webkit-keyframes "+h+" {\n          0% {\n            -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n                    transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n          }\n          50% {\n            -webkit-transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n                    transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n          }\n          100% {\n            -webkit-transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n                    transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n          }\n        }\n        @keyframes "+h+" {\n          0% {\n            -webkit-transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n                    transform: perspective(120px) rotateX(0deg) rotateY(0deg);\n          }\n          50% {\n            -webkit-transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n                    transform: perspective(120px) rotateX(-180.1deg) rotateY(0deg);\n          }\n          100% {\n            -webkit-transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n                    transform: perspective(120px) rotateX(-180deg) rotateY(-179.9deg);\n          }\n        }\n      "},f),i.default.createElement("div",{style:r({},(0,s.animate)({name:h,duration:c}),{backgroundColor:(0,s.preside)(u,a.color,s.defaults.color),height:d,width:d})}))};c.contextTypes=s.defaults.contextTypes,c.propTypes={color:a.default.string,duration:a.default.string,size:a.default.number},c.defaultProps={duration:"1.2s",size:18},t.default=c},7141:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(7294)),o=u(n(5352)),a=u(n(5697)),s=n(1211);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,a=void 0===n?{}:n,u=e.color,c=e.duration,l=e.gutter,f=e.scaleEnd,h=e.scaleStart,d=e.size,p=e.timingFunction,v=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","gutter","scaleEnd","scaleStart","size","timingFunction"]),g=(0,s.animationName)("three-bounce"),m=(0,s.preside)(d,a.size,10),y=r({},(0,s.animate)({duration:c,name:g,timingFunction:p}),{backgroundColor:(0,s.preside)(u,a.color,s.defaults.color),borderRadius:"100%",display:"inline-block",height:m,width:m});return i.default.createElement(o.default,r({css:"\n        @-webkit-keyframes "+g+" {\n          0%, 80%, 100% {\n            -webkit-transform: scale("+h+");\n          }\n          40% {\n            -webkit-transform: scale("+f+");\n          }\n        }\n\n        @keyframes "+g+" {\n          0%, 80%, 100% {\n            transform: scale("+h+");\n            -webkit-transform: scale("+h+");\n          }\n          40% {\n            transform: scale("+f+");\n            -webkit-transform: scale("+f+");\n          }\n        }\n      "},v),i.default.createElement("div",{style:r({},y,(0,s.animate)({delay:"-0.32s"}),{marginRight:l})}),i.default.createElement("div",{style:r({},y,(0,s.animate)({delay:"-0.16s"}),{marginRight:l})}),i.default.createElement("div",{style:r({},y)}))};c.contextTypes=s.defaults.contextTypes,c.defaultProps={duration:"1.5s",size:10,scaleEnd:1,scaleStart:0,gutter:2,timingFunction:"ease-in-out"},c.propTypes={color:a.default.string,duration:a.default.string,gutter:a.default.number,scaleEnd:a.default.number,scaleStart:a.default.number,size:a.default.number,timingFunction:a.default.oneOf(["linear","ease","ease-in","ease-out","ease-in-out"])},t.default=c},6510:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(7294)),o=u(n(5352)),a=u(n(5697)),s=n(1211);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,a=void 0===n?{}:n,u=e.color,c=e.cubeSize,l=e.duration,f=e.size,h=e.timingFunction,d=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","cubeSize","duration","size","timingFunction"]),p=(0,s.animationName)("wandering-cubes"),v=(0,s.preside)(f,a.size,16),g={height:v,paddingBottom:c,paddingRight:c,position:"relative",width:v},m=r({},(0,s.animate)({name:p,duration:l,timingFunction:h}),{backgroundColor:(0,s.preside)(u,a.color,s.defaults.color),height:c,left:0,position:"absolute",top:0,width:c});return i.default.createElement(o.default,r({css:"\n        @-webkit-keyframes "+p+" {\n          25% { -webkit-transform: translateX("+v+"px) rotate(-90deg) scale(0.5) }\n          50% { -webkit-transform: translateX("+v+"px) translateY("+v+"px) rotate(-180deg) }\n          75% { -webkit-transform: translateX(0px) translateY("+v+"px) rotate(-270deg) scale(0.5) }\n          100% { -webkit-transform: rotate(-360deg) }\n        }\n        @keyframes "+p+" {\n          25% { \n            -webkit-transform: translateX("+v+"px) rotate(-90deg) scale(0.5);\n                    transform: translateX("+v+"px) rotate(-90deg) scale(0.5);\n          } 50% { \n            -webkit-transform: translateX("+v+"px) translateY("+v+"px) rotate(-179deg);\n                    transform: translateX("+v+"px) translateY("+v+"px) rotate(-179deg);\n          } 50.1% { \n            -webkit-transform: translateX("+v+"px) translateY("+v+"px) rotate(-180deg);\n                    transform: translateX("+v+"px) translateY("+v+"px) rotate(-180deg);\n          } 75% { \n            -webkit-transform: translateX(0px) translateY("+v+"px) rotate(-270deg) scale(0.5);\n                    transform: translateX(0px) translateY("+v+"px) rotate(-270deg) scale(0.5);\n          } 100% { \n            -webkit-transform: rotate(-360deg);\n                    transform: rotate(-360deg);\n          }\n        }\n      "},d),i.default.createElement("div",{style:g},i.default.createElement("div",{style:r({},m)}),i.default.createElement("div",{style:r({},m,(0,s.animate)({delay:"-0.9s"}))})))};c.propTypes={color:a.default.string,cubeSize:a.default.number,duration:a.default.string,size:a.default.number,timingFunction:a.default.oneOf(["linear","ease","ease-in","ease-out","ease-in-out"])},c.defaultProps={cubeSize:7,duration:"2s",size:16,timingFunction:"ease-in-out"},c.contextTypes=s.defaults.contextTypes,t.default=c},8654:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=c(n(7294)),o=c(n(5352)),a=n(6486),s=c(n(5697)),u=n(1211);function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e,t){var n=t.betterReactSpinkit,s=void 0===n?{}:n,c=e.color,l=e.columns,f=e.columnWidth,h=e.gutterWidth,d=e.reverse,p=e.scaleYEnd,v=e.scaleYStart,g=e.size,m=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","columns","columnWidth","gutterWidth","reverse","scaleYEnd","scaleYStart","size"]),y=(0,u.animationName)("wave"),_=(0,u.preside)(g,s.size,22),b={display:"flex",justifyContent:"space-between",height:_-.2*_,width:_},w=r({},(0,u.animate)({name:y}),{backgroundColor:c||s.color||u.defaults.color,height:"100%",width:f}),k=d?(0,a.range)(l).reverse():(0,a.range)(l);return i.default.createElement(o.default,r({css:"\n        @-webkit-keyframes "+y+" {\n          0%, 40%, 100% {\n            -webkit-transform: scaleY("+v+")\n          }\n          20% {\n            -webkit-transform: scaleY("+p+")\n          }\n        }\n        @keyframes "+y+" {\n          0%, 40%, 100% {\n            transform: scaleY("+v+");\n            -webkit-transform: scaleY("+v+");\n          }\n          20% {\n            transform: scaleY("+p+");\n            -webkit-transform: scaleY("+p+");\n          }\n        }\n      "},m),i.default.createElement("div",{style:b},k.map((function(e){return i.default.createElement("div",{key:e,style:r({},w,(0,u.animate)({delay:"-"+e/10+"s"}),{marginRight:e!==l?h:0})})}))))};l.propTypes={color:s.default.string,columns:s.default.number,columnWidth:s.default.oneOfType([s.default.string,s.default.number]),gutterWidth:s.default.number,reverse:s.default.bool,scaleYEnd:s.default.number,scaleYStart:s.default.number,size:s.default.number},l.defaultProps={columns:5,columnWidth:"20%",gutterWidth:1,reverse:!1,scaleYEnd:1,scaleYStart:.4,size:22},l.contextTypes=u.defaults.contextTypes,t.default=l},8914:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=u(n(7294)),o=u(n(5352)),a=u(n(5697)),s=n(1211);function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e,t){var n=t.betterReactSpinkit,a=void 0===n?{}:n,u=e.color,c=e.duration,l=e.innerColor,f=e.innerSize,h=e.size,d=e.timingFunction,p=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["color","duration","innerColor","innerSize","size","timingFunction"]),v=(0,s.animationName)("wordpress"),g=(0,s.preside)(h,a.size,18),m=(0,s.preside)(f,null,g/4);return i.default.createElement(o.default,r({css:"\n        @-webkit-keyframes "+v+" {\n          0% {\n            -webkit-transform: rotate(0);\n                    transform: rotate(0);\n          }\n          100% {\n            -webkit-transform: rotate(360deg);\n                    transform: rotate(360deg);\n          }\n        }\n        @keyframes "+v+" {\n          0% {\n            -webkit-transform: rotate(0);\n                    transform: rotate(0);\n          }\n          100% {\n            -webkit-transform: rotate(360deg);\n                    transform: rotate(360deg);\n          }\n        }\n      "},p),i.default.createElement("div",{style:r({},(0,s.animate)({name:v,timingFunction:d,duration:c}),{backgroundColor:(0,s.preside)(u,a.color,s.defaults.color),borderRadius:g,display:"inline-block",height:g,position:"relative",width:g})},i.default.createElement("div",{style:{backgroundColor:l,borderRadius:m,display:"block",height:m,left:"18%",position:"absolute",top:"18%",width:m}})))};c.propTypes={color:a.default.string,duration:a.default.string,innerColor:a.default.string,innerSize:a.default.number,size:a.default.number,timingFunction:a.default.oneOf(["linear","ease","ease-in","ease-out","ease-in-out"])},c.defaultProps={duration:"2s",innerColor:"#fff",size:18,timingFunction:"linear"},c.contextTypes=s.defaults.contextTypes,t.default=c},8589:function(e,t,n){"use strict";var r=n(8850);var i=n(5816);Object.defineProperty(t,"Cd",{enumerable:!0,get:function(){return v(i).default}});var o=n(7557);var a=n(8407);var s=n(6394);var u=n(7073);var c=n(7903);var l=n(8911);var f=n(7141);var h=n(6510);var d=n(8654);var p=n(8914);function v(e){return e&&e.__esModule?e:{default:e}}},6548:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(6486),o=n(220),a=(r=o)&&r.__esModule?r:{default:r};t.default=function(e){var t=e.delay,n=e.duration,r=e.fillMode,o=e.iterationCount,s=e.name,u=e.timingFunction;return s&&(n=n||"1.2s",o=o||"infinite",u=u||"ease-in-out"),(0,a.default)((0,i.omitBy)({animationDelay:t,animationDuration:n,animationFillMode:r,animationIterationCount:o,animationTimingFunction:u,animationName:s},(function(e){return!e})))}},8813:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"spinner";return"brsk-"+e}},7632:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.color=t.propTypes=t.contextTypes=void 0;var r,i=n(5697),o=(r=i)&&r.__esModule?r:{default:r};t.contextTypes={betterReactSpinkit:o.default.shape({color:o.default.string,size:o.default.number})},t.propTypes={color:o.default.string,size:o.default.number},t.color="#333"},1211:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preside=t.defaults=t.animationName=t.animate=void 0;var r=n(6548);Object.defineProperty(t,"animate",{enumerable:!0,get:function(){return s(r).default}});var i=n(8813);Object.defineProperty(t,"animationName",{enumerable:!0,get:function(){return s(i).default}});var o=n(134);Object.defineProperty(t,"preside",{enumerable:!0,get:function(){return s(o).default}});var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(7632));function s(e){return e&&e.__esModule?e:{default:e}}t.defaults=a},134:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return e&&e!==n?e:t||n}},5470:function(e,t,n){var r;r=function(){var e=!0;function t(t){function n(e){var n=t.match(e);return n&&n.length>1&&n[1]||""}function r(e){var n=t.match(e);return n&&n.length>1&&n[2]||""}var i,a=n(/(ipod|iphone|ipad)/i).toLowerCase(),s=!/like android/i.test(t)&&/android/i.test(t),u=/nexus\s*[0-6]\s*/i.test(t),c=!u&&/nexus\s*[0-9]+/i.test(t),l=/CrOS/.test(t),f=/silk/i.test(t),h=/sailfish/i.test(t),d=/tizen/i.test(t),p=/(web|hpw)(o|0)s/i.test(t),v=/windows phone/i.test(t),g=(/SamsungBrowser/i.test(t),!v&&/windows/i.test(t)),m=!a&&!f&&/macintosh/i.test(t),y=!s&&!h&&!d&&!p&&/linux/i.test(t),_=r(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),b=n(/version\/(\d+(\.\d+)?)/i),w=/tablet/i.test(t)&&!/tablet pc/i.test(t),k=!w&&/[^-]mobi/i.test(t),I=/xbox/i.test(t);/opera/i.test(t)?i={name:"Opera",opera:e,version:b||n(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(t)?i={name:"Opera",opera:e,version:n(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||b}:/SamsungBrowser/i.test(t)?i={name:"Samsung Internet for Android",samsungBrowser:e,version:b||n(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/Whale/i.test(t)?i={name:"NAVER Whale browser",whale:e,version:n(/(?:whale)[\s\/](\d+(?:\.\d+)+)/i)}:/MZBrowser/i.test(t)?i={name:"MZ Browser",mzbrowser:e,version:n(/(?:MZBrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/coast/i.test(t)?i={name:"Opera Coast",coast:e,version:b||n(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/focus/i.test(t)?i={name:"Focus",focus:e,version:n(/(?:focus)[\s\/](\d+(?:\.\d+)+)/i)}:/yabrowser/i.test(t)?i={name:"Yandex Browser",yandexbrowser:e,version:b||n(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(t)?i={name:"UC Browser",ucbrowser:e,version:n(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(t)?i={name:"Maxthon",maxthon:e,version:n(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(t)?i={name:"Epiphany",epiphany:e,version:n(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(t)?i={name:"Puffin",puffin:e,version:n(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(t)?i={name:"Sleipnir",sleipnir:e,version:n(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(t)?i={name:"K-Meleon",kMeleon:e,version:n(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:v?(i={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},_?(i.msedge=e,i.version=_):(i.msie=e,i.version=n(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(t)?i={name:"Internet Explorer",msie:e,version:n(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:l?i={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(t)?i={name:"Microsoft Edge",msedge:e,version:_}:/vivaldi/i.test(t)?i={name:"Vivaldi",vivaldi:e,version:n(/vivaldi\/(\d+(\.\d+)?)/i)||b}:h?i={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:n(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(t)?i={name:"SeaMonkey",seamonkey:e,version:n(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(t)?(i={name:"Firefox",firefox:e,version:n(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(t)&&(i.firefoxos=e,i.osname="Firefox OS")):f?i={name:"Amazon Silk",silk:e,version:n(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(t)?i={name:"PhantomJS",phantom:e,version:n(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(t)?i={name:"SlimerJS",slimer:e,version:n(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(t)||/rim\stablet/i.test(t)?i={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:b||n(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:p?(i={name:"WebOS",osname:"WebOS",webos:e,version:b||n(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(t)&&(i.touchpad=e)):/bada/i.test(t)?i={name:"Bada",osname:"Bada",bada:e,version:n(/dolfin\/(\d+(\.\d+)?)/i)}:d?i={name:"Tizen",osname:"Tizen",tizen:e,version:n(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||b}:/qupzilla/i.test(t)?i={name:"QupZilla",qupzilla:e,version:n(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||b}:/chromium/i.test(t)?i={name:"Chromium",chromium:e,version:n(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||b}:/chrome|crios|crmo/i.test(t)?i={name:"Chrome",chrome:e,version:n(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:s?i={name:"Android",version:b}:/safari|applewebkit/i.test(t)?(i={name:"Safari",safari:e},b&&(i.version=b)):a?(i={name:"iphone"==a?"iPhone":"ipad"==a?"iPad":"iPod"},b&&(i.version=b)):i=/googlebot/i.test(t)?{name:"Googlebot",googlebot:e,version:n(/googlebot\/(\d+(\.\d+))/i)||b}:{name:n(/^(.*)\/(.*) /),version:r(/^(.*)\/(.*) /)},!i.msedge&&/(apple)?webkit/i.test(t)?(/(apple)?webkit\/537\.36/i.test(t)?(i.name=i.name||"Blink",i.blink=e):(i.name=i.name||"Webkit",i.webkit=e),!i.version&&b&&(i.version=b)):!i.opera&&/gecko\//i.test(t)&&(i.name=i.name||"Gecko",i.gecko=e,i.version=i.version||n(/gecko\/(\d+(\.\d+)?)/i)),i.windowsphone||!s&&!i.silk?!i.windowsphone&&a?(i[a]=e,i.ios=e,i.osname="iOS"):m?(i.mac=e,i.osname="macOS"):I?(i.xbox=e,i.osname="Xbox"):g?(i.windows=e,i.osname="Windows"):y&&(i.linux=e,i.osname="Linux"):(i.android=e,i.osname="Android");var S="";i.windows?S=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(n(/Windows ((NT|XP)( \d\d?.\d)?)/i)):i.windowsphone?S=n(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):i.mac?S=(S=n(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):a?S=(S=n(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):s?S=n(/android[ \/-](\d+(\.\d+)*)/i):i.webos?S=n(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):i.blackberry?S=n(/rim\stablet\sos\s(\d+(\.\d+)*)/i):i.bada?S=n(/bada\/(\d+(\.\d+)*)/i):i.tizen&&(S=n(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(i.osversion=S);var T=!i.windows&&S.split(".")[0];return w||c||"ipad"==a||s&&(3==T||T>=4&&!k)||i.silk?i.tablet=e:(k||"iphone"==a||"ipod"==a||s||u||i.blackberry||i.webos||i.bada)&&(i.mobile=e),i.msedge||i.msie&&i.version>=10||i.yandexbrowser&&i.version>=15||i.vivaldi&&i.version>=1||i.chrome&&i.version>=20||i.samsungBrowser&&i.version>=4||i.whale&&1===o([i.version,"1.0"])||i.mzbrowser&&1===o([i.version,"6.0"])||i.focus&&1===o([i.version,"1.0"])||i.firefox&&i.version>=20||i.safari&&i.version>=6||i.opera&&i.version>=10||i.ios&&i.osversion&&i.osversion.split(".")[0]>=6||i.blackberry&&i.version>=10.1||i.chromium&&i.version>=20?i.a=e:i.msie&&i.version<10||i.chrome&&i.version<20||i.firefox&&i.version<20||i.safari&&i.version<6||i.opera&&i.version<10||i.ios&&i.osversion&&i.osversion.split(".")[0]<6||i.chromium&&i.version<20?i.c=e:i.x=e,i}var n=t("undefined"!==typeof navigator&&navigator.userAgent||"");function r(e){return e.split(".").length}function i(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n++)r.push(t(e[n]));return r}function o(e){for(var t=Math.max(r(e[0]),r(e[1])),n=i(e,(function(e){var n=t-r(e);return i((e+=new Array(n+1).join(".0")).split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));--t>=0;){if(n[0][t]>n[1][t])return 1;if(n[0][t]!==n[1][t])return-1;if(0===t)return 0}}function a(e,r,i){var a=n;"string"===typeof r&&(i=r,r=void 0),void 0===r&&(r=!1),i&&(a=t(i));var s=""+a.version;for(var u in e)if(e.hasOwnProperty(u)&&a[u]){if("string"!==typeof e[u])throw new Error("Browser version in the minVersion map should be a string: "+u+": "+String(e));return o([s,e[u]])<0}return r}return n.test=function(e){for(var t=0;t<e.length;++t){var r=e[t];if("string"===typeof r&&r in n)return!0}return!1},n.isUnsupportedBrowser=a,n.compareVersions=o,n.check=function(e,t,n){return!a(e,t,n)},n._detect=t,n.detect=t,n},e.exports?e.exports=r():n.amdD("bowser",r)},6010:function(e,t,n){"use strict";function r(e){var t,n,i="";if("string"===typeof e||"number"===typeof e)i+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=r(e[t]))&&(i&&(i+=" "),i+=n);else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function i(){for(var e,t,n=0,i="";n<arguments.length;)(e=arguments[n++])&&(t=r(e))&&(i&&(i+=" "),i+=t);return i}n.d(t,{Z:function(){return i}})},7320:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e)};var r,i=n(5477),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},638:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/;e.exports=t.default},6493:function(e,t,n){"use strict";n.d(t,{Z:function(){return r.default}});var r=n(6099);(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};var i=function(e){e=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,e];for(var t=0;t<e.length;++t){var r=e[t];if(r&&r.Math==Math)return r}return globalThis}(this);function o(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}}function a(e){var t="undefined"!=typeof Symbol&&Symbol.iterator&&e[Symbol.iterator];return t?t.call(e):{next:o(e)}}!function(e,n){if(n){var r=i;e=e.split(".");for(var o=0;o<e.length-1;o++){var a=e[o];a in r||(r[a]={}),r=r[a]}(n=n(o=r[e=e[e.length-1]]))!=o&&null!=n&&t(r,e,{configurable:!0,writable:!0,value:n})}}("Promise",(function(e){function t(e){this.b=0,this.c=void 0,this.a=[];var t=this.f();try{e(t.resolve,t.reject)}catch(n){t.reject(n)}}function n(){this.a=null}function r(e){return e instanceof t?e:new t((function(t){t(e)}))}if(e)return e;n.prototype.b=function(e){if(null==this.a){this.a=[];var t=this;this.c((function(){t.g()}))}this.a.push(e)};var o=i.setTimeout;n.prototype.c=function(e){o(e,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var e=this.a;this.a=[];for(var t=0;t<e.length;++t){var n=e[t];e[t]=null;try{n()}catch(v){this.f(v)}}}this.a=null},n.prototype.f=function(e){this.c((function(){throw e}))},t.prototype.f=function(){function e(e){return function(r){n||(n=!0,e.call(t,r))}}var t=this,n=!1;return{resolve:e(this.m),reject:e(this.g)}},t.prototype.m=function(e){if(e===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof t)this.s(e);else{e:switch(typeof e){case"object":var n=null!=e;break e;case"function":n=!0;break e;default:n=!1}n?this.v(e):this.h(e)}},t.prototype.v=function(e){var t=void 0;try{t=e.then}catch(n){return void this.g(n)}"function"==typeof t?this.u(t,e):this.h(e)},t.prototype.g=function(e){this.i(2,e)},t.prototype.h=function(e){this.i(1,e)},t.prototype.i=function(e,t){if(0!=this.b)throw Error("Cannot settle("+e+", "+t+"): Promise already settled in state"+this.b);this.b=e,this.c=t,this.l()},t.prototype.l=function(){if(null!=this.a){for(var e=0;e<this.a.length;++e)s.b(this.a[e]);this.a=null}};var s=new n;return t.prototype.s=function(e){var t=this.f();e.Ra(t.resolve,t.reject)},t.prototype.u=function(e,t){var n=this.f();try{e.call(t,n.resolve,n.reject)}catch(v){n.reject(v)}},t.prototype.then=function(e,n){function r(e,t){return"function"==typeof e?function(t){try{i(e(t))}catch(Ln){o(Ln)}}:t}var i,o,a=new t((function(e,t){i=e,o=t}));return this.Ra(r(e,i),r(n,o)),a},t.prototype.catch=function(e){return this.then(void 0,e)},t.prototype.Ra=function(e,t){function n(){switch(r.b){case 1:e(r.c);break;case 2:t(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},t.resolve=r,t.reject=function(e){return new t((function(t,n){n(e)}))},t.race=function(e){return new t((function(t,n){for(var i=a(e),o=i.next();!o.done;o=i.next())r(o.value).Ra(t,n)}))},t.all=function(e){var n=a(e),i=n.next();return i.done?r([]):new t((function(e,t){function o(t){return function(n){a[t]=n,0==--s&&e(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ra(o(a.length-1),t),i=n.next()}while(!i.done)}))},t}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function f(e){return(e=e.querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&c.test(e)?e:""}function h(){}function d(e){var t=typeof e;return"object"!=t?t:e?Array.isArray(e)?"array":t:"null"}function p(e){var t=d(e);return"array"==t||"object"==t&&"number"==typeof e.length}function g(e){return"function"==d(e)}function m(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function y(e){return Object.prototype.hasOwnProperty.call(e,_)&&e[_]||(e[_]=++b)}var _="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(e,t,n){return e.call.apply(e.bind,arguments)}function k(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function I(e,t,n){return(I=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:k).apply(null,arguments)}function S(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}var T=Date.now;function E(e,t){function n(){}n.prototype=t.prototype,e.bb=t.prototype,e.prototype=new n,e.prototype.constructor=e}function C(e){return e}function x(e,t,n){this.code=O+e,this.message=t||N[e]||"",this.a=n||null}function A(e){var t=e&&e.code;return t?new x(t.substring(O.length),e.message,e.serverResponse):null}E(x,Error),x.prototype.w=function(){var e={code:this.code,message:this.message};return this.a&&(e.serverResponse=this.a),e},x.prototype.toJSON=function(){return this.w()};var P,O="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},R={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function D(e){for(var t in R)if(R[t].id===e)return{firebaseEndpoint:(e=R[t]).Ua,secureTokenEndpoint:e.$a,identityPlatformEndpoint:e.Xa};return null}function M(e){if(!e)return!1;try{return!!e.$goog_Thenable}catch(t){return!1}}function L(e){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var t=Error().stack;t&&(this.stack=t)}e&&(this.message=String(e))}function j(e,t){for(var n="",r=(e=e.split("%s")).length-1,i=0;i<r;i++)n+=e[i]+(i<t.length?t[i]:"%s");L.call(this,n+e[r])}function F(e,t){throw new j("Failure"+(e?": "+e:""),Array.prototype.slice.call(arguments,1))}function U(e,t){this.c=e,this.f=t,this.b=0,this.a=null}function q(e,t){e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}function B(){this.b=this.a=null}P=D("__EID__")?"__EID__":void 0,E(L,Error),L.prototype.name="CustomError",E(j,L),j.prototype.name="AssertionError",U.prototype.get=function(){if(0<this.b){this.b--;var e=this.a;this.a=e.next,e.next=null}else e=this.c();return e};var V=new U((function(){return new W}),(function(e){e.reset()}));function z(){var e=wt,t=null;return e.a&&(t=e.a,e.a=e.a.next,e.a||(e.b=null),t.next=null),t}function W(){this.next=this.b=this.a=null}B.prototype.add=function(e,t){var n=V.get();n.set(e,t),this.b?this.b.next=n:this.a=n,this.b=n},W.prototype.set=function(e,t){this.a=e,this.b=t,this.next=null},W.prototype.reset=function(){this.next=this.b=this.a=null};var K=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},G=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};var H=Array.prototype.filter?function(e,t){return Array.prototype.filter.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=[],i=0,o="string"===typeof e?e.split(""):e,a=0;a<n;a++)if(a in o){var s=o[a];t.call(void 0,s,a,e)&&(r[i++]=s)}return r},Y=Array.prototype.map?function(e,t){return Array.prototype.map.call(e,t,void 0)}:function(e,t){for(var n=e.length,r=Array(n),i="string"===typeof e?e.split(""):e,o=0;o<n;o++)o in i&&(r[o]=t.call(void 0,i[o],o,e));return r},$=Array.prototype.some?function(e,t){return Array.prototype.some.call(e,t,void 0)}:function(e,t){for(var n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e))return!0;return!1};function X(e,t){return 0<=K(e,t)}function Q(e,t){var n;return(n=0<=(t=K(e,t)))&&Array.prototype.splice.call(e,t,1),n}function Z(e,t){!function(e,t){for(var n="string"===typeof e?e.split(""):e,r=e.length-1;0<=r;--r)r in n&&t.call(void 0,n[r],r,e)}(e,(function(n,r){t.call(void 0,n,r,e)&&1==Array.prototype.splice.call(e,r,1).length&&0}))}function J(e){return Array.prototype.concat.apply([],arguments)}function ee(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}var te,ne=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]},re=/&/g,ie=/</g,oe=/>/g,ae=/"/g,se=/'/g,ue=/\x00/g,ce=/[\x00&<>"']/;function le(e,t){return-1!=e.indexOf(t)}function fe(e,t){return e<t?-1:e>t?1:0}e:{var he=u.navigator;if(he){var de=he.userAgent;if(de){te=de;break e}}te=""}function pe(e){return le(te,e)}function ve(e,t){for(var n in e)t.call(void 0,e[n],n,e)}function ge(e){for(var t in e)return!1;return!0}function me(e){var t,n={};for(t in e)n[t]=e[t];return n}var ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<ye.length;o++)n=ye[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function be(e,t){e:{try{var n=e&&e.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break e}}catch(a){}i=null}if(i&&"undefined"!=typeof i[t]&&(!e||!(e instanceof i[t])&&(e instanceof i.Location||e instanceof i.Element))){if(m(e))try{var o=e.constructor.displayName||e.constructor.name||Object.prototype.toString.call(e)}catch(a){o="<object could not be stringified>"}else o=void 0===e?"undefined":null===e?"null":typeof e;F("Argument is not a %s (or a non-Element, non-Location mock); got: %s",t,o)}}function we(e,t){this.a=e===Te&&t||"",this.b=Se}function ke(e){return e instanceof we&&e.constructor===we&&e.b===Se?e.a:(F("expected object of type Const, got '"+e+"'"),"type_error:Const")}we.prototype.ta=!0,we.prototype.sa=function(){return this.a},we.prototype.toString=function(){return"Const{"+this.a+"}"};var Ie,Se={},Te={};function Ee(){if(void 0===Ie){var e=null,t=u.trustedTypes;if(t&&t.createPolicy){try{e=t.createPolicy("goog#html",{createHTML:C,createScript:C,createScriptURL:C})}catch(n){u.console&&u.console.error(n.message)}Ie=e}else Ie=e}return Ie}function Ce(e,t){this.a=t===Ne?e:""}function xe(e){return e instanceof Ce&&e.constructor===Ce?e.a:(F("expected object of type TrustedResourceUrl, got '"+e+"' of type "+d(e)),"type_error:TrustedResourceUrl")}function Ae(e,t){var n=ke(e);if(!Oe.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(e){var t=Ee();return new Ce(e=t?t.createScriptURL(e):e,Ne)}(e=n.replace(Pe,(function(e,r){if(!Object.prototype.hasOwnProperty.call(t,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(t));return(e=t[r])instanceof we?ke(e):encodeURIComponent(String(e))})))}Ce.prototype.ta=!0,Ce.prototype.sa=function(){return this.a.toString()},Ce.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Pe=/%{(\w+)}/g,Oe=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Ne={};function Re(e,t){this.a=t===qe?e:""}function De(e){return e instanceof Re&&e.constructor===Re?e.a:(F("expected object of type SafeUrl, got '"+e+"' of type "+d(e)),"type_error:SafeUrl")}Re.prototype.ta=!0,Re.prototype.sa=function(){return this.a.toString()},Re.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Me=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Le=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,je=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Fe(e){if(e instanceof Re)return e;if(e="object"==typeof e&&e.ta?e.sa():String(e),je.test(e))e=new Re(e,qe);else{var t=(e=(e=String(e)).replace(/(%0A|%0D)/g,"")).match(Le);e=t&&Me.test(t[1])?new Re(e,qe):null}return e}function Ue(e){return e instanceof Re?e:(e="object"==typeof e&&e.ta?e.sa():String(e),je.test(e)||(e="about:invalid#zClosurez"),new Re(e,qe))}var qe={},Be=new Re("about:invalid#zClosurez",qe);function Ve(e,t,n){this.a=n===ze?e:""}Ve.prototype.ta=!0,Ve.prototype.sa=function(){return this.a.toString()},Ve.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var ze={};function We(e,t,n,r){return e=e instanceof Re?e:Ue(e),t=t||u,n=n instanceof we?ke(n):n||"",t.open(De(e),n,r,void 0)}function Ke(e,t){for(var n=e.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Ge(e){return ce.test(e)&&(-1!=e.indexOf("&")&&(e=e.replace(re,"&amp;")),-1!=e.indexOf("<")&&(e=e.replace(ie,"&lt;")),-1!=e.indexOf(">")&&(e=e.replace(oe,"&gt;")),-1!=e.indexOf('"')&&(e=e.replace(ae,"&quot;")),-1!=e.indexOf("'")&&(e=e.replace(se,"&#39;")),-1!=e.indexOf("\0")&&(e=e.replace(ue,"&#0;"))),e}function He(e){return He[" "](e),e}He[" "]=h;var Ye,$e=pe("Opera"),Xe=pe("Trident")||pe("MSIE"),Qe=pe("Edge"),Ze=Qe||Xe,Je=pe("Gecko")&&!(le(te.toLowerCase(),"webkit")&&!pe("Edge"))&&!(pe("Trident")||pe("MSIE"))&&!pe("Edge"),et=le(te.toLowerCase(),"webkit")&&!pe("Edge");function tt(){var e=u.document;return e?e.documentMode:void 0}e:{var nt="",rt=function(){var e=te;return Je?/rv:([^\);]+)(\)|;)/.exec(e):Qe?/Edge\/([\d\.]+)/.exec(e):Xe?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):et?/WebKit\/(\S+)/.exec(e):$e?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(rt&&(nt=rt?rt[1]:""),Xe){var it=tt();if(null!=it&&it>parseFloat(nt)){Ye=String(it);break e}}Ye=nt}var ot,at={};function st(e){return function(e,t){var n=at;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(){for(var t=0,n=ne(String(Ye)).split("."),r=ne(String(e)).split("."),i=Math.max(n.length,r.length),o=0;0==t&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;t=fe(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||fe(0==a[2].length,0==s[2].length)||fe(a[2],s[2]),a=a[3],s=s[3]}while(0==t)}return 0<=t}))}if(u.document&&Xe){var ut=tt();ot=ut||(parseInt(Ye,10)||void 0)}else ot=void 0;var ct=ot;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(pa){}var lt=!Xe||9<=Number(ct);function ft(e){var t=document;return"string"===typeof e?t.getElementById(e):e}function ht(e,t){ve(t,(function(t,n){t&&"object"==typeof t&&t.ta&&(t=t.sa()),"style"==n?e.style.cssText=t:"class"==n?e.className=t:"for"==n?e.htmlFor=t:vt.hasOwnProperty(n)?e.setAttribute(vt[n],t):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?e.setAttribute(n,t):e[n]=t}))}var dt,pt,vt={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function gt(e,t,n){function r(n){n&&t.appendChild("string"===typeof n?e.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||m(o)&&0<o.nodeType)r(o);else{e:{if(o&&"number"==typeof o.length){if(m(o)){var a="function"==typeof o.item||"string"==typeof o.item;break e}if(g(o)){a="function"==typeof o.item;break e}}a=!1}G(a?ee(o):o,r)}}}function mt(e,t){return t=String(t),"application/xhtml+xml"===e.contentType&&(t=t.toLowerCase()),e.createElement(t)}function yt(e){u.setTimeout((function(){throw e}),0)}function _t(e,t){pt||function(){if(u.Promise&&u.Promise.resolve){var e=u.Promise.resolve(void 0);pt=function(){e.then(kt)}}else pt=function(){var e=kt;!g(u.setImmediate)||u.Window&&u.Window.prototype&&!pe("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(dt||(dt=function(){var e=u.MessageChannel;if("undefined"===typeof e&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!pe("Presto")&&(e=function(){var e=mt(document,"IFRAME");e.style.display="none",document.documentElement.appendChild(e);var t=e.contentWindow;(e=t.document).open(),e.close();var n="callImmediate"+Math.random(),r="file:"==t.location.protocol?"*":t.location.protocol+"//"+t.location.host;e=I((function(e){"*"!=r&&e.origin!=r||e.data!=n||this.port1.onmessage()}),this),t.addEventListener("message",e,!1),this.port1={},this.port2={postMessage:function(){t.postMessage(n,r)}}}),"undefined"!==typeof e&&!pe("Trident")&&!pe("MSIE")){var t=new e,n={},r=n;return t.port1.onmessage=function(){if(void 0!==n.next){var e=(n=n.next).Hb;n.Hb=null,e()}},function(e){r.next={Hb:e},r=r.next,t.port2.postMessage(0)}}return function(e){u.setTimeout(e,0)}}()),dt(e)):u.setImmediate(e)}}(),bt||(pt(),bt=!0),wt.add(e,t)}var bt=!1,wt=new B;function kt(){for(var e;e=z();){try{e.a.call(e.b)}catch(t){yt(t)}q(V,e)}bt=!1}function It(e,t){if(this.a=St,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,e!=h)try{var n=this;e.call(t,(function(e){jt(n,Tt,e)}),(function(e){if(!(e instanceof Wt))try{if(e instanceof Error)throw e;throw Error("Promise rejected.")}catch(Vd){}jt(n,Et,e)}))}catch(r){jt(this,Et,r)}}var St=0,Tt=2,Et=3;function Ct(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Ct.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var xt=new U((function(){return new Ct}),(function(e){e.reset()}));function At(e,t,n){var r=xt.get();return r.g=e,r.b=t,r.f=n,r}function Pt(e){if(e instanceof It)return e;var t=new It(h);return jt(t,Tt,e),t}function Ot(e){return new It((function(t,n){n(e)}))}function Nt(e,t,n){Ft(e,t,n,null)||_t(S(t,e))}function Rt(e){return new It((function(t){var n=e.length,r=[];if(n)for(var i=function(e,i,o){n--,r[e]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&t(r)},o=0;o<e.length;o++)Nt(e[o],S(i,o,!0),S(i,o,!1));else t(r)}))}function Dt(e,t){if(e.a==St)if(e.c){var n=e.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==e&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==St&&1==r?Dt(n,t):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):qt(n),Bt(n,i,Et,t)))}e.c=null}else jt(e,Et,t)}function Mt(e,t){e.b||e.a!=Tt&&e.a!=Et||Ut(e),e.f?e.f.next=t:e.b=t,e.f=t}function Lt(e,t,n,r){var i=At(null,null,null);return i.a=new It((function(e,o){i.g=t?function(n){try{var i=t.call(r,n);e(i)}catch(v){o(v)}}:e,i.b=n?function(t){try{var i=n.call(r,t);void 0===i&&t instanceof Wt?o(t):e(i)}catch(v){o(v)}}:o})),i.a.c=e,Mt(e,i),i.a}function jt(e,t,n){e.a==St&&(e===n&&(t=Et,n=new TypeError("Promise cannot resolve to itself")),e.a=1,Ft(n,e.$c,e.ad,e)||(e.i=n,e.a=t,e.c=null,Ut(e),t!=Et||n instanceof Wt||function(e,t){e.g=!0,_t((function(){e.g&&zt.call(null,t)}))}(e,n)))}function Ft(e,t,n,r){if(e instanceof It)return Mt(e,At(t||h,n||null,r)),!0;if(M(e))return e.then(t,n,r),!0;if(m(e))try{var i=e.then;if(g(i))return function(e,t,n,r,i){function o(e){s||(s=!0,r.call(i,e))}function a(e){s||(s=!0,n.call(i,e))}var s=!1;try{t.call(e,a,o)}catch(u){o(u)}}(e,i,t,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function Ut(e){e.h||(e.h=!0,_t(e.gc,e))}function qt(e){var t=null;return e.b&&(t=e.b,e.b=t.next,t.next=null),e.b||(e.f=null),t}function Bt(e,t,n,r){if(n==Et&&t.b&&!t.c)for(;e&&e.g;e=e.c)e.g=!1;if(t.a)t.a.c=null,Vt(t,n,r);else try{t.c?t.g.call(t.f):Vt(t,n,r)}catch(Vd){zt.call(null,Vd)}q(xt,t)}function Vt(e,t,n){t==Tt?e.g.call(e.f,n):e.b&&e.b.call(e.f,n)}It.prototype.then=function(e,t,n){return Lt(this,g(e)?e:null,g(t)?t:null,n)},It.prototype.$goog_Thenable=!0,(e=It.prototype).oa=function(e,t){return(e=At(e,e,t)).c=!0,Mt(this,e),this},e.o=function(e,t){return Lt(this,null,e,t)},e.cancel=function(e){if(this.a==St){var t=new Wt(e);_t((function(){Dt(this,t)}),this)}},e.$c=function(e){this.a=St,jt(this,Tt,e)},e.ad=function(e){this.a=St,jt(this,Et,e)},e.gc=function(){for(var e;e=qt(this);)Bt(this,e,this.a,this.i);this.h=!1};var zt=yt;function Wt(e){L.call(this,e)}function Kt(){0!=Gt&&(Ht[y(this)]=this),this.ya=this.ya,this.pa=this.pa}E(Wt,L),Wt.prototype.name="cancel";var Gt=0,Ht={};function Yt(e){if(!e.ya&&(e.ya=!0,e.Da(),0!=Gt)){var t=y(e);if(0!=Gt&&e.pa&&0<e.pa.length)throw Error(e+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete Ht[t]}}Kt.prototype.ya=!1,Kt.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var $t=Object.freeze||function(e){return e},Xt=!Xe||9<=Number(ct),Qt=Xe&&!st("9"),Zt=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{u.addEventListener("test",h,t),u.removeEventListener("test",h,t)}catch(n){}return e}();function Jt(e,t){this.type=e,this.b=this.target=t,this.defaultPrevented=!1}function en(e,t){if(Jt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=t,t=e.relatedTarget){if(Je){e:{try{He(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:tn[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}Jt.prototype.preventDefault=function(){this.defaultPrevented=!0},E(en,Jt);var tn=$t({2:"touch",3:"pen",4:"mouse"});en.prototype.preventDefault=function(){en.bb.preventDefault.call(this);var e=this.a;if(e.preventDefault)e.preventDefault();else if(e.returnValue=!1,Qt)try{(e.ctrlKey||112<=e.keyCode&&123>=e.keyCode)&&(e.keyCode=-1)}catch(t){}},en.prototype.g=function(){return this.a};var nn="closure_listenable_"+(1e6*Math.random()|0),rn=0;function on(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.Wa=i,this.key=++rn,this.wa=this.Qa=!1}function an(e){e.wa=!0,e.listener=null,e.proxy=null,e.src=null,e.Wa=null}function sn(e){this.src=e,this.a={},this.b=0}function un(e,t){var n=t.type;n in e.a&&Q(e.a[n],t)&&(an(t),0==e.a[n].length&&(delete e.a[n],e.b--))}function cn(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.wa&&o.listener==t&&o.capture==!!n&&o.Wa==r)return i}return-1}sn.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.a[o])||(e=this.a[o]=[],this.b++);var a=cn(e,t,r,i);return-1<a?(t=e[a],n||(t.Qa=!1)):((t=new on(t,this.src,o,!!r,i)).Qa=n,e.push(t)),t};var ln="closure_lm_"+(1e6*Math.random()|0),fn={};function hn(e,t,n,r,i){if(r&&r.once)pn(e,t,n,r,i);else if(Array.isArray(t))for(var o=0;o<t.length;o++)hn(e,t[o],n,r,i);else n=In(n),e&&e[nn]?Tn(e,t,n,m(r)?!!r.capture:!!r,i):dn(e,t,n,!1,r,i)}function dn(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=m(i)?!!i.capture:!!i,s=wn(e);if(s||(e[ln]=s=new sn(e)),!(n=s.add(t,n,r,a,o)).proxy){if(r=function(){var e=bn,t=Xt?function(n){return e.call(t.src,t.listener,n)}:function(n){if(!(n=e.call(t.src,t.listener,n)))return n};return t}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Zt||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(mn(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}0}}function pn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)pn(e,t[o],n,r,i);else n=In(n),e&&e[nn]?En(e,t,n,m(r)?!!r.capture:!!r,i):dn(e,t,n,!0,r,i)}function vn(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)vn(e,t[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=In(n),e&&e[nn]?(e=e.v,(t=String(t).toString())in e.a&&(-1<(n=cn(o=e.a[t],n,r,i))&&(an(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.a[t],e.b--)))):e&&(e=wn(e))&&(t=e.a[t.toString()],e=-1,t&&(e=cn(t,n,r,i)),(n=-1<e?t[e]:null)&&gn(n))}function gn(e){if("number"!==typeof e&&e&&!e.wa){var t=e.src;if(t&&t[nn])un(t.v,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(mn(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=wn(t))?(un(n,e),0==n.b&&(n.src=null,t[ln]=null)):an(e)}}}function mn(e){return e in fn?fn[e]:fn[e]="on"+e}function yn(e,t,n,r){var i=!0;if((e=wn(e))&&(t=e.a[t.toString()]))for(t=t.concat(),e=0;e<t.length;e++){var o=t[e];o&&o.capture==n&&!o.wa&&(o=_n(o,r),i=i&&!1!==o)}return i}function _n(e,t){var n=e.listener,r=e.Wa||e.src;return e.Qa&&gn(e),n.call(r,t)}function bn(e,t){if(e.wa)return!0;if(!Xt){if(!t)e:{t=["window","event"];for(var n=u,r=0;r<t.length;r++)if(null==(n=n[t[r]])){t=null;break e}t=n}if(t=new en(r=t,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){e:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break e}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=t.b;i;i=i.parentNode)r.push(i);for(e=e.type,i=r.length-1;0<=i;i--){t.b=r[i];var o=yn(r[i],e,!0,t);n=n&&o}for(i=0;i<r.length;i++)t.b=r[i],o=yn(r[i],e,!1,t),n=n&&o}return n}return _n(e,new en(t,this))}function wn(e){return(e=e[ln])instanceof sn?e:null}var kn="__closure_events_fn_"+(1e9*Math.random()>>>0);function In(e){return g(e)?e:(e[kn]||(e[kn]=function(t){return e.handleEvent(t)}),e[kn])}function Sn(){Kt.call(this),this.v=new sn(this),this.bc=this,this.hb=null}function Tn(e,t,n,r,i){e.v.add(String(t),n,!1,r,i)}function En(e,t,n,r,i){e.v.add(String(t),n,!0,r,i)}function Cn(e,t,n,r){if(!(t=e.v.a[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&un(e.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function xn(e,t,n){if(g(e))n&&(e=I(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=I(e.handleEvent,e)}return 2147483647<Number(t)?-1:u.setTimeout(e,t||0)}function An(e){var t=null;return new It((function(n,r){-1==(t=xn((function(){n(void 0)}),e))&&r(Error("Failed to schedule timer."))})).o((function(e){throw u.clearTimeout(t),e}))}function Pn(e){if(e.X&&"function"==typeof e.X)return e.X();if("string"===typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function On(e){if(e.Y&&"function"==typeof e.Y)return e.Y();if(!e.X||"function"!=typeof e.X){if(p(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}function Nn(e,t){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Nn)for(n=e.Y(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Rn(e){if(e.c!=e.a.length){for(var t=0,n=0;t<e.a.length;){var r=e.a[t];Dn(e.b,r)&&(e.a[n++]=r),t++}e.a.length=n}if(e.c!=e.a.length){var i={};for(n=t=0;t<e.a.length;)Dn(i,r=e.a[t])||(e.a[n++]=r,i[r]=1),t++;e.a.length=n}}function Dn(e,t){return Object.prototype.hasOwnProperty.call(e,t)}E(Sn,Kt),Sn.prototype[nn]=!0,Sn.prototype.addEventListener=function(e,t,n,r){hn(this,e,t,n,r)},Sn.prototype.removeEventListener=function(e,t,n,r){vn(this,e,t,n,r)},Sn.prototype.dispatchEvent=function(e){var t,n=this.hb;if(n)for(t=[];n;n=n.hb)t.push(n);n=this.bc;var r=e.type||e;if("string"===typeof e)e=new Jt(e,n);else if(e instanceof Jt)e.target=e.target||n;else{var i=e;_e(e=new Jt(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var a=e.b=t[o];i=Cn(a,r,!0,e)&&i}if(i=Cn(a=e.b=n,r,!0,e)&&i,i=Cn(a,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Cn(a=e.b=t[o],r,!1,e)&&i;return i},Sn.prototype.Da=function(){if(Sn.bb.Da.call(this),this.v){var e,t=this.v;for(e in t.a){for(var n=t.a[e],r=0;r<n.length;r++)an(n[r]);delete t.a[e],t.b--}}this.hb=null},(e=Nn.prototype).X=function(){Rn(this);for(var e=[],t=0;t<this.a.length;t++)e.push(this.b[this.a[t]]);return e},e.Y=function(){return Rn(this),this.a.concat()},e.clear=function(){this.b={},this.c=this.a.length=0},e.get=function(e,t){return Dn(this.b,e)?this.b[e]:t},e.set=function(e,t){Dn(this.b,e)||(this.c++,this.a.push(e)),this.b[e]=t},e.forEach=function(e,t){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Mn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jn(e,t){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,e instanceof jn?(this.i=void 0!==t?t:e.i,Fn(this,e.c),this.l=e.l,this.a=e.a,Un(this,e.g),this.f=e.f,qn(this,or(e.b)),this.h=e.h):e&&(n=String(e).match(Mn))?(this.i=!!t,Fn(this,n[1]||"",!0),this.l=Kn(n[2]||""),this.a=Kn(n[3]||"",!0),Un(this,n[4]),this.f=Kn(n[5]||"",!0),qn(this,n[6]||"",!0),this.h=Kn(n[7]||"")):(this.i=!!t,this.b=new Jn(null,this.i))}function Fn(e,t,n){e.c=n?Kn(t,!0):t,e.c&&(e.c=e.c.replace(/:$/,""))}function Un(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.g=t}else e.g=null}function qn(e,t,n){t instanceof Jn?(e.b=t,function(e,t){t&&!e.f&&(er(e),e.c=null,e.a.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(nr(this,t),ir(this,n,e))}),e)),e.f=t}(e.b,e.i)):(n||(t=Gn(t,Qn)),e.b=new Jn(t,e.i))}function Bn(e,t,n){e.b.set(t,n)}function Vn(e,t){return e.b.get(t)}function zn(e){return e instanceof jn?new jn(e):new jn(e,void 0)}function Wn(e,t,n,r){var i=new jn(null,void 0);return e&&Fn(i,e),t&&(i.a=t),n&&Un(i,n),r&&(i.f=r),i}function Kn(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gn(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Hn),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Hn(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jn.prototype.toString=function(){var e=[],t=this.c;t&&e.push(Gn(t,Yn,!0),":");var n=this.a;return(n||"file"==t)&&(e.push("//"),(t=this.l)&&e.push(Gn(t,Yn,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&e.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gn(n,"/"==n.charAt(0)?Xn:$n,!0))),(n=this.b.toString())&&e.push("?",n),(n=this.h)&&e.push("#",Gn(n,Zn)),e.join("")},jn.prototype.resolve=function(e){var t=new jn(this),n=!!e.c;n?Fn(t,e.c):n=!!e.l,n?t.l=e.l:n=!!e.a,n?t.a=e.a:n=null!=e.g;var r=e.f;if(n)Un(t,e.g);else if(n=!!e.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=t.f.lastIndexOf("/");-1!=i&&(r=t.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(le(i,"./")||le(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?t.f=r:n=""!==e.b.toString(),n?qn(t,or(e.b)):n=!!e.h,n&&(t.h=e.h),t};var Yn=/[#\/\?@]/g,$n=/[#\?:]/g,Xn=/[#\?]/g,Qn=/[#\?@]/g,Zn=/#/g;function Jn(e,t){this.b=this.a=null,this.c=e||null,this.f=!!t}function er(e){e.a||(e.a=new Nn,e.b=0,e.c&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.c,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tr(e){var t=On(e);if("undefined"==typeof t)throw Error("Keys are undefined");var n=new Jn(null,void 0);e=Pn(e);for(var r=0;r<t.length;r++){var i=t[r],o=e[r];Array.isArray(o)?ir(n,i,o):n.add(i,o)}return n}function nr(e,t){er(e),t=ar(e,t),Dn(e.a.b,t)&&(e.c=null,e.b-=e.a.get(t).length,Dn((e=e.a).b,t)&&(delete e.b[t],e.c--,e.a.length>2*e.c&&Rn(e)))}function rr(e,t){return er(e),t=ar(e,t),Dn(e.a.b,t)}function ir(e,t,n){nr(e,t),0<n.length&&(e.c=null,e.a.set(ar(e,t),ee(n)),e.b+=n.length)}function or(e){var t=new Jn;return t.c=e.c,e.a&&(t.a=new Nn(e.a),t.b=e.b),t}function ar(e,t){return t=String(t),e.f&&(t=t.toLowerCase()),t}function sr(e){var t=[];return cr(new ur,e,t),t.join("")}function ur(){}function cr(e,t,n){if(null==t)n.push("null");else{if("object"==typeof t){if(Array.isArray(t)){var r=t;t=r.length,n.push("[");for(var i="",o=0;o<t;o++)n.push(i),cr(e,r[o],n),i=",";return void n.push("]")}if(!(t instanceof String||t instanceof Number||t instanceof Boolean)){for(r in n.push("{"),i="",t)Object.prototype.hasOwnProperty.call(t,r)&&("function"!=typeof(o=t[r])&&(n.push(i),hr(r,n),n.push(":"),cr(e,o,n),i=","));return void n.push("}")}t=t.valueOf()}switch(typeof t){case"string":hr(t,n);break;case"number":n.push(isFinite(t)&&!isNaN(t)?String(t):"null");break;case"boolean":n.push(String(t));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof t)}}}(e=Jn.prototype).add=function(e,t){er(this),this.c=null,e=ar(this,e);var n=this.a.get(e);return n||this.a.set(e,n=[]),n.push(t),this.b+=1,this},e.clear=function(){this.a=this.c=null,this.b=0},e.forEach=function(e,t){er(this),this.a.forEach((function(n,r){G(n,(function(n){e.call(t,n,r,this)}),this)}),this)},e.Y=function(){er(this);for(var e=this.a.X(),t=this.a.Y(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},e.X=function(e){er(this);var t=[];if("string"===typeof e)rr(this,e)&&(t=J(t,this.a.get(ar(this,e))));else{e=this.a.X();for(var n=0;n<e.length;n++)t=J(t,e[n])}return t},e.set=function(e,t){return er(this),this.c=null,rr(this,e=ar(this,e))&&(this.b-=this.a.get(e).length),this.a.set(e,[t]),this.b+=1,this},e.get=function(e,t){return e&&0<(e=this.X(e)).length?String(e[0]):t},e.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var e=[],t=this.a.Y(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.c=e.join("&")};var lr={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},fr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function hr(e,t){t.push('"',e.replace(fr,(function(e){var t=lr[e];return t||(t="\\u"+(65536|e.charCodeAt(0)).toString(16).substr(1),lr[e]=t),t})),'"')}function dr(){var e=Rr();return Xe&&!!ct&&11==ct||/Edge\/\d+/.test(e)}function pr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function vr(e,t){t=t||u.window;var n="about:blank";e&&(n=De(Fe(e)||Be)),t.location.href=n}function gr(e,t){var n,r=[];for(n in e)n in t?typeof e[n]!=typeof t[n]?r.push(n):"object"==typeof e[n]&&null!=e[n]&&null!=t[n]?0<gr(e[n],t[n]).length&&r.push(n):e[n]!==t[n]&&r.push(n):r.push(n);for(n in t)n in e||r.push(n);return r}function mr(e){return!!((e=(e||Rr()).toLowerCase()).match(/android/)||e.match(/webos/)||e.match(/iphone|ipad|ipod/)||e.match(/blackberry/)||e.match(/windows phone/)||e.match(/iemobile/))}function yr(e){e=e||u.window;try{e.close()}catch(t){}}function _r(e,t,n){var r=Math.floor(1e9*Math.random()).toString();t=t||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-t)/2;for(a in t={width:t,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Rr().toLowerCase(),r&&(t.target=r,le(n,"crios/")&&(t.target="_blank")),Pr(Rr())==xr&&(e=e||"http://localhost",t.scrollbars=!0),n=e||"",(e=t)||(e={}),r=window,t=n instanceof Re?n:Fe("undefined"!=typeof n.href?n.href:String(n))||Be,n=e.target||n.target,i=[],e)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+e[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(e[a]?1:0))}var a=i.join(",");if((pe("iPhone")&&!pe("iPod")&&!pe("iPad")||pe("iPad")||pe("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(be(a=mt(document,"A"),"HTMLAnchorElement"),t=t instanceof Re?t:Ue(t),a.href=De(t),a.setAttribute("target",n),e.noreferrer&&a.setAttribute("rel","noreferrer"),(e=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(e),a={}):e.noreferrer?(a=We("",r,n,a),e=De(t),a&&(Ze&&le(e,";")&&(e="'"+e.replace(/'/g,"%27")+"'"),a.opener=null,e='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Ge(e)+'">',e=new Ve(e=(r=Ee())?r.createHTML(e):e,null,ze),r=a.document)&&(r.write(function(e){return e instanceof Ve&&e.constructor===Ve?e.a:(F("expected object of type SafeHtml, got '"+e+"' of type "+d(e)),"type_error:SafeHtml")}(e)),r.close())):(a=We(t,r,n,a))&&e.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var br=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,wr=/^[^@]+@[^@]+$/;function kr(){var e=null;return new It((function(t){"complete"==u.document.readyState?t():(e=function(){t()},pn(window,"load",e))})).o((function(t){throw vn(window,"load",e),t}))}function Ir(e){return e=e||Rr(),!("file:"!==Fr()&&"ionic:"!==Fr()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sr(){var e=u.window;try{return!(!e||e==e.top)}catch(t){return!1}}function Tr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function Er(){return r.default.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.default.INTERNAL.hasOwnProperty("node")?"Node":Tr()?"Worker":"Browser"}function Cr(){var e=Er();return"ReactNative"===e||"Node"===e}var xr="Firefox",Ar="Chrome";function Pr(e){var t=e.toLowerCase();return le(t,"opera/")||le(t,"opr/")||le(t,"opios/")?"Opera":le(t,"iemobile")?"IEMobile":le(t,"msie")||le(t,"trident/")?"IE":le(t,"edge/")?"Edge":le(t,"firefox/")?xr:le(t,"silk/")?"Silk":le(t,"blackberry")?"Blackberry":le(t,"webos")?"Webos":!le(t,"safari/")||le(t,"chrome/")||le(t,"crios/")||le(t,"android")?!le(t,"chrome/")&&!le(t,"crios/")||le(t,"edge/")?le(t,"android")?"Android":(e=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==e.length?e[1]:"Other":Ar:"Safari"}var Or={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Nr(e,t){t=t||[];var n,r=[],i={};for(n in Or)i[Or[n]]=!0;for(n=0;n<t.length;n++)"undefined"!==typeof i[t[n]]&&(delete i[t[n]],r.push(t[n]));return r.sort(),(t=r).length||(t=["FirebaseCore-web"]),"Browser"===(r=Er())?r=Pr(i=Rr()):"Worker"===r&&(r=Pr(i=Rr())+"-"+r),r+"/JsCore/"+e+"/"+t.join(",")}function Rr(){return u.navigator&&u.navigator.userAgent||""}function Dr(e,t){e=e.split("."),t=t||u;for(var n=0;n<e.length&&"object"==typeof t&&null!=t;n++)t=t[e[n]];return n!=e.length&&(t=void 0),t}function Mr(){try{var e=u.localStorage,t=zr();if(e)return e.setItem(t,"1"),e.removeItem(t),!dr()||!!u.indexedDB}catch(n){return Tr()&&!!u.indexedDB}return!1}function Lr(){return(jr()||"chrome-extension:"===Fr()||Ir())&&!Cr()&&Mr()&&!Tr()}function jr(){return"http:"===Fr()||"https:"===Fr()}function Fr(){return u.location&&u.location.protocol||null}function Ur(e){return!mr(e=e||Rr())&&Pr(e)!=xr}function qr(e){return"undefined"===typeof e?null:sr(e)}function Br(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&null!==e[t]&&void 0!==e[t]&&(n[t]=e[t]);return n}function Vr(e){if(null!==e)return JSON.parse(e)}function zr(e){return e||Math.floor(1e9*Math.random()).toString()}function Wr(e){return"Safari"!=Pr(e=e||Rr())&&!e.toLowerCase().match(/iphone|ipad|ipod/)}function Kr(){var e=u.___jsl;if(e&&e.H)for(var t in e.H)if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=e.H[t].L.concat(),e.CP)for(var n=0;n<e.CP.length;n++)e.CP[n]=null}function Gr(e,t){if(e>t)throw Error("Short delay should be less than long delay!");this.a=e,this.c=t,e=Rr(),t=Er(),this.b=mr(e)||"ReactNative"===t}function Hr(){var e=u.document;return!e||"undefined"===typeof e.visibilityState||"visible"==e.visibilityState}function Yr(e){try{var t=new Date(parseInt(e,10));if(!isNaN(t.getTime())&&!/[^0-9]/.test(e))return t.toUTCString()}catch(n){}return null}function $r(){return!(!Dr("fireauth.oauthhelper",u)&&!Dr("fireauth.iframe",u))}Gr.prototype.get=function(){var e=u.navigator;return!e||"boolean"!==typeof e.onLine||!jr()&&"chrome-extension:"!==Fr()&&"undefined"===typeof e.connection||e.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Xr,Qr={};function Zr(e){Qr[e]||(Qr[e]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(e))}try{var Jr={};Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Jr,"abcd",{configurable:!0,enumerable:!0,value:2}),Xr=2==Jr.abcd}catch(pa){Xr=!1}function ei(e,t,n){Xr?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,value:n}):e[t]=n}function ti(e,t){if(t)for(var n in t)t.hasOwnProperty(n)&&ei(e,n,t[n])}function ni(e){var t={};return ti(t,e),t}function ri(e){var t=e;if("object"==typeof e&&null!=e)for(var n in t="length"in e?[]:{},e)ei(t,n,ri(e[n]));return t}function ii(e){var t=e&&(e[ci]?"phone":null);if(!(t&&e&&e[ui]))throw new x("internal-error","Internal assert: invalid MultiFactorInfo object");ei(this,"uid",e[ui]),ei(this,"displayName",e[ai]||null);var n=null;e[si]&&(n=new Date(e[si]).toUTCString()),ei(this,"enrollmentTime",n),ei(this,"factorId",t)}function oi(e){try{var t=new li(e)}catch(n){t=null}return t}ii.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ai="displayName",si="enrolledAt",ui="mfaEnrollmentId",ci="phoneInfo";function li(e){ii.call(this,e),ei(this,"phoneNumber",e[ci])}function fi(e){var t={},n=e[vi],r=e[mi],i=e[yi];if(e=oi(e[gi]),!i||i!=di&&i!=pi&&!n||i==pi&&!r||i==hi&&!e)throw Error("Invalid checkActionCode response!");i==pi?(t[bi]=n||null,t[ki]=n||null,t[_i]=r):(t[bi]=r||null,t[ki]=r||null,t[_i]=n||null),t[wi]=e||null,ei(this,Si,i),ei(this,Ii,ri(t))}E(li,ii),li.prototype.w=function(){var e=li.bb.w.call(this);return e.phoneNumber=this.phoneNumber,e};var hi="REVERT_SECOND_FACTOR_ADDITION",di="EMAIL_SIGNIN",pi="VERIFY_AND_CHANGE_EMAIL",vi="email",gi="mfaInfo",mi="newEmail",yi="requestType",_i="email",bi="fromEmail",wi="multiFactorInfo",ki="previousEmail",Ii="data",Si="operation";function Ti(e){var t=Vn(e=zn(e),Ei)||null,n=Vn(e,Ci)||null,r=Vn(e,Pi)||null;if(r=r&&Ni[r]||null,!t||!n||!r)throw new x("argument-error",Ei+", "+Ci+"and "+Pi+" are required in a valid action code URL.");ti(this,{apiKey:t,operation:r,code:n,continueUrl:Vn(e,xi)||null,languageCode:Vn(e,Ai)||null,tenantId:Vn(e,Oi)||null})}var Ei="apiKey",Ci="oobCode",xi="continueUrl",Ai="languageCode",Pi="mode",Oi="tenantId",Ni={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:hi,signIn:di,verifyAndChangeEmail:pi,verifyEmail:"VERIFY_EMAIL"};function Ri(e){try{return new Ti(e)}catch(t){return null}}function Di(e){var t=e[Ui];if("undefined"===typeof t)throw new x("missing-continue-uri");if("string"!==typeof t||"string"===typeof t&&!t.length)throw new x("invalid-continue-uri");this.h=t,this.b=this.a=null,this.g=!1;var n=e[Mi];if(n&&"object"===typeof n){t=n[Vi];var r=n[qi];if(n=n[Bi],"string"===typeof t&&t.length){if(this.a=t,"undefined"!==typeof r&&"boolean"!==typeof r)throw new x("argument-error",qi+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new x("argument-error",Bi+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof t)throw new x("argument-error",Vi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new x("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new x("argument-error",Mi+" property must be a non null object when specified.");if(this.f=null,(t=e[Fi])&&"object"===typeof t){if("string"===typeof(t=t[zi])&&t.length)this.f=t;else if("undefined"!==typeof t)throw new x("argument-error",zi+" property must be a non empty string when specified.")}else if("undefined"!==typeof t)throw new x("argument-error",Fi+" property must be a non null object when specified.");if("undefined"!==typeof(t=e[ji])&&"boolean"!==typeof t)throw new x("argument-error",ji+" property must be a boolean when specified.");if(this.c=!!t,"undefined"!==typeof(e=e[Li])&&("string"!==typeof e||"string"===typeof e&&!e.length))throw new x("argument-error",Li+" property must be a non empty string when specified.");this.i=e||null}var Mi="android",Li="dynamicLinkDomain",ji="handleCodeInApp",Fi="iOS",Ui="url",qi="installApp",Bi="minimumVersion",Vi="packageName",zi="bundleId";function Wi(e){var t={};for(var n in t.continueUrl=e.h,t.canHandleCodeInApp=e.c,(t.androidPackageName=e.a)&&(t.androidMinimumVersion=e.b,t.androidInstallApp=e.g),t.iOSBundleId=e.f,t.dynamicLinkDomain=e.i,t)null===t[n]&&delete t[n];return t}var Ki=null;function Gi(e){var t=[];return function(e,t){function n(t){for(;r<e.length;){var n=e.charAt(r++),i=Ki[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return t}!function(){if(!Ki){Ki={};for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),t=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=e.concat(t[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Ki[o]&&(Ki[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;t(i<<2|o>>4),64!=a&&(t(o<<4&240|a>>2),64!=s&&t(a<<6&192|s))}}(e,(function(e){t.push(e)})),t}function Hi(e){var t=$i(e);if(!(t&&t.sub&&t.iss&&t.aud&&t.exp))throw Error("Invalid JWT");this.h=e,this.a=t.exp,this.i=t.sub,e=Date.now()/1e3,this.g=t.iat||(e>this.a?this.a:e),this.b=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.f=t.firebase&&t.firebase.tenant||null,this.c=!!t.is_anonymous||"anonymous"==this.b}function Yi(e){try{return new Hi(e)}catch(t){return null}}function $i(e){if(!e)return null;if(3!=(e=e.split(".")).length)return null;for(var t=(4-(e=e[1]).length%4)%4,n=0;n<t;n++)e+=".";try{var r=Gi(e);for(e=[],n=t=0;t<r.length;){var i=r[t++];if(128>i)e[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[t++];e[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[t++];var a=r[t++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[t++])-65536;e[n++]=String.fromCharCode(55296+(s>>10)),e[n++]=String.fromCharCode(56320+(1023&s))}else o=r[t++],a=r[t++],e[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(e.join(""))}catch(v){}return null}Hi.prototype.T=function(){return this.f},Hi.prototype.l=function(){return this.c},Hi.prototype.toString=function(){return this.h};var Xi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Qi=["client_id","response_type","scope","redirect_uri","state"],Zi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Qi},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Qi},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Qi},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Xi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Ji(e){for(var t in Zi)if(Zi[t].fa==e)return Zi[t];return null}function eo(e){var t={};t["facebook.com"]=oo,t["google.com"]=so,t["github.com"]=ao,t["twitter.com"]=uo;var n=e&&e[no];try{if(n)return t[n]?new t[n](e):new io(e);if("undefined"!==typeof e[to])return new ro(e)}catch(r){}return null}var to="idToken",no="providerId";function ro(e){var t=e[no];if(!t&&e[to]){var n=Yi(e[to]);n&&n.b&&(t=n.b)}if(!t)throw Error("Invalid additional user info!");"anonymous"!=t&&"custom"!=t||(t=null),n=!1,"undefined"!==typeof e.isNewUser?n=!!e.isNewUser:"identitytoolkit#SignupNewUserResponse"===e.kind&&(n=!0),ei(this,"providerId",t),ei(this,"isNewUser",n)}function io(e){ro.call(this,e),ei(this,"profile",ri((e=Vr(e.rawUserInfo||"{}"))||{}))}function oo(e){if(io.call(this,e),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(e){if(io.call(this,e),"github.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",this.profile&&this.profile.login||null)}function so(e){if(io.call(this,e),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function uo(e){if(io.call(this,e),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");ei(this,"username",e.screenName||null)}function co(e){var t=zn(e),n=Vn(t,"link"),r=Vn(zn(n),"link");return t=Vn(t,"deep_link_id"),Vn(zn(t),"link")||t||r||n||e}function lo(e,t){if(!e&&!t)throw new x("internal-error","Internal assert: no raw session string available");if(e&&t)throw new x("internal-error","Internal assert: unable to determine the session type");this.a=e||null,this.b=t||null,this.type=this.a?fo:ho}E(io,ro),E(oo,io),E(ao,io),E(so,io),E(uo,io);var fo="enroll",ho="signin";function po(){}function vo(e,t){return e.then((function(e){if(e[is]){var n=Yi(e[is]);if(!n||t!=n.i)throw new x("user-mismatch");return e}throw new x("user-mismatch")})).o((function(e){throw e&&e.code&&e.code==O+"user-not-found"?new x("user-mismatch"):e}))}function go(e,t){if(!t)throw new x("internal-error","failed to construct a credential");this.a=t,ei(this,"providerId",e),ei(this,"signInMethod",e)}function mo(e){return{pendingToken:e.a,requestUri:"http://localhost"}}function yo(e){if(e&&e.providerId&&e.signInMethod&&0==e.providerId.indexOf("saml.")&&e.pendingToken)try{return new go(e.providerId,e.pendingToken)}catch(t){}return null}function _o(e,t,n){if(this.a=null,t.idToken||t.accessToken)t.idToken&&ei(this,"idToken",t.idToken),t.accessToken&&ei(this,"accessToken",t.accessToken),t.nonce&&!t.pendingToken&&ei(this,"nonce",t.nonce),t.pendingToken&&(this.a=t.pendingToken);else{if(!t.oauthToken||!t.oauthTokenSecret)throw new x("internal-error","failed to construct a credential");ei(this,"accessToken",t.oauthToken),ei(this,"secret",t.oauthTokenSecret)}ei(this,"providerId",e),ei(this,"signInMethod",n)}function bo(e){var t={};return e.idToken&&(t.id_token=e.idToken),e.accessToken&&(t.access_token=e.accessToken),e.secret&&(t.oauth_token_secret=e.secret),t.providerId=e.providerId,e.nonce&&!e.a&&(t.nonce=e.nonce),t={postBody:tr(t).toString(),requestUri:"http://localhost"},e.a&&(delete t.postBody,t.pendingToken=e.a),t}function wo(e){if(e&&e.providerId&&e.signInMethod){var t={idToken:e.oauthIdToken,accessToken:e.oauthTokenSecret?null:e.oauthAccessToken,oauthTokenSecret:e.oauthTokenSecret,oauthToken:e.oauthTokenSecret&&e.oauthAccessToken,nonce:e.nonce,pendingToken:e.pendingToken};try{return new _o(e.providerId,t,e.signInMethod)}catch(n){}}return null}function ko(e,t){this.Qc=t||[],ti(this,{providerId:e,isOAuthProvider:!0}),this.Jb={},this.qb=(Ji(e)||{}).Ja||null,this.pb=null}function Io(e){if("string"!==typeof e||0!=e.indexOf("saml."))throw new x("argument-error",'SAML provider IDs must be prefixed with "saml."');ko.call(this,e,[])}function So(e){ko.call(this,e,Qi),this.a=[]}function To(){So.call(this,"facebook.com")}function Eo(e){if(!e)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new To).credential({accessToken:t})}function Co(){So.call(this,"github.com")}function xo(e){if(!e)throw new x("argument-error","credential failed: expected 1 argument (the OAuth access token).");var t=e;return m(e)&&(t=e.accessToken),(new Co).credential({accessToken:t})}function Ao(){So.call(this,"google.com"),this.Ca("profile")}function Po(e,t){var n=e;return m(e)&&(n=e.idToken,t=e.accessToken),(new Ao).credential({idToken:n,accessToken:t})}function Oo(){ko.call(this,"twitter.com",Xi)}function No(e,t){var n=e;if(m(n)||(n={oauthToken:e,oauthTokenSecret:t}),!n.oauthToken||!n.oauthTokenSecret)throw new x("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new _o("twitter.com",n,"twitter.com")}function Ro(e,t,n){this.a=e,this.f=t,ei(this,"providerId","password"),ei(this,"signInMethod",n===Mo.EMAIL_LINK_SIGN_IN_METHOD?Mo.EMAIL_LINK_SIGN_IN_METHOD:Mo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(e){return e&&e.email&&e.password?new Ro(e.email,e.password,e.signInMethod):null}function Mo(){ti(this,{providerId:"password",isOAuthProvider:!1})}function Lo(e,t){if(!(t=jo(t)))throw new x("argument-error","Invalid email link!");return new Ro(e,t.code,Mo.EMAIL_LINK_SIGN_IN_METHOD)}function jo(e){return(e=Ri(e=co(e)))&&e.operation===di?e:null}function Fo(e){if(!(e.fb&&e.eb||e.La&&e.ea))throw new x("internal-error");this.a=e,ei(this,"providerId","phone"),this.fa="phone",ei(this,"signInMethod","phone")}function Uo(e){if(e&&"phone"===e.providerId&&(e.verificationId&&e.verificationCode||e.temporaryProof&&e.phoneNumber)){var t={};return G(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){e[n]&&(t[n]=e[n])})),new Fo(t)}return null}function qo(e){return e.a.La&&e.a.ea?{temporaryProof:e.a.La,phoneNumber:e.a.ea}:{sessionInfo:e.a.fb,code:e.a.eb}}function Bo(e){try{this.a=e||r.default.auth()}catch(t){throw new x("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}ti(this,{providerId:"phone",isOAuthProvider:!1})}function Vo(e,t){if(!e)throw new x("missing-verification-id");if(!t)throw new x("missing-verification-code");return new Fo({fb:e,eb:t})}function zo(e){if(e.temporaryProof&&e.phoneNumber)return new Fo({La:e.temporaryProof,ea:e.phoneNumber});var t=e&&e.providerId;if(!t||"password"===t)return null;var n=e&&e.oauthAccessToken,r=e&&e.oauthTokenSecret,i=e&&e.nonce,o=e&&e.oauthIdToken,a=e&&e.pendingToken;try{switch(t){case"google.com":return Po(o,n);case"facebook.com":return Eo(n);case"github.com":return xo(n);case"twitter.com":return No(n,r);default:return n||r||o||a?a?0==t.indexOf("saml.")?new go(t,a):new _o(t,{pendingToken:a,idToken:e.oauthIdToken,accessToken:e.oauthAccessToken},t):new So(t).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function Wo(e){if(!e.isOAuthProvider)throw new x("invalid-oauth-provider")}function Ko(e,t,n,r,i,o,a){if(this.c=e,this.b=t||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new x("invalid-auth-event");if(this.g&&this.a)throw new x("invalid-auth-event");if(this.g&&!this.f)throw new x("invalid-auth-event")}function Go(e){return(e=e||{}).type?new Ko(e.type,e.eventId,e.urlResponse,e.sessionId,e.error&&A(e.error),e.postBody,e.tenantId):null}function Ho(){this.b=null,this.a=[]}lo.prototype.Ha=function(){return this.a?Pt(this.a):Pt(this.b)},lo.prototype.w=function(){return this.type==fo?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},po.prototype.ka=function(){},po.prototype.b=function(){},po.prototype.c=function(){},po.prototype.w=function(){},go.prototype.ka=function(e){return Es(e,mo(this))},go.prototype.b=function(e,t){var n=mo(this);return n.idToken=t,Cs(e,n)},go.prototype.c=function(e,t){return vo(xs(e,mo(this)),t)},go.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},_o.prototype.ka=function(e){return Es(e,bo(this))},_o.prototype.b=function(e,t){var n=bo(this);return n.idToken=t,Cs(e,n)},_o.prototype.c=function(e,t){return vo(xs(e,bo(this)),t)},_o.prototype.w=function(){var e={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(e.oauthIdToken=this.idToken),this.accessToken&&(e.oauthAccessToken=this.accessToken),this.secret&&(e.oauthTokenSecret=this.secret),this.nonce&&(e.nonce=this.nonce),this.a&&(e.pendingToken=this.a),e},ko.prototype.Ka=function(e){return this.Jb=me(e),this},E(Io,ko),E(So,ko),So.prototype.Ca=function(e){return X(this.a,e)||this.a.push(e),this},So.prototype.Rb=function(){return ee(this.a)},So.prototype.credential=function(e,t){var n;if(!(n=m(e)?{idToken:e.idToken||null,accessToken:e.accessToken||null,nonce:e.rawNonce||null}:{idToken:e||null,accessToken:t||null}).idToken&&!n.accessToken)throw new x("argument-error","credential failed: must provide the ID token and/or the access token.");return new _o(this.providerId,n,this.providerId)},E(To,So),ei(To,"PROVIDER_ID","facebook.com"),ei(To,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),E(Co,So),ei(Co,"PROVIDER_ID","github.com"),ei(Co,"GITHUB_SIGN_IN_METHOD","github.com"),E(Ao,So),ei(Ao,"PROVIDER_ID","google.com"),ei(Ao,"GOOGLE_SIGN_IN_METHOD","google.com"),E(Oo,ko),ei(Oo,"PROVIDER_ID","twitter.com"),ei(Oo,"TWITTER_SIGN_IN_METHOD","twitter.com"),Ro.prototype.ka=function(e){return this.signInMethod==Mo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,Ls,{email:this.a,oobCode:this.f}):cu(e,iu,{email:this.a,password:this.f})},Ro.prototype.b=function(e,t){return this.signInMethod==Mo.EMAIL_LINK_SIGN_IN_METHOD?cu(e,js,{idToken:t,email:this.a,oobCode:this.f}):cu(e,Xs,{idToken:t,email:this.a,password:this.f})},Ro.prototype.c=function(e,t){return vo(this.ka(e),t)},Ro.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},ti(Mo,{PROVIDER_ID:"password"}),ti(Mo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),ti(Mo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Fo.prototype.ka=function(e){return e.gb(qo(this))},Fo.prototype.b=function(e,t){var n=qo(this);return n.idToken=t,cu(e,au,n)},Fo.prototype.c=function(e,t){var n=qo(this);return n.operation="REAUTH",vo(e=cu(e,su,n),t)},Fo.prototype.w=function(){var e={providerId:"phone"};return this.a.fb&&(e.verificationId=this.a.fb),this.a.eb&&(e.verificationCode=this.a.eb),this.a.La&&(e.temporaryProof=this.a.La),this.a.ea&&(e.phoneNumber=this.a.ea),e},Bo.prototype.gb=function(e,t){var n=this.a.a;return Pt(t.verify()).then((function(r){if("string"!==typeof r)throw new x("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===t.type){var i,o=m(e)?e.session:null,a=m(e)?e.phoneNumber:e;return i=o&&o.type==fo?o.Ha().then((function(e){return function(e,t){return cu(e,Zs,t).then((function(e){return e.phoneSessionInfo.sessionInfo}))}(n,{idToken:e,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==ho?o.Ha().then((function(t){return function(e,t){return cu(e,Js,t).then((function(e){return e.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:t,mfaEnrollmentId:e.multiFactorHint&&e.multiFactorHint.uid||e.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(e,t){return cu(e,Ys,t)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(e){return"function"===typeof t.reset&&t.reset(),e}),(function(e){throw"function"===typeof t.reset&&t.reset(),e}))}throw new x("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},ti(Bo,{PROVIDER_ID:"phone"}),ti(Bo,{PHONE_SIGN_IN_METHOD:"phone"}),Ko.prototype.getUid=function(){var e=[];return e.push(this.c),this.b&&e.push(this.b),this.f&&e.push(this.f),this.h&&e.push(this.h),e.join("-")},Ko.prototype.T=function(){return this.h},Ko.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var Yo,$o=null;function Xo(e){var t="unauthorized-domain",n=void 0,r=zn(e);e=r.a,"chrome-extension"==(r=r.c)?n=Ke("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):"http"==r||"https"==r?n=Ke("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",e):t="operation-not-supported-in-this-environment",x.call(this,t,n)}function Qo(e,t,n){x.call(this,e,n),(e=t||{}).Kb&&ei(this,"email",e.Kb),e.ea&&ei(this,"phoneNumber",e.ea),e.credential&&ei(this,"credential",e.credential),e.$b&&ei(this,"tenantId",e.$b)}function Zo(e){if(e.code){var t=e.code||"";0==t.indexOf(O)&&(t=t.substring(O.length));var n={credential:zo(e),$b:e.tenantId};if(e.email)n.Kb=e.email;else if(e.phoneNumber)n.ea=e.phoneNumber;else if(!n.credential)return new x(t,e.message||void 0);return new Qo(t,n,e.message)}return null}function Jo(){}function ea(e){return e.c||(e.c=e.b())}function ta(){}function na(e){if(!e.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<t.length;n++){var r=t[n];try{return new ActiveXObject(r),e.f=r}catch(Vd){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return e.f}function ra(){}function ia(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=I(this.qc,this),this.a.onerror=I(this.Tb,this),this.a.onprogress=I(this.rc,this),this.a.ontimeout=I(this.vc,this)}function oa(e,t){e.readyState=t,e.onreadystatechange&&e.onreadystatechange()}function aa(e,t,n){this.reset(e,t,n,void 0,void 0)}E(Xo,x),E(Qo,x),Qo.prototype.w=function(){var e={code:this.code,message:this.message};this.email&&(e.email=this.email),this.phoneNumber&&(e.phoneNumber=this.phoneNumber),this.tenantId&&(e.tenantId=this.tenantId);var t=this.credential&&this.credential.w();return t&&_e(e,t),e},Qo.prototype.toJSON=function(){return this.w()},Jo.prototype.c=null,E(ta,Jo),ta.prototype.a=function(){var e=na(this);return e?new ActiveXObject(e):new XMLHttpRequest},ta.prototype.b=function(){var e={};return na(this)&&(e[0]=!0,e[1]=!0),e},Yo=new ta,E(ra,Jo),ra.prototype.a=function(){var e=new XMLHttpRequest;if("withCredentials"in e)return e;if("undefined"!=typeof XDomainRequest)return new ia;throw Error("Unsupported browser")},ra.prototype.b=function(){return{}},(e=ia.prototype).open=function(e,t,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(e,t)},e.send=function(e){if(e){if("string"!=typeof e)throw Error("Only string data is supported");this.a.send(e)}else this.a.send()},e.abort=function(){this.a.abort()},e.setRequestHeader=function(){},e.getResponseHeader=function(e){return"content-type"==e.toLowerCase()?this.a.contentType:""},e.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,oa(this,4)},e.Tb=function(){this.status=500,this.response=this.responseText="",oa(this,4)},e.vc=function(){this.Tb()},e.rc=function(){this.status=200,oa(this,1)},e.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},aa.prototype.a=null;function sa(e){this.f=e,this.b=this.c=this.a=null}function ua(e,t){this.name=e,this.value=t}aa.prototype.reset=function(e,t,n,r,i){"number"==typeof i||0,r||T(),delete this.a},ua.prototype.toString=function(){return this.name};var ca=new ua("SEVERE",1e3),la=new ua("WARNING",900),fa=new ua("CONFIG",700),ha=new ua("FINE",500);function da(e){return e.c?e.c:e.a?da(e.a):(F("Root logger has no level set."),null)}sa.prototype.log=function(e,t,n){if(e.value>=da(this).value)for(g(t)&&(t=t()),e=new aa(e,String(t),this.f),n&&(e.a=n),n=this;n;)n=n.a};var pa,va={},ga=null;function ma(e){var t;if(ga||(ga=new sa(""),va[""]=ga,ga.c=fa),!(t=va[e])){t=new sa(e);var n=e.lastIndexOf("."),r=e.substr(n+1);(n=ma(e.substr(0,n))).b||(n.b={}),n.b[r]=t,t.a=n,va[e]=t}return t}function ya(e,t){e&&e.log(ha,t,void 0)}function _a(e){this.f=e}function ba(e){Sn.call(this),this.u=e,this.h=void 0,this.readyState=wa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=ma("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}E(_a,Jo),_a.prototype.a=function(){return new ba(this.f)},_a.prototype.b=(pa={},function(){return pa}),E(ba,Sn);var wa=0;function ka(e){e.c.read().then(e.pc.bind(e)).catch(e.Va.bind(e))}function Ia(e){e.readyState=4,e.g=null,e.c=null,e.m=null,Sa(e)}function Sa(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ta(e){Sn.call(this),this.headers=new Nn,this.D=e||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ea,this.u=this.S=!1}(e=ba.prototype).open=function(e,t){if(this.readyState!=wa)throw this.abort(),Error("Error reopening a connection");this.s=e,this.f=t,this.readyState=1,Sa(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var t={headers:this.l,method:this.s,credentials:this.h,cache:void 0};e&&(t.body=e),this.u.fetch(new Request(this.f,t)).then(this.uc.bind(this),this.Va.bind(this))},e.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,Ia(this)),this.readyState=wa},e.uc=function(e){this.a&&(this.g=e,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=e.headers,this.readyState=2,Sa(this)),this.a&&(this.readyState=3,Sa(this),this.a&&("arraybuffer"===this.responseType?e.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in e?(this.response=this.responseText="",this.c=e.body.getReader(),this.m=new TextDecoder,ka(this)):e.text().then(this.tc.bind(this),this.Va.bind(this)))))},e.pc=function(e){if(this.a){var t=this.m.decode(e.value?e.value:new Uint8Array(0),{stream:!e.done});t&&(this.response=this.responseText+=t),e.done?Ia(this):Sa(this),3==this.readyState&&ka(this)}},e.tc=function(e){this.a&&(this.response=this.responseText=e,Ia(this))},e.sc=function(e){this.a&&(this.response=e,Ia(this))},e.Va=function(e){var t=this.i;t&&t.log(la,"Failed to fetch url "+this.f,e instanceof Error?e:Error(e)),this.a&&Ia(this)},e.setRequestHeader=function(e,t){this.l.append(e,t)},e.getResponseHeader=function(e){return this.b?this.b.get(e.toLowerCase())||"":((e=this.i)&&e.log(la,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},e.getAllResponseHeaders=function(){if(!this.b){var e=this.i;return e&&e.log(la,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}e=[];for(var t=this.b.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ba.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(e){this.h=e?"include":"same-origin"}}),E(Ta,Sn);var Ea="";Ta.prototype.b=ma("goog.net.XhrIo");var Ca=/^https?$/i,xa=["POST","PUT"];function Aa(e,t,n,r,i){if(e.a)throw Error("[goog.net.XhrIo] Object is active with another request="+e.l+"; newUri="+t);n=n?n.toUpperCase():"GET",e.l=t,e.h="",e.P=n,e.J=!1,e.c=!0,e.a=e.D?e.D.a():Yo.a(),e.C=e.D?ea(e.D):ea(Yo),e.a.onreadystatechange=I(e.Wb,e);try{ya(e.b,Fa(e,"Opening Xhr")),e.N=!0,e.a.open(n,String(t),!0),e.N=!1}catch(a){return ya(e.b,Fa(e,"Error opening Xhr: "+a.message)),void Oa(e,a)}t=r||"";var o=new Nn(e.headers);i&&function(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"===typeof e)G(e,t,void 0);else for(var n=On(e),r=Pn(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}(i,(function(e,t){o.set(t,e)})),i=function(e){e:{for(var t=Pa,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(o.Y()),r=u.FormData&&t instanceof u.FormData,!X(xa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(e,t){this.a.setRequestHeader(t,e)}),e),e.m&&(e.a.responseType=e.m),"withCredentials"in e.a&&e.a.withCredentials!==e.S&&(e.a.withCredentials=e.S);try{Ma(e),0<e.g&&(e.u=function(e){return Xe&&st(9)&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(e.a),ya(e.b,Fa(e,"Will abort after "+e.g+"ms if incomplete, xhr2 "+e.u)),e.u?(e.a.timeout=e.g,e.a.ontimeout=I(e.Ma,e)):e.s=xn(e.Ma,e.g,e)),ya(e.b,Fa(e,"Sending request")),e.i=!0,e.a.send(t),e.i=!1}catch(a){ya(e.b,Fa(e,"Send error: "+a.message)),Oa(e,a)}}function Pa(e){return"content-type"==e.toLowerCase()}function Oa(e,t){e.c=!1,e.a&&(e.f=!0,e.a.abort(),e.f=!1),e.h=t,Na(e),Da(e)}function Na(e){e.J||(e.J=!0,e.dispatchEvent("complete"),e.dispatchEvent("error"))}function Ra(e){if(e.c&&"undefined"!=typeof s)if(e.C[1]&&4==La(e)&&2==ja(e))ya(e.b,Fa(e,"Local request error detected and ignored"));else if(e.i&&4==La(e))xn(e.Wb,0,e);else if(e.dispatchEvent("readystatechange"),4==La(e)){ya(e.b,Fa(e,"Request complete")),e.c=!1;try{var t,n=ja(e);e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.l).match(Mn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ca.test(o?o.toLowerCase():"")}t=i}if(t)e.dispatchEvent("complete"),e.dispatchEvent("success");else{try{var c=2<La(e)?e.a.statusText:""}catch(l){ya(e.b,"Can not get status: "+l.message),c=""}e.h=c+" ["+ja(e)+"]",Na(e)}}finally{Da(e)}}}function Da(e,t){if(e.a){Ma(e);var n=e.a,r=e.C[0]?h:null;e.a=null,e.C=null,t||e.dispatchEvent("ready");try{n.onreadystatechange=r}catch(Vd){(e=e.b)&&e.log(ca,"Problem encountered resetting onreadystatechange: "+Vd.message,void 0)}}}function Ma(e){e.a&&e.u&&(e.a.ontimeout=null),e.s&&(u.clearTimeout(e.s),e.s=null)}function La(e){return e.a?e.a.readyState:0}function ja(e){try{return 2<La(e)?e.a.status:-1}catch(t){return-1}}function Fa(e,t){return t+" ["+e.P+" "+e.l+" "+ja(e)+"]"}function Ua(e){var t=Xa;this.g=[],this.u=t,this.s=e||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function qa(e,t,n){e.a=!0,e.c=n,e.f=!t,Wa(e)}function Ba(e){if(e.a){if(!e.v)throw new Ka(e);e.v=!1}}function Va(e,t,n,r){e.g.push([t,n,r]),e.a&&Wa(e)}function za(e){return $(e.g,(function(e){return g(e[1])}))}function Wa(e){if(e.h&&e.a&&za(e)){var t=e.h,n=Ya[t];n&&(u.clearTimeout(n.a),delete Ya[t]),e.h=0}e.b&&(e.b.l--,delete e.b),t=e.c;for(var r=n=!1;e.g.length&&!e.i;){var i=e.g.shift(),o=i[0],a=i[1];if(i=i[2],o=e.f?a:o)try{var s=o.call(i||e.s,t);void 0!==s&&(e.f=e.f&&(s==t||s instanceof Error),e.c=t=s),(M(t)||"function"===typeof u.Promise&&t instanceof u.Promise)&&(r=!0,e.i=!0)}catch(c){t=c,e.f=!0,za(e)||(n=!0)}}e.c=t,r&&(s=I(e.m,e,!0),r=I(e.m,e,!1),t instanceof Ua?(Va(t,s,r),t.C=!0):t.then(s,r)),n&&(t=new Ha(t),Ya[t.a]=t,e.h=t.a)}function Ka(){L.call(this)}function Ga(){L.call(this)}function Ha(e){this.a=u.setTimeout(I(this.c,this),0),this.b=e}(e=Ta.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ya(this.b,Fa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},e.abort=function(){this.a&&this.c&&(ya(this.b,Fa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Da(this))},e.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Da(this,!0)),Ta.bb.Da.call(this)},e.Wb=function(){this.ya||(this.N||this.i||this.f?Ra(this):this.Jc())},e.Jc=function(){Ra(this)},e.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ea:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var e=this.b;return e&&e.log(ca,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return ya(this.b,"Can not get response: "+t.message),null}},Ua.prototype.cancel=function(e){if(this.a)this.c instanceof Ua&&this.c.cancel();else{if(this.b){var t=this.b;delete this.b,e?t.cancel(e):(t.l--,0>=t.l&&t.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(e=new Ga(this),Ba(this),qa(this,!1,e))}},Ua.prototype.m=function(e,t){this.i=!1,qa(this,e,t)},Ua.prototype.then=function(e,t,n){var r,i,o=new It((function(e,t){r=e,i=t}));return Va(this,r,(function(e){e instanceof Ga?o.cancel():i(e)})),o.then(e,t,n)},Ua.prototype.$goog_Thenable=!0,E(Ka,L),Ka.prototype.message="Deferred has already fired",Ka.prototype.name="AlreadyCalledError",E(Ga,L),Ga.prototype.message="Deferred was canceled",Ga.prototype.name="CanceledError",Ha.prototype.c=function(){throw delete Ya[this.a],this.b};var Ya={};function $a(e){var t={},n=t.document||document,r=xe(e).toString(),i=mt(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Ua(o),s=null,c=null!=t.timeout?t.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Qa(i,!0);var e=new es(Ja,"Timeout reached for loading script "+r);Ba(a),qa(a,!1,e)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Qa(i,t.xd||!1,s),Ba(a),qa(a,!0,null))},i.onerror=function(){Qa(i,!0,s);var e=new es(Za,"Error while loading script "+r);Ba(a),qa(a,!1,e)},_e(o=t.attributes||{},{type:"text/javascript",charset:"UTF-8"}),ht(i,o),function(e,t){be(e,"HTMLScriptElement"),e.src=xe(t),(t=e.ownerDocument&&e.ownerDocument.defaultView)&&t!=u?t=f(t.document):(null===l&&(l=f(u.document)),t=l),t&&e.setAttribute("nonce",t)}(i,e),function(e){var t;return(t=(e||document).getElementsByTagName("HEAD"))&&0!=t.length?t[0]:e.documentElement}(n).appendChild(i),a}function Xa(){if(this&&this.Xb){var e=this.Xb;e&&"SCRIPT"==e.tagName&&Qa(e,!0,this.Ma)}}function Qa(e,t,n){null!=n&&u.clearTimeout(n),e.onload=h,e.onerror=h,e.onreadystatechange=h,t&&window.setTimeout((function(){e&&e.parentNode&&e.parentNode.removeChild(e)}),0)}var Za=0,Ja=1;function es(e,t){var n="Jsloader error (code #"+e+")";t&&(n+=": "+t),L.call(this,n),this.code=e}function ts(e){this.f=e}function ns(e,t,n){if(this.c=e,e=t||{},this.l=e.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=e.secureTokenTimeout||os,this.g=me(e.secureTokenHeaders||as),this.h=e.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=e.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=e.firebaseTimeout||ss,this.a=me(e.firebaseHeaders||us),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Er(),!(n=u.XMLHttpRequest||n&&r.default.INTERNAL.node&&r.default.INTERNAL.node.XMLHttpRequest)&&!Tr())throw new x("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Tr()?this.f=new _a(self):Cr()?this.f=new ts(n):this.f=new ra,this.b=null}E(es,L),E(ts,Jo),ts.prototype.a=function(){return new this.f},ts.prototype.b=function(){return{}};var rs,is="idToken",os=new Gr(3e4,6e4),as={"Content-Type":"application/x-www-form-urlencoded"},ss=new Gr(3e4,6e4),us={"Content-Type":"application/json"};function cs(e,t){t?e.a["X-Firebase-Locale"]=t:delete e.a["X-Firebase-Locale"]}function ls(e,t){t&&(e.l=fs("https://securetoken.googleapis.com/v1/token",t),e.h=fs("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",t),e.i=fs("https://identitytoolkit.googleapis.com/v2/",t))}function fs(e,t){return e=zn(e),t=zn(t.url),e.f=e.a+e.f,Fn(e,t.c),e.a=t.a,Un(e,t.g),e.toString()}function hs(e,t){t?(e.a["X-Client-Version"]=t,e.g["X-Client-Version"]=t):(delete e.a["X-Client-Version"],delete e.g["X-Client-Version"])}function ds(e,t,n,r,i,o,a){(function(){var e=Rr();return!((e=Pr(e)!=Ar?null:(e=e.match(/\sChrome\/(\d+)/i))&&2==e.length?parseInt(e[1],10):null)&&30>e)&&(!Xe||!ct||9<ct)})()||Tr()?e=I(e.u,e):(rs||(rs=new It((function(e,t){!function(e,t){if(((window.gapi||{}).client||{}).request)e();else{u[vs]=function(){((window.gapi||{}).client||{}).request?e():t(Error("CORS_UNSUPPORTED"))},function(e,t){Va(e,null,t,void 0)}($a(Ae(ps,{onload:vs})),(function(){t(Error("CORS_UNSUPPORTED"))}))}}(e,t)}))),e=I(e.s,e)),e(t,n,r,i,o,a)}ns.prototype.T=function(){return this.b},ns.prototype.u=function(e,t,n,r,i,o){if(Tr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new x("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ta(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}Tn(a,"complete",(function(){s&&clearTimeout(s);var e=null;try{e=JSON.parse(function(e){try{return e.a?e.a.responseText:""}catch(t){return ya(e.b,"Can not get responseText: "+t.message),""}}(this))||null}catch(v){e=null}t&&t(e)})),En(a,"ready",(function(){s&&clearTimeout(s),Yt(this)})),En(a,"timeout",(function(){s&&clearTimeout(s),Yt(this),t&&t(null)})),Aa(a,e,n,r,i)};var ps=new we(Te,"https://apis.google.com/js/client.js?onload=%{onload}"),vs="__fcb"+Math.floor(1e6*Math.random()).toString();function gs(e,t,n,r,i,o,a){var s=zn(t+n);Bn(s,"key",e.c),a&&Bn(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Bn(s,c,i[c]);return new It((function(t,n){ds(e,s.toString(),(function(e){e?e.error?n(fu(e,o||{})):t(e):n(new x("network-request-failed"))}),r,u?void 0:sr(Br(i)),e.a,e.v.get())}))}function ms(e){if("string"!==typeof(e=e.email)||!wr.test(e))throw new x("invalid-email")}function ys(e){"email"in e&&ms(e)}function _s(e){if(!e[is]){if(e.mfaPendingCredential)throw new x("multi-factor-auth-required",null,me(e));throw new x("internal-error")}}function bs(e){if(e.phoneNumber||e.temporaryProof){if(!e.phoneNumber||!e.temporaryProof)throw new x("internal-error")}else{if(!e.sessionInfo)throw new x("missing-verification-id");if(!e.code)throw new x("missing-verification-code")}}ns.prototype.s=function(e,t,n,r,i){var o=this;rs.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:e,method:n,body:r,headers:i,authType:"none",callback:function(e){window.gapi.auth.setToken(a),t&&t(e)}})})).o((function(e){t&&t({error:{message:e&&e.message||"CORS_UNSUPPORTED"}})}))},ns.prototype.Ab=function(){return cu(this,Qs,{})},ns.prototype.Cb=function(e,t){return cu(this,$s,{idToken:e,email:t})},ns.prototype.Db=function(e,t){return cu(this,Xs,{idToken:e,password:t})};var ws={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ks(e){if(!e.phoneVerificationInfo)throw new x("internal-error");if(!e.phoneVerificationInfo.sessionInfo)throw new x("missing-verification-id");if(!e.phoneVerificationInfo.code)throw new x("missing-verification-code")}function Is(e){if(!e.requestUri||!e.sessionId&&!e.postBody&&!e.pendingToken)throw new x("internal-error")}function Ss(e,t){return t.oauthIdToken&&t.providerId&&0==t.providerId.indexOf("oidc.")&&!t.pendingToken&&(e.sessionId?t.nonce=e.sessionId:e.postBody&&(rr(e=new Jn(e.postBody),"nonce")&&(t.nonce=e.get("nonce")))),t}function Ts(e){var t=null;if(e.needConfirmation?(e.code="account-exists-with-different-credential",t=Zo(e)):"FEDERATED_USER_ID_ALREADY_LINKED"==e.errorMessage?(e.code="credential-already-in-use",t=Zo(e)):"EMAIL_EXISTS"==e.errorMessage?(e.code="email-already-in-use",t=Zo(e)):e.errorMessage&&(t=lu(e.errorMessage)),t)throw t;_s(e)}function Es(e,t){return t.returnIdpCredential=!0,cu(e,eu,t)}function Cs(e,t){return t.returnIdpCredential=!0,cu(e,nu,t)}function xs(e,t){return t.returnIdpCredential=!0,t.autoCreate=!1,cu(e,tu,t)}function As(e){if(!e.oobCode)throw new x("invalid-action-code")}(e=ns.prototype).Eb=function(e,t){var n={idToken:e},r=[];return ve(ws,(function(e,i){var o=t[i];null===o?r.push(e):i in t&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),cu(this,$s,n)},e.wb=function(e,t){return _e(e={requestType:"PASSWORD_RESET",email:e},t),cu(this,Ws,e)},e.xb=function(e,t){return _e(e={requestType:"EMAIL_SIGNIN",email:e},t),cu(this,Bs,e)},e.vb=function(e,t){return _e(e={requestType:"VERIFY_EMAIL",idToken:e},t),cu(this,Vs,e)},e.Fb=function(e,t,n){return _e(e={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:e,newEmail:t},n),cu(this,zs,e)},e.gb=function(e){return cu(this,ou,e)},e.ob=function(e,t){return cu(this,Hs,{oobCode:e,newPassword:t})},e.Sa=function(e){return cu(this,Os,{oobCode:e})},e.kb=function(e){return cu(this,Ps,{oobCode:e})};var Ps={endpoint:"setAccountInfo",A:As,Z:"email",B:!0},Os={endpoint:"resetPassword",A:As,G:function(e){var t=e.requestType;if(!t||!e.email&&"EMAIL_SIGNIN"!=t&&"VERIFY_AND_CHANGE_EMAIL"!=t)throw new x("internal-error")},B:!0},Ns={endpoint:"signupNewUser",A:function(e){if(ms(e),!e.password)throw new x("weak-password")},G:_s,V:!0,B:!0},Rs={endpoint:"createAuthUri",B:!0},Ds={endpoint:"deleteAccount",O:["idToken"]},Ms={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(e){if(!Array.isArray(e.deleteProvider))throw new x("internal-error")}},Ls={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ms,G:_s,V:!0,B:!0},js={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ms,G:_s,V:!0},Fs={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:ks,G:_s,B:!0,Na:!0},Us={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:ks,G:_s,B:!0,Na:!0},qs={endpoint:"getAccountInfo"},Bs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("EMAIL_SIGNIN"!=e.requestType)throw new x("internal-error");ms(e)},Z:"email",B:!0},Vs={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(e){if("VERIFY_EMAIL"!=e.requestType)throw new x("internal-error")},Z:"email",B:!0},zs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(e){if("VERIFY_AND_CHANGE_EMAIL"!=e.requestType)throw new x("internal-error")},Z:"email",B:!0},Ws={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(e){if("PASSWORD_RESET"!=e.requestType)throw new x("internal-error");ms(e)},Z:"email",B:!0},Ks={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Gs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(e){if(!e.recaptchaSiteKey)throw new x("internal-error")}},Hs={endpoint:"resetPassword",A:As,Z:"email",B:!0},Ys={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},$s={endpoint:"setAccountInfo",O:["idToken"],A:ys,V:!0},Xs={endpoint:"setAccountInfo",O:["idToken"],A:function(e){if(ys(e),!e.password)throw new x("weak-password")},G:_s,V:!0},Qs={endpoint:"signupNewUser",G:_s,V:!0,B:!0},Zs={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(e){if(!e.phoneEnrollmentInfo)throw new x("internal-error");if(!e.phoneEnrollmentInfo.phoneNumber)throw new x("missing-phone-number");if(!e.phoneEnrollmentInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(e){if(!e.phoneSessionInfo||!e.phoneSessionInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},Js={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(e){if(!e.phoneSignInInfo||!e.phoneSignInInfo.recaptchaToken)throw new x("missing-app-credential")},G:function(e){if(!e.phoneResponseInfo||!e.phoneResponseInfo.sessionInfo)throw new x("internal-error")},B:!0,Na:!0},eu={endpoint:"verifyAssertion",A:Is,Za:Ss,G:Ts,V:!0,B:!0},tu={endpoint:"verifyAssertion",A:Is,Za:Ss,G:function(e){if(e.errorMessage&&"USER_NOT_FOUND"==e.errorMessage)throw new x("user-not-found");if(e.errorMessage)throw lu(e.errorMessage);_s(e)},V:!0,B:!0},nu={endpoint:"verifyAssertion",A:function(e){if(Is(e),!e.idToken)throw new x("internal-error")},Za:Ss,G:Ts,V:!0},ru={endpoint:"verifyCustomToken",A:function(e){if(!e.token)throw new x("invalid-custom-token")},G:_s,V:!0,B:!0},iu={endpoint:"verifyPassword",A:function(e){if(ms(e),!e.password)throw new x("wrong-password")},G:_s,V:!0,B:!0},ou={endpoint:"verifyPhoneNumber",A:bs,G:_s,B:!0},au={endpoint:"verifyPhoneNumber",A:function(e){if(!e.idToken)throw new x("internal-error");bs(e)},G:function(e){if(e.temporaryProof)throw e.code="credential-already-in-use",Zo(e);_s(e)}},su={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:bs,G:_s,B:!0},uu={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(e){if(!!e[is]^!!e.refreshToken)throw new x("internal-error")},B:!0,Na:!0};function cu(e,t,n){if(!function(e,t){if(!t||!t.length)return!0;if(!e)return!1;for(var n=0;n<t.length;n++){var r=e[t[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,t.O))return Ot(new x("internal-error"));var r,i=!!t.Na,o=t.Vb||"POST";return Pt(n).then(t.A).then((function(){return t.V&&(n.returnSecureToken=!0),t.B&&e.b&&"undefined"===typeof n.tenantId&&(n.tenantId=e.b),gs(e,i?e.i:e.h,t.endpoint,o,n,t.Ib,t.mb||!1)})).then((function(e){return r=e,t.Za?t.Za(n,r):r})).then(t.G).then((function(){if(!t.Z)return r;if(!(t.Z in r))throw new x("internal-error");return r[t.Z]}))}function lu(e){return fu({error:{errors:[{message:e}],code:400,message:e}})}function fu(e,t){var n=(e.error&&e.error.errors&&e.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new x(r[n]):null)return n;for(var i in n=e.error&&e.error.message||"",_e(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},t||{}),t=(t=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<t.length?t[1]:void 0,r)if(0===n.indexOf(i))return new x(r[i],t);return!t&&e&&(t=qr(e)),new x("internal-error",t)}function hu(e){this.b=e,this.a=null,this.sb=function(e){return(gu||(gu=new It((function(e,t){function n(){Kr(),Dr("gapi.load")("gapi.iframes",{callback:e,ontimeout:function(){Kr(),t(Error("Network Error"))},timeout:pu.get()})}if(Dr("gapi.iframes.Iframe"))e();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Dr("gapi.load")?n():t(Error("Network Error"))},Pt($a(r=Ae(du,{onload:r}))).o((function(){t(Error("Network Error"))}))}})).o((function(e){throw gu=null,e})))).then((function(){return new It((function(t,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:e.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),t()}e.a=r,e.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),vu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var du=new we(Te,"https://apis.google.com/js/api.js?onload=%{onload}"),pu=new Gr(3e4,6e4),vu=new Gr(5e3,15e3),gu=null;function mu(e,t,n,r){this.l=e,this.h=t,this.i=n,this.g=r,this.f=null,this.g?e=Wn((e=zn(this.g.url)).c,e.a,e.g,"/emulator/auth/iframe"):e=Wn("https",this.l,null,"/__/auth/iframe"),this.a=e,Bn(this.a,"apiKey",this.h),Bn(this.a,"appName",this.i),this.b=null,this.c=[]}function yu(e,t,n,r,i,o){this.u=e,this.s=t,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function _u(e){try{return r.default.app(e).auth().Ga()}catch(t){return[]}}function bu(e,t,n,r,i,o){this.s=e,this.g=t,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function wu(e){var t=pr();return function(e){return cu(e,Ks,{}).then((function(e){return e.authorizedDomains||[]}))}(e).then((function(e){e:{var n=zn(t),r=n.c;n=n.a;for(var i=0;i<e.length;i++){var o=e[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=zn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:br.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){e=!0;break e}}e=!1}if(!e)throw new Xo(pr())}))}function ku(e){return e.m||(e.m=kr().then((function(){if(!e.u){var t=e.c,n=e.i,r=_u(e.b),i=new mu(e.s,e.g,e.b,e.f);i.f=t,i.b=n,i.c=ee(r||[]),e.u=i.toString()}e.v=new hu(e.u),function(e){if(!e.v)throw Error("IfcHandler must be initialized!");!function(e,t){e.sb.then((function(){e.a.register("authEvent",t,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(e.v,(function(t){var n={};if(t&&t.authEvent){var r=!1;for(t=Go(t.authEvent),n=0;n<e.h.length;n++)r=e.h[n](t)||r;return(n={}).status=r?"ACK":"ERROR",Pt(n)}return n.status="ERROR",Pt(n)}))}(e)}))),e.m}function Iu(e){return e.l||(e.C=e.c?Nr(e.c,_u(e.b)):null,e.l=new ns(e.g,D(e.i),e.C),e.f&&ls(e.l,e.f)),e.l}function Su(e,t,n,r,i,o,a,s,u,c,l,f){return(e=new yu(e,t,n,r,i,f)).l=o,e.g=a,e.i=s,e.b=me(u||null),e.f=c,e.zb(l).toString()}function Tu(e){if(this.a=e||r.default.INTERNAL.reactNative&&r.default.INTERNAL.reactNative.AsyncStorage,!this.a)throw new x("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Eu(e){this.b=e,this.a={},this.f=I(this.c,this)}mu.prototype.toString=function(){return this.f?Bn(this.a,"v",this.f):nr(this.a.b,"v"),this.b?Bn(this.a,"eid",this.b):nr(this.a.b,"eid"),this.c.length?Bn(this.a,"fw",this.c.join(",")):nr(this.a.b,"fw"),this.a.toString()},yu.prototype.zb=function(e){return this.h=e,this},yu.prototype.toString=function(){if(this.v){var e=zn(this.v.url);e=Wn(e.c,e.a,e.g,"/emulator/auth/handler")}else e=Wn("https",this.u,null,"/__/auth/handler");if(Bn(e,"apiKey",this.s),Bn(e,"appName",this.c),Bn(e,"authType",this.m),this.a.isOAuthProvider){var t=this.a;try{var n=r.default.app(this.c).auth().la()}catch(u){n=null}for(var i in t.pb=n,Bn(e,"providerId",this.a.providerId),t=Br((n=this.a).Jb))t[i]=t[i].toString();i=n.Qc,t=me(t);for(var o=0;o<i.length;o++){var a=i[o];a in t&&delete t[a]}n.qb&&n.pb&&!t[n.qb]&&(t[n.qb]=n.pb),ge(t)||Bn(e,"customParameters",qr(t))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&Bn(e,"scopes",n.join(","))),this.l?Bn(e,"redirectUrl",this.l):nr(e.b,"redirectUrl"),this.g?Bn(e,"eventId",this.g):nr(e.b,"eventId"),this.i?Bn(e,"v",this.i):nr(e.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Vn(e,s)&&Bn(e,s,this.b[s]);return this.h?Bn(e,"tid",this.h):nr(e.b,"tid"),this.f?Bn(e,"eid",this.f):nr(e.b,"eid"),(s=_u(this.c)).length&&Bn(e,"fw",s.join(",")),e.toString()},(e=bu.prototype).Pb=function(e,t,n){var r=new x("popup-closed-by-user"),i=new x("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(e){var t={type:"webStorageSupport"};return ku(e).then((function(){return function(e,t){return e.sb.then((function(){return new It((function(n){e.a.send(t.type,t,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(e.v,t)})).then((function(e){if(e&&e.length&&"undefined"!==typeof e[0].webStorageSupport)return e[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(e&&yr(e),t(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(e){return new It((function(t){return function n(){An(2e3).then((function(){if(e&&!e.closed)return n();t()}))}()}))}(e)})).then((function(){if(!a)return An(n).then((function(){t(r)}))}))},e.Yb=function(){var e=Rr();return!Ur(e)&&!Wr(e)},e.Ub=function(){return!1},e.Nb=function(e,t,n,r,i,o,a,s){if(!e)return Ot(new x("popup-blocked"));if(a&&!Ur())return this.ma().o((function(t){yr(e),i(t)})),r(),Pt();this.a||(this.a=wu(Iu(this)));var u=this;return this.a.then((function(){var t=u.ma().o((function(t){throw yr(e),i(t),t}));return r(),t})).then((function(){(Wo(n),a)||vr(Su(u.s,u.g,u.b,t,n,null,o,u.c,void 0,u.i,s,u.f),e)})).o((function(e){throw"auth/network-request-failed"==e.code&&(u.a=null),e}))},e.Ob=function(e,t,n,r){this.a||(this.a=wu(Iu(this)));var i=this;return this.a.then((function(){Wo(t),vr(Su(i.s,i.g,i.b,e,t,pr(),n,i.c,void 0,i.i,r,i.f))})).o((function(e){throw"auth/network-request-failed"==e.code&&(i.a=null),e}))},e.ma=function(){var e=this;return ku(this).then((function(){return e.v.sb})).o((function(){throw e.a=null,new x("network-request-failed")}))},e.ac=function(){return!0},e.Ea=function(e){this.h.push(e)},e.Ta=function(e){Z(this.h,(function(t){return t==e}))},(e=Tu.prototype).get=function(e){return Pt(this.a.getItem(e)).then((function(e){return e&&Vr(e)}))},e.set=function(e,t){return Pt(this.a.setItem(e,qr(t)))},e.U=function(e){return Pt(this.a.removeItem(e))},e.ca=function(){},e.ia=function(){};var Cu,xu=[];function Au(e,t,n){ge(e.a)&&e.b.addEventListener("message",e.f),"undefined"===typeof e.a[t]&&(e.a[t]=[]),e.a[t].push(n)}function Pu(e){this.a=e}function Ou(e){this.c=e,this.b=!1,this.a=[]}function Nu(e,t,n,r){var i,o,a,s,u=n||{},c=null;if(e.b)return Ot(Error("connection_unavailable"));var l=r?800:50,f="undefined"!==typeof MessageChannel?new MessageChannel:null;return new It((function(n,r){f?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),f.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),o=function(e){e.data.eventId===i&&("ack"===e.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===e.data.status?(clearTimeout(s),"undefined"!==typeof e.data.response?n(e.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:f,onMessage:o},e.a.push(c),f.port1.addEventListener("message",o),e.c.postMessage({eventType:t,eventId:i,data:u},[f.port2])):r(Error("connection_unavailable"))})).then((function(t){return Ru(e,c),t})).o((function(t){throw Ru(e,c),t}))}function Ru(e,t){if(t){var n=t.messageChannel,r=t.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Z(e.a,(function(e){return e==t}))}}function Du(){if(!Fu())throw new x("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var e=this;Tr()&&self?(this.v=function(){var e=Tr()?self:null;if(G(xu,(function(n){n.b==e&&(t=n)})),!t){var t=new Eu(e);xu.push(t)}return t}(),Au(this.v,"keyChanged",(function(t,n){return zu(e).then((function(t){return 0<t.length&&G(e.a,(function(e){e(t)})),{keyProcessed:X(t,n.key)}}))})),Au(this.v,"ping",(function(){return Pt(["keyChanged"])}))):function(){var e=u.navigator;return e&&e.serviceWorker?Pt().then((function(){return e.serviceWorker.ready})).then((function(e){return e.active||null})).o((function(){return null})):Pt(null)}().then((function(t){(e.h=t)&&(e.g=new Ou(new Pu(t)),Nu(e.g,"ping",null,!0).then((function(t){t[0].fulfilled&&X(t[0].value,"keyChanged")&&(e.s=!0)})).o((function(){})))}))}function Mu(e){return new It((function(t,n){var r=e.m.open("firebaseLocalStorageDb",1);r.onerror=function(e){try{e.preventDefault()}catch(t){}n(Error(e.target.error))},r.onupgradeneeded=function(e){e=e.target.result;try{e.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?t(r):function(e){return new It((function(t,n){var r=e.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){t()},r.onerror=function(e){n(Error(e.target.error))}}))}(e).then((function(){return Mu(e)})).then((function(e){t(e)})).o((function(e){n(e)}))}}))}function Lu(e){return e.i||(e.i=Mu(e)),e.i}function ju(e,t){var n=0;return new It((function r(i,o){Lu(e).then(t).then(i).o((function(t){if(!(3<++n))return Lu(e).then((function(t){return t.close(),e.i=void 0,r(i,o)})).o((function(e){o(e)}));o(t)}))}))}function Fu(){try{return!!u.indexedDB}catch(pa){return!1}}function Uu(e){return e.objectStore("firebaseLocalStorage")}function qu(e,t){return e.transaction(["firebaseLocalStorage"],t?"readwrite":"readonly")}function Bu(e){return new It((function(t,n){e.onsuccess=function(e){e&&e.target?t(e.target.result):t()},e.onerror=function(e){n(e.target.error)}}))}function Vu(e,t){return e.g&&e.h&&function(){var e=u.navigator;return e&&e.serviceWorker&&e.serviceWorker.controller||null}()===e.h?Nu(e.g,"keyChanged",{key:t},e.s).then((function(){})).o((function(){})):Pt()}function zu(e){return Lu(e).then((function(e){var t=Uu(qu(e,!1));return t.getAll?Bu(t.getAll()):new It((function(e,n){var r=[],i=t.openCursor();i.onsuccess=function(t){(t=t.target.result)?(r.push(t.value),t.continue()):e(r)},i.onerror=function(e){n(e.target.error)}}))})).then((function(t){var n={},r=[];if(0==e.b){for(r=0;r<t.length;r++)n[t[r].fbase_key]=t[r].value;r=gr(e.c,n),e.c=n}return r}))}function Wu(e){e.l&&e.l.cancel("STOP_EVENT"),e.f&&(clearTimeout(e.f),e.f=null)}function Ku(e){var t=this,n=null;this.a=[],this.type="indexedDB",this.c=e,this.b=Pt().then((function(){if(Fu()){var e=zr(),r="__sak"+e;return Cu||(Cu=new Du),(n=Cu).set(r,e).then((function(){return n.get(r)})).then((function(t){if(t!==e)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return t.c}))}return t.c})).then((function(e){return t.type=e.type,e.ca((function(e){G(t.a,(function(t){t(e)}))})),e}))}function Gu(){this.a={},this.type="inMemory"}function Hu(){if(!function(){var e="Node"==Er();if(!(e=Yu()||e&&r.default.INTERNAL.node&&r.default.INTERNAL.node.localStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Er())throw new x("internal-error","The LocalStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=Yu()||r.default.INTERNAL.node.localStorage,this.type="localStorage"}function Yu(){try{var e=u.localStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function $u(){this.type="nullStorage"}function Xu(){if(!function(){var e="Node"==Er();if(!(e=Qu()||e&&r.default.INTERNAL.node&&r.default.INTERNAL.node.sessionStorage))return!1;try{return e.setItem("__sak","1"),e.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==Er())throw new x("internal-error","The SessionStorage compatibility library was not found.");throw new x("web-storage-unsupported")}this.a=Qu()||r.default.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Qu(){try{var e=u.sessionStorage,t=zr();return e&&(e.setItem(t,"1"),e.removeItem(t)),e}catch(n){return null}}function Zu(){var e={};e.Browser=tc,e.Node=nc,e.ReactNative=rc,e.Worker=ic,this.a=e[Er()]}Eu.prototype.c=function(e){var t=e.data.eventType,n=e.data.eventId,r=this.a[t];if(r&&0<r.length){e.ports[0].postMessage({status:"ack",eventId:n,eventType:t,response:null});var i=[];G(r,(function(t){i.push(Pt().then((function(){return t(e.origin,e.data.data)})))})),Rt(i).then((function(r){var i=[];G(r,(function(e){i.push({fulfilled:e.Qb,value:e.value,reason:e.reason?e.reason.message:void 0})})),G(i,(function(e){for(var t in e)"undefined"===typeof e[t]&&delete e[t]})),e.ports[0].postMessage({status:"done",eventId:n,eventType:t,response:i})}))}},Pu.prototype.postMessage=function(e,t){this.a.postMessage(e,t)},Ou.prototype.close=function(){for(;0<this.a.length;)Ru(this,this.a[0]);this.b=!0},(e=Du.prototype).set=function(e,t){var n=this,r=!1;return ju(this,(function(t){return Bu((t=Uu(qu(t,!0))).get(e))})).then((function(i){return ju(n,(function(o){if(o=Uu(qu(o,!0)),i)return i.value=t,Bu(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=e,a.value=t,Bu(o.add(a))}))})).then((function(){return n.c[e]=t,Vu(n,e)})).oa((function(){r&&n.b--}))},e.get=function(e){return ju(this,(function(t){return Bu(Uu(qu(t,!1)).get(e))})).then((function(e){return e&&e.value}))},e.U=function(e){var t=this,n=!1;return ju(this,(function(r){return n=!0,t.b++,Bu(Uu(qu(r,!0)).delete(e))})).then((function(){return delete t.c[e],Vu(t,e)})).oa((function(){n&&t.b--}))},e.ca=function(e){0==this.a.length&&function(e){function t(){e.f=setTimeout((function(){e.l=zu(e).then((function(t){0<t.length&&G(e.a,(function(e){e(t)}))})).then((function(){t()})).o((function(e){"STOP_EVENT"!=e.message&&t()}))}),800)}Wu(e),t()}(this),this.a.push(e)},e.ia=function(e){Z(this.a,(function(t){return t==e})),0==this.a.length&&Wu(this)},(e=Ku.prototype).get=function(e){return this.b.then((function(t){return t.get(e)}))},e.set=function(e,t){return this.b.then((function(n){return n.set(e,t)}))},e.U=function(e){return this.b.then((function(t){return t.U(e)}))},e.ca=function(e){this.a.push(e)},e.ia=function(e){Z(this.a,(function(t){return t==e}))},(e=Gu.prototype).get=function(e){return Pt(this.a[e])},e.set=function(e,t){return this.a[e]=t,Pt()},e.U=function(e){return delete this.a[e],Pt()},e.ca=function(){},e.ia=function(){},(e=Hu.prototype).get=function(e){var t=this;return Pt().then((function(){return Vr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Pt().then((function(){var r=qr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},e.ca=function(e){u.window&&hn(u.window,"storage",e)},e.ia=function(e){u.window&&vn(u.window,"storage",e)},(e=$u.prototype).get=function(){return Pt(null)},e.set=function(){return Pt()},e.U=function(){return Pt()},e.ca=function(){},e.ia=function(){},(e=Xu.prototype).get=function(e){var t=this;return Pt().then((function(){return Vr(t.a.getItem(e))}))},e.set=function(e,t){var n=this;return Pt().then((function(){var r=qr(t);null===r?n.U(e):n.a.setItem(e,r)}))},e.U=function(e){var t=this;return Pt().then((function(){t.a.removeItem(e)}))},e.ca=function(){},e.ia=function(){};var Ju,ec,tc={F:Hu,cb:Xu},nc={F:Hu,cb:Xu},rc={F:Tu,cb:$u},ic={F:Hu,cb:$u},oc={rd:"local",NONE:"none",td:"session"};function ac(){var e=!(Wr(Rr())||!Sr()),t=Ur(),n=Mr();this.m=e,this.h=t,this.l=n,this.a={},Ju||(Ju=new Zu),e=Ju;try{this.g=!dr()&&$r()||!u.indexedDB?new e.a.F:new Ku(Tr()?new Gu:new e.a.F)}catch(r){this.g=new Gu,this.h=!0}try{this.i=new e.a.cb}catch(r){this.i=new Gu}this.v=new Gu,this.f=I(this.Zb,this),this.b={}}function sc(){return ec||(ec=new ac),ec}function uc(e,t){switch(t){case"session":return e.i;case"none":return e.v;default:return e.g}}function cc(e,t){return"firebase:"+e.name+(t?":"+t:"")}function lc(e,t,n){return n=cc(t,n),"local"==t.F&&(e.b[n]=null),uc(e,t.F).U(n)}function fc(e){e.c&&(clearInterval(e.c),e.c=null)}function hc(e){this.a=e,this.b=sc()}(e=ac.prototype).get=function(e,t){return uc(this,e.F).get(cc(e,t))},e.set=function(e,t,n){var r=cc(e,n),i=this,o=uc(this,e.F);return o.set(r,t).then((function(){return o.get(r)})).then((function(t){"local"==e.F&&(i.b[r]=t)}))},e.addListener=function(e,t,n){e=cc(e,t),this.l&&(this.b[e]=u.localStorage.getItem(e)),ge(this.a)&&(uc(this,"local").ca(this.f),this.h||(dr()||!$r())&&u.indexedDB||!this.l||function(e){fc(e),e.c=setInterval((function(){for(var t in e.a){var n=u.localStorage.getItem(t),r=e.b[t];n!=r&&(e.b[t]=n,n=new en({type:"storage",key:t,target:window,oldValue:r,newValue:n,a:!0}),e.Zb(n))}}),1e3)}(this)),this.a[e]||(this.a[e]=[]),this.a[e].push(n)},e.removeListener=function(e,t,n){e=cc(e,t),this.a[e]&&(Z(this.a[e],(function(e){return e==n})),0==this.a[e].length&&delete this.a[e]),ge(this.a)&&(uc(this,"local").ia(this.f),fc(this))},e.Zb=function(e){if(e&&e.g){var t=e.a.key;if(null==t)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==t.indexOf("firebase:")&&this.a[t]){if("undefined"!==typeof e.a.a?uc(this,"local").ia(this.f):fc(this),this.m)if(n=u.localStorage.getItem(t),(r=e.a.newValue)!==n)null!==r?u.localStorage.setItem(t,r):u.localStorage.removeItem(t);else if(this.b[t]===r&&"undefined"===typeof e.a.a)return;var o=this;n=function(){"undefined"===typeof e.a.a&&o.b[t]===u.localStorage.getItem(t)||(o.b[t]=u.localStorage.getItem(t),o.nb(t))},Xe&&ct&&10==ct&&u.localStorage.getItem(t)!==e.a.newValue&&e.a.newValue!==e.a.oldValue?setTimeout(n,10):n()}}else G(e,I(this.nb,this))},e.nb=function(e){this.a[e]&&G(this.a[e],(function(e){e()}))};var dc,pc={name:"authEvent",F:"local"};function vc(){this.a=sc()}function gc(e,t){this.b=mc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=e,this.h=t,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===dc&&(dc=u.Int32Array?new Int32Array(Sc):Sc),this.reset()}E(gc,(function(){this.b=-1}));for(var mc=64,yc=mc-1,_c=[],bc=0;bc<yc;bc++)_c[bc]=0;var wc=J(128,_c);function kc(e){for(var t=e.f,n=e.l,r=0,i=0;i<t.length;)n[r++]=t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3],i=4*r;for(t=16;64>t;t++){i=0|n[t-15],r=0|n[t-2];var o=(0|n[t-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[t-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[t]=o+a|0}r=0|e.a[0],i=0|e.a[1];var s=0|e.a[2],u=0|e.a[3],c=0|e.a[4],l=0|e.a[5],f=0|e.a[6];for(o=0|e.a[7],t=0;64>t;t++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&f)+(0|dc[t])|0)+(0|n[t])|0)|0,o=f,f=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}e.a[0]=e.a[0]+r|0,e.a[1]=e.a[1]+i|0,e.a[2]=e.a[2]+s|0,e.a[3]=e.a[3]+u|0,e.a[4]=e.a[4]+c|0,e.a[5]=e.a[5]+l|0,e.a[6]=e.a[6]+f|0,e.a[7]=e.a[7]+o|0}function Ic(e,t,n){void 0===n&&(n=t.length);var r=0,i=e.c;if("string"===typeof t)for(;r<n;)e.f[i++]=t.charCodeAt(r++),i==e.b&&(kc(e),i=0);else{if(!p(t))throw Error("message must be string or array");for(;r<n;){var o=t[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");e.f[i++]=o,i==e.b&&(kc(e),i=0)}}e.c=i,e.g+=n}gc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):ee(this.h)};var Sc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Tc(){gc.call(this,8,Ec)}E(Tc,gc);var Ec=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Cc(e,t,n,r,i,o){this.v=e,this.i=t,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=t+":"+n,this.C=new vc,this.g=new hc(this.h),this.f=null,this.b=[],this.a=this.c=null}function xc(e){return new x("invalid-cordova-configuration",e)}function Ac(e){var t=new Tc;Ic(t,e),e=[];var n=8*t.g;56>t.c?Ic(t,wc,56-t.c):Ic(t,wc,t.b-(t.c-56));for(var r=63;56<=r;r--)t.f[r]=255&n,n/=256;for(kc(t),r=n=0;r<t.i;r++)for(var i=24;0<=i;i-=8)e[n++]=t.a[r]>>i&255;return function(e){return Y(e,(function(e){return 1<(e=e.toString(16)).length?e:"0"+e})).join("")}(e)}function Pc(e,t){for(var n=0;n<e.b.length;n++)try{e.b[n](t)}catch(r){}}function Oc(e){return e.f||(e.f=e.ma().then((function(){return new It((function(t){e.Ea((function n(r){return t(r),e.Ta(n),!1})),function(e){function t(t){r=!0,i&&i.cancel(),Nc(e).then((function(r){var i=n;if(r&&t&&t.url){var o=null;-1!=(i=co(t.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Vr(Vn(o=zn(i),"firebaseError")||null))?A(o):null)?new Ko(r.c,r.b,null,null,o,null,r.T()):new Ko(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Pc(e,i)}))}var n=new Ko("unknown",null,null,null,new x("no-auth-event")),r=!1,i=An(500).then((function(){return Nc(e).then((function(){r||Pc(e,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(e){if(0==e.toLowerCase().indexOf(Dr("BuildInfo.packageName",u).toLowerCase()+"://")&&t({url:e}),"function"===typeof o)try{o(e)}catch(n){console.error(n)}},$o||($o=new Ho),function(e){var t=$o;t.a.push(e),t.b||(t.b=function(e){for(var n=0;n<t.a.length;n++)t.a[n](e)},"function"===typeof(e=Dr("universalLinks.subscribe",u))&&e(null,t.b))}(t)}(e)}))}))),e.f}function Nc(e){var t=null;return function(e){return e.b.get(pc,e.a).then((function(e){return Go(e)}))}(e.g).then((function(n){return t=n,lc((n=e.g).b,pc,n.a)})).then((function(){return t}))}function Rc(e){this.a=e,this.b=sc()}(e=Cc.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(Ir(void 0)?kr().then((function(){return new It((function(e,t){var n=u.document,r=setTimeout((function(){t(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),e()}),!1)}))})):Ot(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Dr("universalLinks.subscribe",u))throw xc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Dr("BuildInfo.packageName",u))throw xc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Dr("cordova.plugins.browsertab.openUrl",u))throw xc("cordova-plugin-browsertab is not installed");if("function"!==typeof Dr("cordova.InAppBrowser.open",u))throw xc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new x("cordova-not-ready")}))},e.Pb=function(e,t){return t(new x("operation-not-supported-in-this-environment")),Pt()},e.Nb=function(){return Ot(new x("operation-not-supported-in-this-environment"))},e.ac=function(){return!1},e.Yb=function(){return!0},e.Ub=function(){return!0},e.Ob=function(e,t,n,r){if(this.c)return Ot(new x("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=Pt().then((function(){return Wo(t),Oc(i)})).then((function(){return function(e,t,n,r,i){var o=function(){for(var e=20,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}(),a=new Ko(t,r,null,o,new x("no-auth-event"),null,i),s=Dr("BuildInfo.packageName",u);if("string"!==typeof s)throw new x("invalid-cordova-configuration");var c=Dr("BuildInfo.displayName",u),l={};if(Rr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Rr().toLowerCase().match(/android/))return Ot(new x("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=Ac(o),l.sessionId=o;var f=Su(e.v,e.i,e.l,t,n,null,r,e.m,l,e.u,i,e.s);return e.ma().then((function(){var t=e.h;return e.C.a.set(pc,a.w(),t)})).then((function(){var t=Dr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof t)throw new x("invalid-cordova-configuration");var n=null;t((function(t){if(t){if("function"!==typeof(n=Dr("cordova.plugins.browsertab.openUrl",u)))throw new x("invalid-cordova-configuration");n(f)}else{if("function"!==typeof(n=Dr("cordova.InAppBrowser.open",u)))throw new x("invalid-cordova-configuration");t=Rr(),e.a=n(f,t.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||t.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,e,t,n,r)})).then((function(){return new It((function(e,t){s=function(){var t=Dr("cordova.plugins.browsertab.close",u);return e(),"function"===typeof t&&t(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=An(2e3).then((function(){t(new x("redirect-cancelled-by-user"))})))},l=function(){Hr()&&c()},o.addEventListener("resume",c,!1),Rr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(e){return Nc(i).then((function(){throw e}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Ta(s),i.c=null}))},e.Ea=function(e){this.b.push(e),Oc(this).o((function(t){"auth/invalid-cordova-configuration"===t.code&&(t=new Ko("unknown",null,null,null,new x("no-auth-event")),e(t))}))},e.Ta=function(e){Z(this.b,(function(t){return t==e}))};var Dc={name:"pendingRedirect",F:"session"};function Mc(e){return lc(e.b,Dc,e.a)}function Lc(e,t,n,r){this.i={},this.u=0,this.D=e,this.v=t,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=I(this.s,this),this.b=new Qc,this.C=new nl,this.g=new Rc($c(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=jc(this.D,this.v,this.m,P,this.J)}function jc(e,t,n,i,o){var a=r.default.SDK_VERSION||null;return Ir()?new Cc(e,t,n,a,i,o):new bu(e,t,n,a,i,o)}function Fc(e){e.f||(e.f=!0,e.a.Ea(e.l));var t=e.a;return e.a.ma().o((function(n){throw e.a==t&&e.reset(),n}))}function Uc(e){e.a.Yb()&&Fc(e).o((function(t){var n=new Ko("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));Kc(t)&&e.s(n)})),e.a.Ub()||Zc(e.b)}function qc(e,t){X(e.h,t)||e.h.push(t),e.f||function(e){return e.b.get(Dc,e.a).then((function(e){return"pending"==e}))}(e.g).then((function(t){t?Mc(e.g).then((function(){Fc(e).o((function(t){var n=new Ko("unknown",null,null,null,new x("operation-not-supported-in-this-environment"));Kc(t)&&e.s(n)}))})):Uc(e)})).o((function(){Uc(e)}))}function Bc(e,t){Z(e.h,(function(e){return e==t}))}Lc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=jc(this.D,this.v,this.m,null,this.J),this.i={}},Lc.prototype.s=function(e){if(!e)throw new x("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),e&&e.getUid()&&this.i.hasOwnProperty(e.getUid()))return!1;for(var t=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(e.c,e.b)){(t=this.c[e.c])&&(t.h(e,r),e&&(e.f||e.b)&&(this.i[e.getUid()]=!0,this.u=Date.now())),t=!0;break}}return Zc(this.b),t};var Vc=new Gr(2e3,1e4),zc=new Gr(3e4,6e4);function Wc(e,t,n,r,i,o,a){return e.a.Nb(t,n,r,(function(){e.f||(e.f=!0,e.a.Ea(e.l))}),(function(){e.reset()}),i,o,a)}function Kc(e){return!(!e||"auth/cordova-not-ready"!=e.code)}function Gc(e,t,n,r,i){var o;return function(e){return e.b.set(Dc,"pending",e.a)}(e.g).then((function(){return e.a.Ob(t,n,r,i).o((function(t){if(Kc(t))throw new x("operation-not-supported-in-this-environment");return o=t,Mc(e.g).then((function(){throw o}))})).then((function(){return e.a.ac()?new It((function(){})):Mc(e.g).then((function(){return e.ra()})).then((function(){})).o((function(){}))}))}))}function Hc(e,t,n,r,i){return e.a.Pb(r,(function(e){t.na(n,null,e,i)}),Vc.get())}Lc.prototype.ra=function(){return this.b.ra()};var Yc={};function $c(e,t,n){return e=e+":"+t,n&&(e=e+":"+n.url),e}function Xc(e,t,n,r){var i=$c(t,n,r);return Yc[i]||(Yc[i]=new Lc(e,t,n,r)),Yc[i]}function Qc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Zc(e){e.g||(e.g=!0,tl(e,!1,null,null))}function Jc(e){e.g&&!e.i&&tl(e,!1,null,null)}function el(e,t){if(e.b=function(){return Pt(t)},e.f.length)for(var n=0;n<e.f.length;n++)e.f[n](t)}function tl(e,t,n,r){t?r?function(e,t){if(e.b=function(){return Ot(t)},e.c.length)for(var n=0;n<e.c.length;n++)e.c[n](t)}(e,r):el(e,n):el(e,{user:null}),e.f=[],e.c=[]}function nl(){}function rl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(e){this.jb=e},enumerable:!1})}function il(e,t){this.a=t,ei(this,"verificationId",e)}function ol(e,t,n,r){return new Bo(e).gb(t,n).then((function(e){return new il(e,r)}))}function al(e){var t=$i(e);if(!(t&&t.exp&&t.auth_time&&t.iat))throw new x("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");ti(this,{token:e,expirationTime:Yr(1e3*t.exp),authTime:Yr(1e3*t.auth_time),issuedAtTime:Yr(1e3*t.iat),signInProvider:t.firebase&&t.firebase.sign_in_provider?t.firebase.sign_in_provider:null,signInSecondFactor:t.firebase&&t.firebase.sign_in_second_factor?t.firebase.sign_in_second_factor:null,claims:t})}function sl(e,t,n){var r=t&&t[cl];if(!r)throw new x("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=e,this.f=me(t),this.g=n,this.c=new lo(null,r),this.b=[];var i=this;G(t[ul]||[],(function(e){(e=oi(e))&&i.b.push(e)})),ei(this,"auth",this.a),ei(this,"session",this.c),ei(this,"hints",this.b)}Qc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Qc.prototype.h=function(e,t){if(e){this.reset(),this.g=!0;var n=e.c,r=e.b,i=e.a&&"auth/web-storage-unsupported"==e.a.code,o=e.a&&"auth/operation-not-supported-in-this-environment"==e.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?e.a?(tl(this,!0,null,e.a),Pt()):t.Fa(n,r)?function(e,t,n){n=n.Fa(t.c,t.b);var r=t.g,i=t.f,o=t.i,a=t.T(),s=!!t.c.match(/Redirect$/);n(r,i,a,o).then((function(t){tl(e,s,t,null)})).o((function(t){tl(e,s,null,t)}))}(this,e,t):Ot(new x("invalid-auth-event")):(tl(this,!1,null,null),Pt())}else Ot(new x("invalid-auth-event"))},Qc.prototype.ra=function(){var e=this;return new It((function(t,n){e.b?e.b().then(t,n):(e.f.push(t),e.c.push(n),function(e){var t=new x("timeout");e.a&&e.a.cancel(),e.a=An(zc.get()).then((function(){e.b||(e.g=!0,tl(e,!0,null,t))}))}(e))}))},nl.prototype.h=function(e,t){if(e){var n=e.c,r=e.b;e.a?(t.na(e.c,null,e.a,e.b),Pt()):t.Fa(n,r)?function(e,t){var n=e.b,r=e.c;t.Fa(r,n)(e.g,e.f,e.T(),e.i).then((function(e){t.na(r,e,null,n)})).o((function(e){t.na(r,null,e,n)}))}(e,t):Ot(new x("invalid-auth-event"))}else Ot(new x("invalid-auth-event"))},il.prototype.confirm=function(e){return e=Vo(this.verificationId,e),this.a(e)};var ul="mfaInfo",cl="mfaPendingCredential";function ll(e,t,n,r){x.call(this,"multi-factor-auth-required",r,t),this.b=new sl(e,t,n),ei(this,"resolver",this.b)}function fl(e,t,n){if(e&&m(e.serverResponse)&&"auth/multi-factor-auth-required"===e.code)try{return new ll(t,e.serverResponse,n,e.message)}catch(r){}return null}function hl(){}function dl(e){ei(this,"factorId",e.fa),this.a=e}function pl(e){if(dl.call(this,e),this.a.fa!=Bo.PROVIDER_ID)throw new x("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function vl(e,t){for(var n in Jt.call(this,e),t)this[n]=t[n]}function gl(e,t){this.a=e,this.b=[],this.c=I(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];t&&t.multiFactor&&t.multiFactor.enrolledFactors&&G(t.multiFactor.enrolledFactors,(function(e){var t=null,r={};if(e){e.uid&&(r[ui]=e.uid),e.displayName&&(r[ai]=e.displayName),e.enrollmentTime&&(r[si]=new Date(e.enrollmentTime).toISOString()),e.phoneNumber&&(r[ci]=e.phoneNumber);try{t=new li(r)}catch(i){}e=t}else e=null;e&&n.push(e)})),ml(this,n)}function ml(e,t){e.b=t,ei(e,"enrolledFactors",t)}function yl(e,t,n){if(this.h=e,this.i=t,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function _l(e,t){e.stop(),e.b=An(function(e,t){return t?(e.a=e.c,e.g()):(t=e.a,e.a*=2,e.a>e.f&&(e.a=e.f),t)}(e,t)).then((function(){return function(){var e=u.document,t=null;return Hr()||!e?Pt():new It((function(n){t=function(){Hr()&&(e.removeEventListener("visibilitychange",t,!1),n())},e.addEventListener("visibilitychange",t,!1)})).o((function(n){throw e.removeEventListener("visibilitychange",t,!1),n}))}()})).then((function(){return e.h()})).then((function(){_l(e,!0)})).o((function(t){e.i(t)&&_l(e,!1)}))}function bl(e){this.f=e,this.b=this.a=null,this.c=Date.now()}function wl(e,t){"undefined"===typeof t&&(e.b?t=(t=e.b).a-t.g:t=0),e.c=Date.now()+1e3*t}function kl(e,t){e.b=Yi(t[is]||""),e.a=t.refreshToken,wl(e,"undefined"!==typeof(t=t.expiresIn)?Number(t):void 0)}function Il(e,t){return function(e,t){return new It((function(n,r){"refresh_token"==t.grant_type&&t.refresh_token||"authorization_code"==t.grant_type&&t.code?ds(e,e.l+"?key="+encodeURIComponent(e.c),(function(e){e?e.error?r(fu(e)):e.access_token&&e.refresh_token?n(e):r(new x("internal-error")):r(new x("network-request-failed"))}),"POST",tr(t).toString(),e.g,e.m.get()):r(new x("internal-error"))}))}(e.f,t).then((function(t){return e.b=Yi(t.access_token),e.a=t.refresh_token,wl(e,t.expires_in),{accessToken:e.b.toString(),refreshToken:e.a}})).o((function(t){throw"auth/user-token-expired"==t.code&&(e.a=null),t}))}function Sl(e,t){this.a=e||null,this.b=t||null,ti(this,{lastSignInTime:Yr(t||null),creationTime:Yr(e||null)})}function Tl(e,t,n,r,i,o){ti(this,{uid:e,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:t})}function El(e,t,n){this.N=[],this.l=e.apiKey,this.m=e.appName,this.s=e.authDomain||null;var i=r.default.SDK_VERSION?Nr(r.default.SDK_VERSION):null;this.a=new ns(this.l,D(P),i),(this.u=e.emulatorConfig||null)&&ls(this.a,this.u),this.h=new bl(this.a),Ml(this,t[is]),kl(this.h,t),ei(this,"refreshToken",this.h.a),Fl(this,n||{}),Sn.call(this),this.P=!1,this.s&&Lr()&&(this.b=Xc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(e){return new yl((function(){return e.I(!0)}),(function(e){return!(!e||"auth/network-request-failed"!=e.code)}),(function(){var t=e.h.c-Date.now()-3e5;return 0<t?t:0}))}(this),this.ba=I(this.ib,this);var o=this;this.za=null,this.Pa=function(e){o.xa(e.h)},this.qa=null,this.Ba=function(e){Cl(o,e.c)},this.$=null,this.aa=[],this.Oa=function(e){Pl(o,e.f)},this.ja=null,this.S=new gl(this,n),ei(this,"multiFactor",this.S)}function Cl(e,t){e.u=t,ls(e.a,t),e.b&&(t=e.b,e.b=Xc(e.s,e.l,e.m,e.u),e.P&&(Bc(t,e),qc(e.b,e)))}function xl(e,t){e.qa&&vn(e.qa,"languageCodeChanged",e.Pa),(e.qa=t)&&hn(t,"languageCodeChanged",e.Pa)}function Al(e,t){e.$&&vn(e.$,"emulatorConfigChanged",e.Ba),(e.$=t)&&hn(t,"emulatorConfigChanged",e.Ba)}function Pl(e,t){e.aa=t,hs(e.a,r.default.SDK_VERSION?Nr(r.default.SDK_VERSION,e.aa):null)}function Ol(e,t){e.ja&&vn(e.ja,"frameworkChanged",e.Oa),(e.ja=t)&&hn(t,"frameworkChanged",e.Oa)}function Nl(e){try{return r.default.app(e.m).auth()}catch(t){throw new x("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+e.m+"'!")}}function Rl(e){e.J||e.D.b||(e.D.start(),vn(e,"tokenChanged",e.ba),hn(e,"tokenChanged",e.ba))}function Dl(e){vn(e,"tokenChanged",e.ba),e.D.stop()}function Ml(e,t){e.Aa=t,ei(e,"_lat",t)}function Ll(e){for(var t=[],n=0;n<e.W.length;n++)t.push(e.W[n](e));return Rt(t).then((function(){return e}))}function jl(e){e.b&&!e.P&&(e.P=!0,qc(e.b,e))}function Fl(e,t){ti(e,{uid:t.uid,displayName:t.displayName||null,photoURL:t.photoURL||null,email:t.email||null,emailVerified:t.emailVerified||!1,phoneNumber:t.phoneNumber||null,isAnonymous:t.isAnonymous||!1,tenantId:t.tenantId||null,metadata:new Sl(t.createdAt,t.lastLoginAt),providerData:[]}),e.a.b=e.tenantId}function Ul(){}function ql(e){return Pt().then((function(){if(e.J)throw new x("app-deleted")}))}function Bl(e){return Y(e.providerData,(function(e){return e.providerId}))}function Vl(e,t){t&&(zl(e,t.providerId),e.providerData.push(t))}function zl(e,t){Z(e.providerData,(function(e){return e.providerId==t}))}function Wl(e,t,n){("uid"!=t||n)&&e.hasOwnProperty(t)&&ei(e,t,n)}function Kl(e,t){e!=t&&(ti(e,{uid:t.uid,displayName:t.displayName,photoURL:t.photoURL,email:t.email,emailVerified:t.emailVerified,phoneNumber:t.phoneNumber,isAnonymous:t.isAnonymous,tenantId:t.tenantId,providerData:[]}),t.metadata?ei(e,"metadata",function(e){return new Sl(e.a,e.b)}(t.metadata)):ei(e,"metadata",new Sl),G(t.providerData,(function(t){Vl(e,t)})),function(e,t){e.b=t.b,e.a=t.a,e.c=t.c}(e.h,t.h),ei(e,"refreshToken",e.h.a),ml(e.S,t.S.b))}function Gl(e){return e.I().then((function(t){var n=e.isAnonymous;return function(e,t){return cu(e.a,qs,{idToken:t}).then(I(e.Kc,e))}(e,t).then((function(){return n||Wl(e,"isAnonymous",!1),t}))}))}function Hl(e,t){t[is]&&e.Aa!=t[is]&&(kl(e.h,t),e.dispatchEvent(new vl("tokenChanged")),Ml(e,t[is]),Wl(e,"refreshToken",e.h.a))}function Yl(e,t){return Gl(e).then((function(){if(X(Bl(e),t))return Ll(e).then((function(){throw new x("provider-already-linked")}))}))}function $l(e,t,n){return ni({user:e,credential:zo(t),additionalUserInfo:t=eo(t),operationType:n})}function Xl(e,t){return Hl(e,t),e.reload().then((function(){return e}))}function Ql(e,t,n,i,o){if(!Lr())return Ot(new x("operation-not-supported-in-this-environment"));if(e.i&&!o)return Ot(e.i);var a=Ji(n.providerId),s=zr(e.uid+":::"),u=null;(!Ur()||Sr())&&e.s&&n.isOAuthProvider&&(u=Su(e.s,e.l,e.m,t,n,null,s,r.default.SDK_VERSION||null,null,null,e.tenantId,e.u));var c=_r(u,a&&a.va,a&&a.ua);return i=i().then((function(){if(Jl(e),!o)return e.I().then((function(){}))})).then((function(){return Wc(e.b,c,t,n,s,!!u,e.tenantId)})).then((function(){return new It((function(n,r){e.na(t,null,new x("cancelled-popup-request"),e.g||null),e.f=n,e.C=r,e.g=s,e.c=Hc(e.b,e,t,c,s)}))})).then((function(e){return c&&yr(c),e?ni(e):null})).o((function(e){throw c&&yr(c),e})),ef(e,i,o)}function Zl(e,t,n,r,i){if(!Lr())return Ot(new x("operation-not-supported-in-this-environment"));if(e.i&&!i)return Ot(e.i);var o=null,a=zr(e.uid+":::");return r=r().then((function(){if(Jl(e),!i)return e.I().then((function(){}))})).then((function(){return e.ga=a,Ll(e)})).then((function(t){return e.ha&&(t=(t=e.ha).b.set(rf,e.w(),t.a)),t})).then((function(){return Gc(e.b,t,n,a,e.tenantId)})).o((function(t){if(o=t,e.ha)return of(e.ha);throw o})).then((function(){if(o)throw o})),ef(e,r,i)}function Jl(e){if(!e.b||!e.P){if(e.b&&!e.P)throw new x("internal-error");throw new x("auth-domain-config-required")}}function ef(e,t,n){var r=function(e,t,n){return e.i&&!n?(t.cancel(),Ot(e.i)):t.o((function(t){throw!t||"auth/user-disabled"!=t.code&&"auth/user-token-expired"!=t.code||(e.i||e.dispatchEvent(new vl("userInvalidated")),e.i=t),t}))}(e,t,n);return e.N.push(r),r.oa((function(){Q(e.N,r)})),r.o((function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=fl(t.w(),Nl(e),I(e.jc,e))),n||t}))}function tf(e){if(!e.apiKey)return null;var t={apiKey:e.apiKey,authDomain:e.authDomain,appName:e.appName,emulatorConfig:e.emulatorConfig},n={};if(!e.stsTokenManager||!e.stsTokenManager.accessToken)return null;n[is]=e.stsTokenManager.accessToken,n.refreshToken=e.stsTokenManager.refreshToken||null;var r=e.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new El(t,n,e);return e.providerData&&G(e.providerData,(function(e){e&&Vl(i,ni(e))})),e.redirectEventId&&(i.ga=e.redirectEventId),i}function nf(e){this.a=e,this.b=sc()}sl.prototype.Rc=function(e){var t=this;return e.tb(this.a.a,this.c).then((function(e){var n=me(t.f);return delete n[ul],delete n[cl],_e(n,e),t.g(n)}))},E(ll,x),hl.prototype.tb=function(e,t,n){return t.type==fo?function(e,t,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),_e(n,{phoneVerificationInfo:qo(e.a)}),cu(t,Fs,n)}))}(this,e,t,n):function(e,t,n){return n.Ha().then((function(n){return _e(n={mfaPendingCredential:n},{phoneVerificationInfo:qo(e.a)}),cu(t,Us,n)}))}(this,e,t)},E(dl,hl),E(pl,dl),E(vl,Jt),(e=gl.prototype).yc=function(e){ml(this,function(e){var t=[];return G(e.mfaInfo||[],(function(e){(e=oi(e))&&t.push(e)})),t}(e.hd))},e.Sb=function(){return this.a.I().then((function(e){return new lo(e,null)}))},e.fc=function(e,t){var n=this,r=this.a.a;return this.Sb().then((function(n){return e.tb(r,n,t)})).then((function(e){return Hl(n.a,e),n.a.reload()}))},e.bd=function(e){var t=this,n="string"===typeof e?e:e.uid,r=this.a.a;return this.a.I().then((function(e){return cu(r,uu,{idToken:e,mfaEnrollmentId:n})})).then((function(e){var r=H(t.b,(function(e){return e.uid!=n}));return ml(t,r),Hl(t.a,e),t.a.reload().o((function(e){if("auth/user-token-expired"!=e.code)throw e}))}))},e.w=function(){return{multiFactor:{enrolledFactors:Y(this.b,(function(e){return e.w()}))}}},yl.prototype.start=function(){this.a=this.c,_l(this,!0)},yl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},bl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},bl.prototype.getToken=function(e){return e=!!e,this.b&&!this.a?Ot(new x("user-token-expired")):e||!this.b||Date.now()>this.c-3e4?this.a?Il(this,{grant_type:"refresh_token",refresh_token:this.a}):Pt(null):Pt({accessToken:this.b.toString(),refreshToken:this.a})},Sl.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},E(El,Sn),El.prototype.xa=function(e){this.za=e,cs(this.a,e)},El.prototype.la=function(){return this.za},El.prototype.Ga=function(){return ee(this.aa)},El.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},ei(El.prototype,"providerId","firebase"),(e=El.prototype).reload=function(){var e=this;return ef(this,ql(this).then((function(){return Gl(e).then((function(){return Ll(e)})).then(Ul)})))},e.oc=function(e){return this.I(e).then((function(e){return new al(e)}))},e.I=function(e){var t=this;return ef(this,ql(this).then((function(){return t.h.getToken(e)})).then((function(e){if(!e)throw new x("internal-error");return e.accessToken!=t.Aa&&(Ml(t,e.accessToken),t.dispatchEvent(new vl("tokenChanged"))),Wl(t,"refreshToken",e.refreshToken),e.accessToken})))},e.Kc=function(e){if(!(e=e.users)||!e.length)throw new x("internal-error");Fl(this,{uid:(e=e[0]).localId,displayName:e.displayName,photoURL:e.photoUrl,email:e.email,emailVerified:!!e.emailVerified,phoneNumber:e.phoneNumber,lastLoginAt:e.lastLoginAt,createdAt:e.createdAt,tenantId:e.tenantId});for(var t=function(e){return(e=e.providerUserInfo)&&e.length?Y(e,(function(e){return new Tl(e.rawId,e.providerId,e.email,e.displayName,e.photoUrl,e.phoneNumber)})):[]}(e),n=0;n<t.length;n++)Vl(this,t[n]);Wl(this,"isAnonymous",!(this.email&&e.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new vl("userReloaded",{hd:e}))},e.Lc=function(e){return Zr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(e)},e.ub=function(e){var t=this,n=null;return ef(this,e.c(this.a,this.uid).then((function(e){return Hl(t,e),n=$l(t,e,"reauthenticate"),t.i=null,t.reload()})).then((function(){return n})),!0)},e.Cc=function(e){return Zr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(e)},e.rb=function(e){var t=this,n=null;return ef(this,Yl(this,e.providerId).then((function(){return t.I()})).then((function(n){return e.b(t.a,n)})).then((function(e){return n=$l(t,e,"link"),Xl(t,e)})).then((function(){return n})))},e.Dc=function(e,t){var n=this;return ef(this,Yl(this,"phone").then((function(){return ol(Nl(n),e,t,I(n.rb,n))})))},e.Mc=function(e,t){var n=this;return ef(this,Pt().then((function(){return ol(Nl(n),e,t,I(n.ub,n))})),!0)},e.Cb=function(e){var t=this;return ef(this,this.I().then((function(n){return t.a.Cb(n,e)})).then((function(e){return Hl(t,e),t.reload()})))},e.ed=function(e){var t=this;return ef(this,this.I().then((function(n){return e.b(t.a,n)})).then((function(e){return Hl(t,e),t.reload()})))},e.Db=function(e){var t=this;return ef(this,this.I().then((function(n){return t.a.Db(n,e)})).then((function(e){return Hl(t,e),t.reload()})))},e.Eb=function(e){if(void 0===e.displayName&&void 0===e.photoURL)return ql(this);var t=this;return ef(this,this.I().then((function(n){return t.a.Eb(n,{displayName:e.displayName,photoUrl:e.photoURL})})).then((function(e){return Hl(t,e),Wl(t,"displayName",e.displayName||null),Wl(t,"photoURL",e.photoUrl||null),G(t.providerData,(function(e){"password"===e.providerId&&(ei(e,"displayName",t.displayName),ei(e,"photoURL",t.photoURL))})),Ll(t)})).then(Ul))},e.cd=function(e){var t=this;return ef(this,Gl(this).then((function(n){return X(Bl(t),e)?function(e,t,n){return cu(e,Ms,{idToken:t,deleteProvider:n})}(t.a,n,[e]).then((function(e){var n={};return G(e.providerUserInfo||[],(function(e){n[e.providerId]=!0})),G(Bl(t),(function(e){n[e]||zl(t,e)})),n[Bo.PROVIDER_ID]||ei(t,"phoneNumber",null),Ll(t)})):Ll(t).then((function(){throw new x("no-such-provider")}))})))},e.delete=function(){var e=this;return ef(this,this.I().then((function(t){return cu(e.a,Ds,{idToken:t})})).then((function(){e.dispatchEvent(new vl("userDeleted"))}))).then((function(){for(var t=0;t<e.N.length;t++)e.N[t].cancel("app-deleted");xl(e,null),Al(e,null),Ol(e,null),e.N=[],e.J=!0,Dl(e),ei(e,"refreshToken",null),e.b&&Bc(e.b,e)}))},e.Gb=function(e,t){return!!("linkViaPopup"==e&&(this.g||null)==t&&this.f||"reauthViaPopup"==e&&(this.g||null)==t&&this.f||"linkViaRedirect"==e&&(this.ga||null)==t||"reauthViaRedirect"==e&&(this.ga||null)==t)},e.na=function(e,t,n,r){"linkViaPopup"!=e&&"reauthViaPopup"!=e||r!=(this.g||null)||(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"linkViaPopup"==e&&t==(this.g||null)?I(this.Lb,this):"reauthViaPopup"==e&&t==(this.g||null)?I(this.Mb,this):"linkViaRedirect"==e&&(this.ga||null)==t?I(this.Lb,this):"reauthViaRedirect"==e&&(this.ga||null)==t?I(this.Mb,this):null},e.Ec=function(e){var t=this;return Ql(this,"linkViaPopup",e,(function(){return Yl(t,e.providerId).then((function(){return Ll(t)}))}),!1)},e.Nc=function(e){return Ql(this,"reauthViaPopup",e,(function(){return Pt()}),!0)},e.Fc=function(e){var t=this;return Zl(this,"linkViaRedirect",e,(function(){return Yl(t,e.providerId)}),!1)},e.Oc=function(e){return Zl(this,"reauthViaRedirect",e,(function(){return Pt()}),!0)},e.Lb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ef(this,this.I().then((function(n){return Cs(i.a,{requestUri:e,postBody:r,sessionId:t,idToken:n})})).then((function(e){return o=$l(i,e,"link"),Xl(i,e)})).then((function(){return o})))},e.Mb=function(e,t,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return ef(this,Pt().then((function(){return vo(xs(i.a,{requestUri:e,sessionId:t,postBody:r,tenantId:n}),i.uid)})).then((function(e){return o=$l(i,e,"reauthenticate"),Hl(i,e),i.i=null,i.reload()})).then((function(){return o})),!0)},e.vb=function(e){var t=this,n=null;return ef(this,this.I().then((function(t){return n=t,"undefined"===typeof e||ge(e)?{}:Wi(new Di(e))})).then((function(e){return t.a.vb(n,e)})).then((function(e){if(t.email!=e)return t.reload()})).then((function(){})))},e.Fb=function(e,t){var n=this,r=null;return ef(this,this.I().then((function(e){return r=e,"undefined"===typeof t||ge(t)?{}:Wi(new Di(t))})).then((function(t){return n.a.Fb(r,e,t)})).then((function(e){if(n.email!=e)return n.reload()})).then((function(){})))},e.jc=function(e){var t=null,n=this;return ef(this,e=vo(Pt(e),n.uid).then((function(e){return t=$l(n,e,"reauthenticate"),Hl(n,e),n.i=null,n.reload()})).then((function(){return t})),!0)},e.toJSON=function(){return this.w()},e.w=function(){var e={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&_e(e,this.metadata.w()),G(this.providerData,(function(t){e.providerData.push(function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}(t))})),_e(e,this.S.w()),e};var rf={name:"redirectUser",F:"session"};function of(e){return lc(e.b,rf,e.a)}function af(e){this.a=e,this.b=sc(),this.c=null,this.f=function(e){var t=cf("local"),n=cf("session"),r=cf("none");return function(e,t,n){var r=cc(t,n),i=uc(e,t.F);return e.get(t,n).then((function(o){var a=null;try{a=Vr(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),e.set(t,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(e.b,t,e.a).then((function(){return e.b.get(n,e.a)})).then((function(i){return i?n:e.b.get(r,e.a).then((function(n){return n?r:e.b.get(t,e.a).then((function(n){return n?t:e.b.get(uf,e.a).then((function(e){return e?cf(e):t}))}))}))})).then((function(t){return e.c=t,sf(e,t.F)})).o((function(){e.c||(e.c=t)}))}(this),this.b.addListener(cf("local"),this.a,I(this.g,this))}function sf(e,t){var n,r=[];for(n in oc)oc[n]!==t&&r.push(lc(e.b,cf(oc[n]),e.a));return r.push(lc(e.b,uf,e.a)),function(e){return new It((function(t,n){var r=e.length,i=[];if(r)for(var o=function(e,n){r--,i[e]=n,0==r&&t(i)},a=function(e){n(e)},s=0;s<e.length;s++)Nt(e[s],S(o,s),a);else t(i)}))}(r)}af.prototype.g=function(){var e=this,t=cf("local");df(this,(function(){return Pt().then((function(){return e.c&&"local"!=e.c.F?e.b.get(t,e.a):null})).then((function(n){if(n)return sf(e,"local").then((function(){e.c=t}))}))}))};var uf={name:"persistence",F:"session"};function cf(e){return{name:"authUser",F:e}}function lf(e,t){return df(e,(function(){return e.b.set(e.c,t.w(),e.a)}))}function ff(e){return df(e,(function(){return lc(e.b,e.c,e.a)}))}function hf(e,t,n){return df(e,(function(){return e.b.get(e.c,e.a).then((function(e){return e&&t&&(e.authDomain=t),e&&n&&(e.emulatorConfig=n),tf(e||{})}))}))}function df(e,t){return e.f=e.f.then(t,t),e.f}function pf(e){if(this.l=!1,ei(this,"settings",new rl),ei(this,"app",e),!If(this).options||!If(this).options.apiKey)throw new x("invalid-api-key");e=r.default.SDK_VERSION?Nr(r.default.SDK_VERSION):null,this.a=new ns(If(this).options&&If(this).options.apiKey,D(P),e),this.P=[],this.s=[],this.N=[],this.Pa=r.default.INTERNAL.createSubscribe(I(this.zc,this)),this.W=void 0,this.ib=r.default.INTERNAL.createSubscribe(I(this.Ac,this)),wf(this,null),this.i=new af(If(this).options.apiKey+":"+If(this).name),this.D=new nf(If(this).options.apiKey+":"+If(this).name),this.$=Cf(this,function(e){var t=If(e).options.authDomain,n=function(e){var t=function(e,t){return e.b.get(rf,e.a).then((function(e){return e&&t&&(e.authDomain=t),tf(e||{})}))}(e.D,If(e).options.authDomain).then((function(t){return(e.m=t)&&(t.ha=e.D),of(e.D)}));return Cf(e,t)}(e).then((function(){return hf(e.i,t,e.R)})).then((function(t){return t?(t.ha=e.D,e.m&&(e.m.ga||null)==(t.ga||null)?t:t.reload().then((function(){return lf(e.i,t).then((function(){return t}))})).o((function(n){return"auth/network-request-failed"==n.code?t:ff(e.i)}))):null})).then((function(t){wf(e,t||null)}));return Cf(e,n)}(this)),this.h=Cf(this,function(e){return e.$.then((function(){return _f(e)})).o((function(){})).then((function(){if(!e.l)return e.ja()})).o((function(){})).then((function(){if(!e.l){e.ba=!0;var t=e.i;t.b.addListener(cf("local"),t.a,e.ja)}}))}(this)),this.ba=!1,this.ja=I(this.Zc,this),this.Ba=I(this.da,this),this.qa=I(this.mc,this),this.za=I(this.wc,this),this.Aa=I(this.xc,this),this.b=null,function(e){var t=If(e).options.authDomain,n=If(e).options.apiKey;t&&Lr()&&(e.Oa=e.$.then((function(){if(!e.l){if(e.b=Xc(t,n,If(e).name,e.R),qc(e.b,e),Sf(e)&&jl(Sf(e)),e.m){jl(e.m);var r=e.m;r.xa(e.la()),xl(r,e),Pl(r=e.m,e.J),Ol(r,e),Cl(r=e.m,e.R),Al(r,e),e.m=null}return e.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=I(this.delete,this),this.INTERNAL.logFramework=I(this.Gc,this),this.u=0,Sn.call(this),function(e){Object.defineProperty(e,"lc",{get:function(){return this.la()},set:function(e){this.xa(e)},enumerable:!1}),e.aa=null,Object.defineProperty(e,"ti",{get:function(){return this.T()},set:function(e){this.zb(e)},enumerable:!1}),e.S=null,Object.defineProperty(e,"emulatorConfig",{get:function(){if(this.R){var e=zn(this.R.url);e=ni({protocol:e.c,host:e.a,port:e.g,options:ni({disableWarnings:this.R.ec})})}else e=null;return e},enumerable:!1})}(this),this.J=[],this.R=null}function vf(e){Jt.call(this,"languageCodeChanged"),this.h=e}function gf(e){Jt.call(this,"emulatorConfigChanged"),this.c=e}function mf(e){Jt.call(this,"frameworkChanged"),this.f=e}function yf(e){return e.Oa||Ot(new x("auth-domain-config-required"))}function _f(e){if(!Lr())return Ot(new x("operation-not-supported-in-this-environment"));var t=yf(e).then((function(){return e.b.ra()})).then((function(e){return e?ni(e):null}));return Cf(e,t)}function bf(e,t){var n={};return n.apiKey=If(e).options.apiKey,n.authDomain=If(e).options.authDomain,n.appName=If(e).name,e.R&&(n.emulatorConfig=e.R),e.$.then((function(){return function(e,t,n,r){var i=new El(e,t);return n&&(i.ha=n),r&&Pl(i,r),i.reload().then((function(){return i}))}(n,t,e.D,e.Ga())})).then((function(t){return Sf(e)&&t.uid==Sf(e).uid?(Kl(Sf(e),t),e.da(t)):(wf(e,t),jl(t),e.da(t))})).then((function(){Ef(e)}))}function wf(e,t){Sf(e)&&(function(e,t){Z(e.W,(function(e){return e==t}))}(Sf(e),e.Ba),vn(Sf(e),"tokenChanged",e.qa),vn(Sf(e),"userDeleted",e.za),vn(Sf(e),"userInvalidated",e.Aa),Dl(Sf(e))),t&&(t.W.push(e.Ba),hn(t,"tokenChanged",e.qa),hn(t,"userDeleted",e.za),hn(t,"userInvalidated",e.Aa),0<e.u&&Rl(t)),ei(e,"currentUser",t),t&&(t.xa(e.la()),xl(t,e),Pl(t,e.J),Ol(t,e),Cl(t,e.R),Al(t,e))}function kf(e,t){var n=null,r=null;return Cf(e,t.then((function(t){return n=zo(t),r=eo(t),bf(e,t)}),(function(t){var n=null;throw t&&"auth/multi-factor-auth-required"===t.code&&(n=fl(t.w(),e,I(e.kc,e))),n||t})).then((function(){return ni({user:Sf(e),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function If(e){return e.app}function Sf(e){return e.currentUser}function Tf(e){return Sf(e)&&Sf(e)._lat||null}function Ef(e){if(e.ba){for(var t=0;t<e.s.length;t++)e.s[t]&&e.s[t](Tf(e));if(e.W!==e.getUid()&&e.N.length)for(e.W=e.getUid(),t=0;t<e.N.length;t++)e.N[t]&&e.N[t](Tf(e))}}function Cf(e,t){return e.P.push(t),t.oa((function(){Q(e.P,t)})),t}function xf(){}function Af(){this.a={},this.b=1e12}af.prototype.yb=function(e){var t=null,n=this;return function(e){var t=new x("invalid-persistence-type"),n=new x("unsupported-persistence-type");e:{for(r in oc)if(oc[r]==e){var r=!0;break e}r=!1}if(!r||"string"!==typeof e)throw t;switch(Er()){case"ReactNative":if("session"===e)throw n;break;case"Node":if("none"!==e)throw n;break;case"Worker":if("session"===e||!Fu()&&"none"!==e)throw n;break;default:if(!Mr()&&"none"!==e)throw n}}(e),df(this,(function(){return e!=n.c.F?n.b.get(n.c,n.a).then((function(r){return t=r,sf(n,e)})).then((function(){if(n.c=cf(e),t)return n.b.set(n.c,t,n.a)})):Pt()}))},E(pf,Sn),E(vf,Jt),E(gf,Jt),E(mf,Jt),(e=pf.prototype).yb=function(e){return Cf(this,e=this.i.yb(e))},e.xa=function(e){this.aa===e||this.l||(this.aa=e,cs(this.a,this.aa),this.dispatchEvent(new vf(this.la())))},e.la=function(){return this.aa},e.fd=function(){var e=u.navigator;this.xa(e&&(e.languages&&e.languages[0]||e.language||e.userLanguage)||null)},e.gd=function(e,t){if(!this.R){if(!/^https?:\/\//.test(e))throw new x("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(e){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!e&&kr().then((function(){var e=u.document.createElement("div");e.innerText="Running in emulator mode. Do not use with production credentials.",e.style.position="fixed",e.style.width="100%",e.style.backgroundColor="#ffffff",e.style.border=".1em solid #000000",e.style.color="#b50000",e.style.bottom="0px",e.style.left="0px",e.style.margin="0px",e.style.zIndex=1e4,e.style.textAlign="center",e.classList.add("firebase-emulator-warning"),u.document.body.appendChild(e)}))})(t=!!t&&!!t.disableWarnings),this.R={url:e,ec:t},this.settings.jb=!0,ls(this.a,this.R),this.dispatchEvent(new gf(this.R))}},e.Gc=function(e){this.J.push(e),hs(this.a,r.default.SDK_VERSION?Nr(r.default.SDK_VERSION,this.J):null),this.dispatchEvent(new mf(this.J))},e.Ga=function(){return ee(this.J)},e.zb=function(e){this.S===e||this.l||(this.S=e,this.a.b=this.S)},e.T=function(){return this.S},e.toJSON=function(){return{apiKey:If(this).options.apiKey,authDomain:If(this).options.authDomain,appName:If(this).name,currentUser:Sf(this)&&Sf(this).w()}},e.Gb=function(e,t){switch(e){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==t&&!!this.f;default:return!1}},e.na=function(e,t,n,r){"signInViaPopup"==e&&this.g==r&&(n&&this.C?this.C(n):t&&!n&&this.f&&this.f(t),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},e.Fa=function(e,t){return"signInViaRedirect"==e||"signInViaPopup"==e&&this.g==t&&this.f?I(this.ic,this):null},e.ic=function(e,t,n,r){var i=this,o={requestUri:e,postBody:r,sessionId:t,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return kf(i,Es(i.a,o))}))},e.Xc=function(e){if(!Lr())return Ot(new x("operation-not-supported-in-this-environment"));var t=this,n=Ji(e.providerId),i=zr(),o=null;(!Ur()||Sr())&&If(this).options.authDomain&&e.isOAuthProvider&&(o=Su(If(this).options.authDomain,If(this).options.apiKey,If(this).name,"signInViaPopup",e,null,i,r.default.SDK_VERSION||null,null,null,this.T(),this.R));var a=_r(o,n&&n.va,n&&n.ua);return Cf(this,n=yf(this).then((function(n){return Wc(n,a,"signInViaPopup",e,i,!!o,t.T())})).then((function(){return new It((function(e,n){t.na("signInViaPopup",null,new x("cancelled-popup-request"),t.g),t.f=e,t.C=n,t.g=i,t.c=Hc(t.b,t,"signInViaPopup",a,i)}))})).then((function(e){return a&&yr(a),e?ni(e):null})).o((function(e){throw a&&yr(a),e})))},e.Yc=function(e){if(!Lr())return Ot(new x("operation-not-supported-in-this-environment"));var t=this,n=yf(this).then((function(){return function(e){return df(e,(function(){return e.b.set(uf,e.c.F,e.a)}))}(t.i)})).then((function(){return Gc(t.b,"signInViaRedirect",e,void 0,t.T())}));return Cf(this,n)},e.ra=function(){var e=this;return _f(this).then((function(t){return e.b&&Jc(e.b.b),t})).o((function(t){throw e.b&&Jc(e.b.b),t}))},e.dd=function(e){if(!e)return Ot(new x("null-user"));if(this.S!=e.tenantId)return Ot(new x("tenant-id-mismatch"));var t=this,n={};n.apiKey=If(this).options.apiKey,n.authDomain=If(this).options.authDomain,n.appName=If(this).name;var r=function(e,t,n,r){var i=e.h,o={};return o[is]=i.b&&i.b.toString(),o.refreshToken=i.a,t=new El(t||{apiKey:e.l,authDomain:e.s,appName:e.m},o),n&&(t.ha=n),r&&Pl(t,r),Kl(t,e),t}(e,n,t.D,t.Ga());return Cf(this,this.h.then((function(){if(If(t).options.apiKey!=e.l)return r.reload()})).then((function(){return Sf(t)&&e.uid==Sf(t).uid?(Kl(Sf(t),e),t.da(e)):(wf(t,r),jl(r),t.da(r))})).then((function(){Ef(t)})))},e.Bb=function(){var e=this;return Cf(this,this.h.then((function(){return e.b&&Jc(e.b.b),Sf(e)?(wf(e,null),ff(e.i).then((function(){Ef(e)}))):Pt()})))},e.Zc=function(){var e=this;return hf(this.i,If(this).options.authDomain).then((function(t){if(!e.l){var n;if(n=Sf(e)&&t){n=Sf(e).uid;var r=t.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return Kl(Sf(e),t),Sf(e).I();(Sf(e)||t)&&(wf(e,t),t&&(jl(t),t.ha=e.D),e.b&&qc(e.b,e),Ef(e))}}))},e.da=function(e){return lf(this.i,e)},e.mc=function(){Ef(this),this.da(Sf(this))},e.wc=function(){this.Bb()},e.xc=function(){this.Bb()},e.kc=function(e){var t=this;return this.h.then((function(){return kf(t,Pt(e))}))},e.zc=function(e){var t=this;this.addAuthTokenListener((function(){e.next(Sf(t))}))},e.Ac=function(e){var t=this;!function(e,t){e.N.push(t),Cf(e,e.h.then((function(){!e.l&&X(e.N,t)&&e.W!==e.getUid()&&(e.W=e.getUid(),t(Tf(e)))})))}(this,(function(){e.next(Sf(t))}))},e.Ic=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof e?e(Sf(r)):"function"===typeof e.next&&e.next(Sf(r))})),this.Pa(e,t,n)},e.Hc=function(e,t,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof e?e(Sf(r)):"function"===typeof e.next&&e.next(Sf(r))})),this.ib(e,t,n)},e.nc=function(e){var t=this;return Cf(this,this.h.then((function(){return Sf(t)?Sf(t).I(e).then((function(e){return{accessToken:e}})):null})))},e.Tc=function(e){var t=this;return this.h.then((function(){return kf(t,cu(t.a,ru,{token:e}))})).then((function(e){var n=e.user;return Wl(n,"isAnonymous",!1),t.da(n),e}))},e.Uc=function(e,t){var n=this;return this.h.then((function(){return kf(n,cu(n.a,iu,{email:e,password:t}))}))},e.dc=function(e,t){var n=this;return this.h.then((function(){return kf(n,cu(n.a,Ns,{email:e,password:t}))}))},e.ab=function(e){var t=this;return this.h.then((function(){return kf(t,e.ka(t.a))}))},e.Sc=function(e){return Zr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(e)},e.Ab=function(){var e=this;return this.h.then((function(){var t=Sf(e);if(t&&t.isAnonymous){var n=ni({providerId:null,isNewUser:!1});return ni({user:t,credential:null,additionalUserInfo:n,operationType:"signIn"})}return kf(e,e.a.Ab()).then((function(t){var n=t.user;return Wl(n,"isAnonymous",!0),e.da(n),t}))}))},e.getUid=function(){return Sf(this)&&Sf(this).uid||null},e.cc=function(e){this.addAuthTokenListener(e),this.u++,0<this.u&&Sf(this)&&Rl(Sf(this))},e.Pc=function(e){var t=this;G(this.s,(function(n){n==e&&t.u--})),0>this.u&&(this.u=0),0==this.u&&Sf(this)&&Dl(Sf(this)),this.removeAuthTokenListener(e)},e.addAuthTokenListener=function(e){var t=this;this.s.push(e),Cf(this,this.h.then((function(){t.l||X(t.s,e)&&e(Tf(t))})))},e.removeAuthTokenListener=function(e){Z(this.s,(function(t){return t==e}))},e.delete=function(){this.l=!0;for(var e=0;e<this.P.length;e++)this.P[e].cancel("app-deleted");return this.P=[],this.i&&(e=this.i).b.removeListener(cf("local"),e.a,this.ja),this.b&&(Bc(this.b,this),Jc(this.b.b)),Promise.resolve()},e.hc=function(e){return Cf(this,function(e,t){return cu(e,Rs,{identifier:t,continueUri:jr()?pr():"http://localhost"}).then((function(e){return e.signinMethods||[]}))}(this.a,e))},e.Bc=function(e){return!!jo(e)},e.xb=function(e,t){var n=this;return Cf(this,Pt().then((function(){var e=new Di(t);if(!e.c)throw new x("argument-error",ji+" must be true when sending sign in link to email");return Wi(e)})).then((function(t){return n.a.xb(e,t)})).then((function(){})))},e.jd=function(e){return this.Sa(e).then((function(e){return e.data.email}))},e.ob=function(e,t){return Cf(this,this.a.ob(e,t).then((function(){})))},e.Sa=function(e){return Cf(this,this.a.Sa(e).then((function(e){return new fi(e)})))},e.kb=function(e){return Cf(this,this.a.kb(e).then((function(){})))},e.wb=function(e,t){var n=this;return Cf(this,Pt().then((function(){return"undefined"===typeof t||ge(t)?{}:Wi(new Di(t))})).then((function(t){return n.a.wb(e,t)})).then((function(){})))},e.Wc=function(e,t){return Cf(this,ol(this,e,t,I(this.ab,this)))},e.Vc=function(e,t){var n=this;return Cf(this,Pt().then((function(){var r=t||pr(),i=Lo(e,r);if(!(r=jo(r)))throw new x("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new x("tenant-id-mismatch");return n.ab(i)})))},xf.prototype.render=function(){},xf.prototype.reset=function(){},xf.prototype.getResponse=function(){},xf.prototype.execute=function(){};var Pf=null;function Of(e,t){return(t=Nf(t))&&e.a[t]||null}function Nf(e){return(e="undefined"===typeof e?1e12:e)?e.toString():null}function Rf(e,t){this.g=!1,this.c=t,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ft(e);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Df(e){if(e.g)throw Error("reCAPTCHA mock was already deleted!")}function Mf(){}function Lf(){}Af.prototype.render=function(e,t){return this.a[this.b.toString()]=new Rf(e,t),this.b++},Af.prototype.reset=function(e){var t=Of(this,e);e=Nf(e),t&&e&&(t.delete(),delete this.a[e])},Af.prototype.getResponse=function(e){return(e=Of(this,e))?e.getResponse():null},Af.prototype.execute=function(e){(e=Of(this,e))&&e.execute()},Rf.prototype.getResponse=function(){return Df(this),this.b},Rf.prototype.execute=function(){Df(this);var e=this;this.a||(this.a=setTimeout((function(){e.b=function(){for(var e=50,t=[];0<e;)t.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),e--;return t.join("")}();var t=e.c.callback,n=e.c["expired-callback"];if(t)try{t(e.b)}catch(r){}e.a=setTimeout((function(){if(e.a=null,e.b=null,n)try{n()}catch(r){}e.h&&e.execute()}),6e4)}),500))},Rf.prototype.delete=function(){Df(this),this.g=!0,clearTimeout(this.a),this.a=null,vn(this.f,"click",this.i)},ei(Mf,"FACTOR_ID","phone"),Lf.prototype.g=function(){return Pf||(Pf=new Af),Pt(Pf)},Lf.prototype.c=function(){};var jf=null;function Ff(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Uf=new we(Te,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),qf=new Gr(3e4,6e4);Ff.prototype.g=function(e){var t=this;return new It((function(n,r){var i=setTimeout((function(){r(new x("network-request-failed"))}),qf.get());!u.grecaptcha||e!==t.f&&!t.b?(u[t.a]=function(){if(u.grecaptcha){t.f=e;var o=u.grecaptcha.render;u.grecaptcha.render=function(e,n){return e=o(e,n),t.b++,e},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new x("internal-error"));delete u[t.a]},Pt($a(Ae(Uf,{onload:t.a,hl:e||""}))).o((function(){clearTimeout(i),r(new x("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Ff.prototype.c=function(){this.b--};var Bf=null;function Vf(e,t,n,r,i,o,a){if(ei(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=t,this.g=null,a?(jf||(jf=new Lf),a=jf):(Bf||(Bf=new Ff),a=Bf),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Kf])throw new x("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Gf],!u.document)throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ft(t)||!this.i&&ft(t).hasChildNodes())throw new x("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new ns(e,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[zf];this.a[zf]=function(e){if(Hf(s,e),"function"===typeof c)c(e);else if("string"===typeof c){var t=Dr(c,u);"function"===typeof t&&t(e)}};var l=this.a[Wf];this.a[Wf]=function(){if(Hf(s,null),"function"===typeof l)l();else if("string"===typeof l){var e=Dr(l,u);"function"===typeof e&&e()}}}var zf="callback",Wf="expired-callback",Kf="sitekey",Gf="size";function Hf(e,t){for(var n=0;n<e.l.length;n++)try{e.l[n](t)}catch(r){}}function Yf(e,t){return e.h.push(t),t.oa((function(){Q(e.h,t)})),t}function $f(e){if(e.J)throw new x("internal-error","RecaptchaVerifier instance has been destroyed.")}function Xf(e,t,n){var i=!1;try{this.b=n||r.default.app()}catch(s){throw new x("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new x("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.default.SDK_VERSION?Nr(r.default.SDK_VERSION,a):null,Vf.call(this,n,e,t,(function(){try{var e=o.b.auth().la()}catch(t){e=null}return e}),a,D(P),i)}function Qf(e,t,n,r){e:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<t.length;a++)if(t[a].optional)o=!0;else{if(o)throw new x("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=t.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=t[i].optional&&void 0===n[i],!t[i].M(n[i])&&!o){if(t=t[i],0>i||i>=Zf.length)throw new x("internal-error","Argument validator received an unsupported number of arguments.");n=Zf[i],r=(r?"":n+" argument ")+(t.name?'"'+t.name+'" ':"")+"must be "+t.K+".";break e}r=null}}if(r)throw new x("argument-error",e+" failed: "+r)}(e=Vf.prototype).Ia=function(){var e=this;return this.f?this.f:this.f=Yf(this,Pt().then((function(){if(jr()&&!Tr())return kr();throw new x("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return e.m.g(e.u())})).then((function(t){return e.g=t,cu(e.s,Gs,{})})).then((function(t){e.a[Kf]=t.recaptchaSiteKey})).o((function(t){throw e.f=null,t})))},e.render=function(){$f(this);var e=this;return Yf(this,this.Ia().then((function(){if(null===e.c){var t=e.v;if(!e.i){var n=ft(t);t=function(e,t,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!lt&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Ge(a.name),'"'),a.type){o.push(' type="',Ge(a.type),'"');var s={};_e(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=mt(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):ht(o,a)),2<r.length&&gt(i,o,r),o}("DIV"),n.appendChild(t)}e.c=e.g.render(t,e.a)}return e.c})))},e.verify=function(){$f(this);var e=this;return Yf(this,this.render().then((function(t){return new It((function(n){var r=e.g.getResponse(t);if(r)n(r);else{var i=function(t){t&&(function(e,t){Z(e.l,(function(e){return e==t}))}(e,i),n(t))};e.l.push(i),e.i&&e.g.execute(e.c)}}))})))},e.reset=function(){$f(this),null!==this.c&&this.g.reset(this.c)},e.clear=function(){$f(this),this.J=!0,this.m.c();for(var e=0;e<this.h.length;e++)this.h[e].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){e=ft(this.v);for(var t;t=e.firstChild;)e.removeChild(t)}},E(Xf,Vf);var Zf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Jf(e,t){return{name:e||"",K:"a valid string",optional:!!t,M:function(e){return"string"===typeof e}}}function eh(e,t){return{name:e||"",K:"a boolean",optional:!!t,M:function(e){return"boolean"===typeof e}}}function th(e,t){return{name:e||"",K:"a valid object",optional:!!t,M:m}}function nh(e,t){return{name:e||"",K:"a function",optional:!!t,M:function(e){return"function"===typeof e}}}function rh(e,t){return{name:e||"",K:"null",optional:!!t,M:function(e){return null===e}}}function ih(e){return{name:e?e+"Credential":"credential",K:e?"a valid "+e+" credential":"a valid credential",optional:!1,M:function(t){if(!t)return!1;var n=!e||t.providerId===e;return!(!t.ka||!n)}}}function oh(e,t){return m(e)&&"string"===typeof e.type&&e.type===t&&"function"===typeof e.Ha}function ah(e){return m(e)&&"string"===typeof e.uid}function sh(e,t,n,r){return{name:n||"",K:e.K+" or "+t.K,optional:!!r,M:function(n){return e.M(n)||t.M(n)}}}function uh(e,t){for(var n in t){var r=t[n].name;e[r]=fh(r,e[n],t[n].j)}}function ch(e,t){for(var n in t){var r=t[n].name;r!==n&&Object.defineProperty(e,r,{get:S((function(e){return this[e]}),n),set:S((function(e,t,n,r){Qf(e,[n],[r],!0),this[t]=r}),r,n,t[n].lb),enumerable:!0})}}function lh(e,t,n,r){e[t]=fh(t,n,r)}function fh(e,t,n){function r(){var e=Array.prototype.slice.call(arguments);return Qf(o,n,e),t.apply(this,e)}if(!n)return t;var i,o=function(e){return(e=e.split("."))[e.length-1]}(e);for(i in t)r[i]=t[i];for(i in t.prototype)r.prototype[i]=t.prototype[i];return r}uh(pf.prototype,{kb:{name:"applyActionCode",j:[Jf("code")]},Sa:{name:"checkActionCode",j:[Jf("code")]},ob:{name:"confirmPasswordReset",j:[Jf("code"),Jf("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Jf("email"),Jf("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Jf("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Jf("emailLink")]},Hc:{name:"onAuthStateChanged",j:[sh(th(),nh(),"nextOrObserver"),nh("opt_error",!0),nh("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[sh(th(),nh(),"nextOrObserver"),nh("opt_error",!0),nh("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Jf("email"),sh(th("opt_actionCodeSettings",!0),rh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Jf("email"),th("actionCodeSettings")]},yb:{name:"setPersistence",j:[Jf("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[ih()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[ih()]},Tc:{name:"signInWithCustomToken",j:[Jf("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Jf("email"),Jf("password")]},Vc:{name:"signInWithEmailLink",j:[Jf("email"),Jf("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Jf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[sh({name:"user",K:"an instance of Firebase User",optional:!1,M:function(e){return!!(e&&e instanceof El)}},rh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Jf(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Jf("url"),th("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Jf("code")]}}),ch(pf.prototype,{lc:{name:"languageCode",lb:sh(Jf(),rh(),"languageCode")},ti:{name:"tenantId",lb:sh(Jf(),rh(),"tenantId")}}),pf.Persistence=oc,pf.Persistence.LOCAL="local",pf.Persistence.SESSION="session",pf.Persistence.NONE="none",uh(El.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[eh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[eh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[ih()]},rb:{name:"linkWithCredential",j:[ih()]},Dc:{name:"linkWithPhoneNumber",j:[Jf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ih()]},ub:{name:"reauthenticateWithCredential",j:[ih()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Jf("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(e){return!!(e&&e.providerId&&e.hasOwnProperty&&e.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[sh(th("opt_actionCodeSettings",!0),rh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Jf(null,!0)]},cd:{name:"unlink",j:[Jf("provider")]},Cb:{name:"updateEmail",j:[Jf("email")]},Db:{name:"updatePassword",j:[Jf("password")]},ed:{name:"updatePhoneNumber",j:[ih("phone")]},Eb:{name:"updateProfile",j:[th("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Jf("email"),sh(th("opt_actionCodeSettings",!0),rh(null,!0),"opt_actionCodeSettings",!0)]}}),uh(Af.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uh(xf.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),uh(It.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),ch(rl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:eh("appVerificationDisabledForTesting")}}),uh(il.prototype,{confirm:{name:"confirm",j:[Jf("verificationCode")]}}),lh(po,"fromJSON",(function(e){e="string"===typeof e?JSON.parse(e):e;for(var t,n=[wo,Do,Uo,yo],r=0;r<n.length;r++)if(t=n[r](e))return t;return null}),[sh(Jf(),th(),"json")]),lh(Mo,"credential",(function(e,t){return new Ro(e,t)}),[Jf("email"),Jf("password")]),uh(Ro.prototype,{w:{name:"toJSON",j:[Jf(null,!0)]}}),uh(To.prototype,{Ca:{name:"addScope",j:[Jf("scope")]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(To,"credential",Eo,[sh(Jf(),th(),"token")]),lh(Mo,"credentialWithLink",Lo,[Jf("email"),Jf("emailLink")]),uh(Co.prototype,{Ca:{name:"addScope",j:[Jf("scope")]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(Co,"credential",xo,[sh(Jf(),th(),"token")]),uh(Ao.prototype,{Ca:{name:"addScope",j:[Jf("scope")]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(Ao,"credential",Po,[sh(Jf(),sh(th(),rh()),"idToken"),sh(Jf(),rh(),"accessToken",!0)]),uh(Oo.prototype,{Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),lh(Oo,"credential",No,[sh(Jf(),th(),"token"),Jf("secret",!0)]),uh(So.prototype,{Ca:{name:"addScope",j:[Jf("scope")]},credential:{name:"credential",j:[sh(Jf(),sh(th(),rh()),"optionsOrIdToken"),sh(Jf(),rh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[th("customOAuthParameters")]}}),uh(_o.prototype,{w:{name:"toJSON",j:[Jf(null,!0)]}}),uh(go.prototype,{w:{name:"toJSON",j:[Jf(null,!0)]}}),lh(Bo,"credential",Vo,[Jf("verificationId"),Jf("verificationCode")]),uh(Bo.prototype,{gb:{name:"verifyPhoneNumber",j:[sh(Jf(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(e){return!!e&&(e.session&&e.phoneNumber?oh(e.session,fo)&&"string"===typeof e.phoneNumber:e.session&&e.multiFactorHint?oh(e.session,ho)&&ah(e.multiFactorHint):e.session&&e.multiFactorUid?oh(e.session,ho)&&"string"===typeof e.multiFactorUid:!!e.phoneNumber&&"string"===typeof e.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!(!e||"string"!==typeof e.type||"function"!==typeof e.verify)}}]}}),uh(Fo.prototype,{w:{name:"toJSON",j:[Jf(null,!0)]}}),uh(x.prototype,{toJSON:{name:"toJSON",j:[Jf(null,!0)]}}),uh(Qo.prototype,{toJSON:{name:"toJSON",j:[Jf(null,!0)]}}),uh(Xo.prototype,{toJSON:{name:"toJSON",j:[Jf(null,!0)]}}),uh(ll.prototype,{toJSON:{name:"toJSON",j:[Jf(null,!0)]}}),uh(sl.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}}]}}),uh(gl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(e){return!!e&&!!e.tb}},Jf("displayName",!0)]},bd:{name:"unenroll",j:[sh({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:ah},Jf(),"multiFactorInfoIdentifier")]}}),uh(Xf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),lh(Ti,"parseLink",Ri,[Jf("link")]),lh(Mf,"assertion",(function(e){return new pl(e)}),[ih("phone")]),function(){if("undefined"===typeof r.default||!r.default.INTERNAL||!r.default.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var e={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:di,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:hi,VERIFY_AND_CHANGE_EMAIL:pi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:pf,AuthCredential:po,Error:x};lh(e,"EmailAuthProvider",Mo,[]),lh(e,"FacebookAuthProvider",To,[]),lh(e,"GithubAuthProvider",Co,[]),lh(e,"GoogleAuthProvider",Ao,[]),lh(e,"TwitterAuthProvider",Oo,[]),lh(e,"OAuthProvider",So,[Jf("providerId")]),lh(e,"SAMLAuthProvider",Io,[Jf("providerId")]),lh(e,"PhoneAuthProvider",Bo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(e){return!!(e&&e instanceof pf)}}]),lh(e,"RecaptchaVerifier",Xf,[sh(Jf(),{name:"",K:"an HTML element",optional:!1,M:function(e){return!!(e&&e instanceof Element)}},"recaptchaContainer"),th("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(e){return!!(e&&e instanceof r.default.app.App)}}]),lh(e,"ActionCodeURL",Ti,[]),lh(e,"PhoneMultiFactorGenerator",Mf,[]),r.default.INTERNAL.registerComponent({name:"auth",instanceFactory:function(e){return new pf(e=e.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:e,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(e){e.getProvider("auth-internal").initialize()}}),r.default.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(e){return{getUid:I((e=e.getProvider("auth").getImmediate()).getUid,e),getToken:I(e.nc,e),addAuthTokenListener:I(e.cc,e),removeAuthTokenListener:I(e.Pc,e)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.default.registerVersion("@firebase/auth","0.16.8"),r.default.INTERNAL.extendNamespace({User:El})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});n(9446);var i=n(655),o=n(4589),a=n(4594),s=function(e,t){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},s(e,t)};function u(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},f=f||{},h=l||self;function d(){}function p(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function v(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var g="closure_uid_"+(1e9*Math.random()>>>0),m=0;function y(e,t,n){return e.call.apply(e.bind,arguments)}function _(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function b(e,t,n){return(b=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:_).apply(null,arguments)}function w(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function k(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function I(){this.s=this.s,this.o=this.o}var S={};I.prototype.s=!1,I.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,g)&&e[g]||(e[g]=++m)}(this);delete S[e]}},I.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var T=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},E=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function C(e){return Array.prototype.concat.apply([],arguments)}function x(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function A(e){return/^[\s\xa0]*$/.test(e)}var P,O=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function N(e,t){return-1!=e.indexOf(t)}function R(e,t){return e<t?-1:e>t?1:0}e:{var D=h.navigator;if(D){var M=D.userAgent;if(M){P=M;break e}}P=""}function L(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function j(e){var t={};for(var n in e)t[n]=e[n];return t}var F="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var o=0;o<F.length;o++)n=F[o],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function q(e){return q[" "](e),e}q[" "]=d;var B,V=N(P,"Opera"),z=N(P,"Trident")||N(P,"MSIE"),W=N(P,"Edge"),K=W||z,G=N(P,"Gecko")&&!(N(P.toLowerCase(),"webkit")&&!N(P,"Edge"))&&!(N(P,"Trident")||N(P,"MSIE"))&&!N(P,"Edge"),H=N(P.toLowerCase(),"webkit")&&!N(P,"Edge");function Y(){var e=h.document;return e?e.documentMode:void 0}e:{var $="",X=function(){var e=P;return G?/rv:([^\);]+)(\)|;)/.exec(e):W?/Edge\/([\d\.]+)/.exec(e):z?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):H?/WebKit\/(\S+)/.exec(e):V?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(X&&($=X?X[1]:""),z){var Q=Y();if(null!=Q&&Q>parseFloat($)){B=String(Q);break e}}B=$}var Z,J={};function ee(){return function(e){var t=J;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=O(String(B)).split("."),n=O("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var o=t[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=R(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||R(0==o[2].length,0==a[2].length)||R(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e}))}if(h.document&&z){var te=Y();Z=te||(parseInt(B,10)||void 0)}else Z=void 0;var ne=Z,re=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{h.addEventListener("test",d,t),h.removeEventListener("test",d,t)}catch(n){}return e}();function ie(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function oe(e,t){if(ie.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(G){e:{try{q(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:ae[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&oe.Z.h.call(this)}}ie.prototype.h=function(){this.defaultPrevented=!0},k(oe,ie);var ae={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var se="closure_listenable_"+(1e6*Math.random()|0),ue=0;function ce(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++ue,this.ca=this.fa=!1}function le(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function fe(e){this.src=e,this.g={},this.h=0}function he(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=T(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(le(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function de(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}fe.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var a=de(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new ce(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var pe="closure_lm_"+(1e6*Math.random()|0),ve={};function ge(e,t,n,r,i){if(r&&r.once)return ye(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ge(e,t[o],n,r,i);return null}return n=Te(n),e&&e[se]?e.N(t,n,v(r)?!!r.capture:!!r,i):me(e,t,n,!1,r,i)}function me(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=Ie(e);if(s||(e[pe]=s=new fe(e)),(n=s.add(t,n,r,a,o)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=ke;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)re||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(we(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function ye(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)ye(e,t[o],n,r,i);return null}return n=Te(n),e&&e[se]?e.O(t,n,v(r)?!!r.capture:!!r,i):me(e,t,n,!0,r,i)}function _e(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)_e(e,t[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=Te(n),e&&e[se]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=de(o=e.g[t],n,r,i))&&(le(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--)))):e&&(e=Ie(e))&&(t=e.g[t.toString()],e=-1,t&&(e=de(t,n,r,i)),(n=-1<e?t[e]:null)&&be(n))}function be(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[se])he(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(we(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ie(t))?(he(n,e),0==n.h&&(n.src=null,t[pe]=null)):le(e)}}}function we(e){return e in ve?ve[e]:ve[e]="on"+e}function ke(e,t){if(e.ca)e=!0;else{t=new oe(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&be(e),e=n.call(r,t)}return e}function Ie(e){return(e=e[pe])instanceof fe?e:null}var Se="__closure_events_fn_"+(1e9*Math.random()>>>0);function Te(e){return"function"===typeof e?e:(e[Se]||(e[Se]=function(t){return e.handleEvent(t)}),e[Se])}function Ee(){I.call(this),this.i=new fe(this),this.P=this,this.I=null}function Ce(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new ie(t,e);else if(t instanceof ie)t.target=t.target||e;else{var i=t;U(t=new ie(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=t.g=n[o];i=xe(a,r,!0,t)&&i}if(i=xe(a=t.g=e,r,!0,t)&&i,i=xe(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=xe(a=t.g=n[o],r,!1,t)&&i}function xe(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var a=t[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&he(e.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}k(Ee,I),Ee.prototype[se]=!0,Ee.prototype.removeEventListener=function(e,t,n,r){_e(this,e,t,n,r)},Ee.prototype.M=function(){if(Ee.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)le(n[r]);delete t.g[e],t.h--}}this.I=null},Ee.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Ee.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ae=h.JSON.stringify;function Pe(){var e=Fe,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Oe,Ne=function(){function e(){this.h=this.g=null}return e.prototype.add=function(e,t){var n=Re.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n},e}(),Re=new(function(){function e(e,t){this.i=e,this.j=t,this.h=0,this.g=null}return e.prototype.get=function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e},e}())((function(){return new De}),(function(e){return e.reset()})),De=function(){function e(){this.next=this.g=this.h=null}return e.prototype.set=function(e,t){this.h=e,this.g=t,this.next=null},e.prototype.reset=function(){this.next=this.g=this.h=null},e}();function Me(e){h.setTimeout((function(){throw e}),0)}function Le(e,t){Oe||function(){var e=h.Promise.resolve(void 0);Oe=function(){e.then(Ue)}}(),je||(Oe(),je=!0),Fe.add(e,t)}var je=!1,Fe=new Ne;function Ue(){for(var e;e=Pe();){try{e.h.call(e.g)}catch(n){Me(n)}var t=Re;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}je=!1}function qe(e,t){Ee.call(this),this.h=e||1,this.g=t||h,this.j=b(this.kb,this),this.l=Date.now()}function Be(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Ve(e,t,n){if("function"===typeof e)n&&(e=b(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=b(e.handleEvent,e)}return 2147483647<Number(t)?-1:h.setTimeout(e,t||0)}function ze(e){e.g=Ve((function(){e.g=null,e.i&&(e.i=!1,ze(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}k(qe,Ee),(c=qe.prototype).da=!1,c.S=null,c.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ce(this,"tick"),this.da&&(Be(this),this.start()))}},c.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},c.M=function(){qe.Z.M.call(this),Be(this),delete this.g};var We=function(e){function t(t,n){var r=e.call(this)||this;return r.m=t,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}s(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.l=function(e){this.h=arguments,this.g?this.i=!0:ze(this)},t.prototype.M=function(){e.prototype.M.call(this),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},t}(I);function Ke(e){I.call(this),this.h=e,this.g={}}k(Ke,I);var Ge=[];function He(e,t,n,r){Array.isArray(n)||(n&&(Ge[0]=n.toString()),n=Ge);for(var i=0;i<n.length;i++){var o=ge(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Ye(e){L(e.g,(function(e,t){this.g.hasOwnProperty(t)&&be(e)}),e),e.g={}}function $e(){this.g=!0}function Xe(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return Ae(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}Ke.prototype.M=function(){Ke.Z.M.call(this),Ye(this)},Ke.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},$e.prototype.Aa=function(){this.g=!1},$e.prototype.info=function(){};var Qe={},Ze=null;function Je(){return Ze=Ze||new Ee}function et(e){ie.call(this,Qe.Ma,e)}function tt(e){var t=Je();Ce(t,new et(t,e))}function nt(e,t){ie.call(this,Qe.STAT_EVENT,e),this.stat=t}function rt(e){var t=Je();Ce(t,new nt(t,e))}function it(e,t){ie.call(this,Qe.Na,e),this.size=t}function ot(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return h.setTimeout((function(){e()}),t)}Qe.Ma="serverreachability",k(et,ie),Qe.STAT_EVENT="statevent",k(nt,ie),Qe.Na="timingevent",k(it,ie);var at={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},st={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ut(){}function ct(e){return e.h||(e.h=e.i())}function lt(){}ut.prototype.h=null;var ft,ht={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function dt(){ie.call(this,"d")}function pt(){ie.call(this,"c")}function vt(){}function gt(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Ke(this),this.P=yt,e=K?125:void 0,this.W=new qe(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}k(dt,ie),k(pt,ie),k(vt,ut),vt.prototype.g=function(){return new XMLHttpRequest},vt.prototype.i=function(){return{}},ft=new vt;var yt=45e3,_t={},bt={};function wt(e,t,n){e.K=1,e.v=Wt(Ft(t)),e.s=n,e.U=!0,kt(e,null)}function kt(e,t){e.F=Date.now(),Et(e),e.A=Ft(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),rn(n.h,"t",r),e.C=0,n=e.l.H,e.h=new mt,e.g=ar(e.l,n?t:null,!e.s),0<e.O&&(e.L=new We(b(e.Ia,e,e.g),e.O)),He(e.V,e.g,"readystatechange",e.gb),t=e.H?j(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),tt(1),function(e,t,n,r,i,o){e.info((function(){if(e.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");a=2<=f.length&&"type"==f[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function It(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function St(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Tt(e,n))==bt){4==t&&(e.o=4,rt(14),i=!1),Xe(e.j,e.m,null,"[Incomplete Response]");break}if(r==_t){e.o=4,rt(15),Xe(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Xe(e.j,e.m,r,null),Ot(e,r)}It(e)&&r!=bt&&r!=_t&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,rt(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Zn(t),t.L=!0,rt(11))):(Xe(e.j,e.m,n,"[Invalid Chunked Response]"),Pt(e),At(e))}function Tt(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?bt:(n=Number(t.substring(n,r)),isNaN(n)?_t:(r+=1)+n>t.length?bt:(t=t.substr(r,n),e.C=r+n,t))}function Et(e){e.Y=Date.now()+e.P,Ct(e,e.P)}function Ct(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=ot(b(e.eb,e),t)}function xt(e){e.B&&(h.clearTimeout(e.B),e.B=null)}function At(e){0==e.l.G||e.I||tr(e.l,e)}function Pt(e){xt(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Be(e.W),Ye(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Ot(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||hn(n.i,e)))if(n.I=e.N,!e.J&&hn(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;er(n),zn(n)}Qn(n),rt(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ot(b(n.ab,n),6e3));if(1>=fn(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else rr(n,11)}else if((e.J||n.g==e)&&er(n),!A(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var o=i[t];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(N(l,"spdy")||N(l,"quic")||N(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(dn(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,zt(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=or(r,r.H?r.la:null,r.W),d.J){pn(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(xt(p),Et(p)),r.g=d}else Xn(r);0<n.l.length&&Gn(n)}else"stop"!=o[0]&&"close"!=o[0]||rr(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?rr(n,7):Vn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}tt(4)}catch(o){}}function Nt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(p(e)||"string"===typeof e)E(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(p(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(p(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Rt(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Rt)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Dt(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];Mt(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)Mt(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function Mt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(c=gt.prototype).setTimeout=function(e){this.P=e},c.gb=function(e){e=e.target;var t=this.L;t&&3==jn(e)?t.l():this.Ia(e)},c.Ia=function(e){try{if(e==this.g)e:{var t=jn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||K||this.g&&(this.h.h||this.g.ga()||Fn(this.g)))){this.I||4!=t||7==n||tt(8==n||0>=r?3:2),xt(this);var i=this.g.ba();this.N=i;t:if(It(this)){var o=Fn(this.g);e="";var a=o.length,s=4==jn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Pt(this),At(this);var u="";break t}this.h.i=new h.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=e,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,o,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!A(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,rt(12),Pt(this),At(this);break e}Xe(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ot(this,i)}this.U?(St(this,t,u),K&&this.i&&3==t&&(He(this.V,this.W,"tick",this.fb),this.W.start())):(Xe(this.j,this.m,u,null),Ot(this,u)),4==t&&Pt(this),this.i&&!this.I&&(4==t?tr(this.l,this):(this.i=!1,Et(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,rt(12)):(this.o=0,rt(13)),Pt(this),At(this)}}}catch(t){}},c.fb=function(){if(this.g){var e=jn(this.g),t=this.g.ga();this.C<t.length&&(xt(this),St(this,e,t),this.i&&4!=e&&Et(this))}},c.cancel=function(){this.I=!0,Pt(this)},c.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(tt(3),rt(17)),Pt(this),this.o=2,At(this)):Ct(this,this.Y-e)},(c=Rt.prototype).R=function(){Dt(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},c.T=function(){return Dt(this),this.g.concat()},c.get=function(e,t){return Mt(this.h,e)?this.h[e]:t},c.set=function(e,t){Mt(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},c.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var Lt=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function jt(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof jt){this.g=void 0!==t?t:e.g,Ut(this,e.j),this.s=e.s,qt(this,e.i),Bt(this,e.m),this.l=e.l,t=e.h;var n=new Jt;n.i=t.i,t.g&&(n.g=new Rt(t.g),n.h=t.h),Vt(this,n),this.o=e.o}else e&&(n=String(e).match(Lt))?(this.g=!!t,Ut(this,n[1]||"",!0),this.s=Kt(n[2]||""),qt(this,n[3]||"",!0),Bt(this,n[4]),this.l=Kt(n[5]||"",!0),Vt(this,n[6]||"",!0),this.o=Kt(n[7]||"")):(this.g=!!t,this.h=new Jt(null,this.g))}function Ft(e){return new jt(e)}function Ut(e,t,n){e.j=n?Kt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function qt(e,t,n){e.i=n?Kt(t,!0):t}function Bt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Vt(e,t,n){t instanceof Jt?(e.h=t,function(e,t){t&&!e.j&&(en(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(tn(this,t),rn(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Gt(t,Qt)),e.h=new Jt(t,e.g))}function zt(e,t,n){e.h.set(t,n)}function Wt(e){return zt(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Kt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Gt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ht),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ht(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}jt.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Gt(t,Yt,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Gt(t,Yt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Gt(n,"/"==n.charAt(0)?Xt:$t,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Gt(n,Zt)),e.join("")};var Yt=/[#\/\?@]/g,$t=/[#\?:]/g,Xt=/[#\?]/g,Qt=/[#\?@]/g,Zt=/#/g;function Jt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function en(e){e.g||(e.g=new Rt,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function tn(e,t){en(e),t=on(e,t),Mt(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,Mt((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Dt(e)))}function nn(e,t){return en(e),t=on(e,t),Mt(e.g.h,t)}function rn(e,t,n){tn(e,t),0<n.length&&(e.i=null,e.g.set(on(e,t),x(n)),e.h+=n.length)}function on(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(c=Jt.prototype).add=function(e,t){en(this),this.i=null,e=on(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},c.forEach=function(e,t){en(this),this.g.forEach((function(n,r){E(n,(function(n){e.call(t,n,r,this)}),this)}),this)},c.T=function(){en(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},c.R=function(e){en(this);var t=[];if("string"===typeof e)nn(this,e)&&(t=C(t,this.g.get(on(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=C(t,e[n])}return t},c.set=function(e,t){return en(this),this.i=null,nn(this,e=on(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},c.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),e.push(a)}}return this.i=e.join("&")};var an=function(e,t){this.h=e,this.g=t};function sn(e){this.l=e||cn,h.PerformanceNavigationTiming?e=0<(e=h.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(h.g&&h.g.Ea&&h.g.Ea()&&h.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var un,cn=10;function ln(e){return!!e.h||!!e.g&&e.g.size>=e.j}function fn(e){return e.h?1:e.g?e.g.size:0}function hn(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function dn(e,t){e.g?e.g.add(t):e.h=t}function pn(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function vn(e){var t,n;if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var r=e.i;try{for(var i=u(e.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}return x(e.i)}function gn(){}function mn(){this.g=new gn}function yn(e,t,n){var r=n||"";try{Nt(e,(function(e,n){var i=e;v(e)&&(i=Ae(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Vd){throw t.push(r+"type="+encodeURIComponent("_badmap")),Vd}}function _n(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function bn(e){this.l=e.$b||null,this.j=e.ib||!1}function wn(e,t){Ee.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=kn,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn.prototype.cancel=function(){var e,t;if(this.i=vn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=u(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){e={error:i}}finally{try{r&&!r.done&&(t=n.return)&&t.call(n)}finally{if(e)throw e.error}}this.g.clear()}},gn.prototype.stringify=function(e){return h.JSON.stringify(e,void 0)},gn.prototype.parse=function(e){return h.JSON.parse(e,void 0)},k(bn,ut),bn.prototype.g=function(){return new wn(this.l,this.j)},bn.prototype.i=(un={},function(){return un}),k(wn,Ee);var kn=0;function In(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Sn(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Tn(e)}function Tn(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(c=wn.prototype).open=function(e,t){if(this.readyState!=kn)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Tn(this)},c.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||h).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},c.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Sn(this)),this.readyState=kn},c.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tn(this)),this.g&&(this.readyState=3,Tn(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof h.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;In(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},c.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Sn(this):Tn(this),3==this.readyState&&In(this)}},c.Ua=function(e){this.g&&(this.response=this.responseText=e,Sn(this))},c.Ta=function(e){this.g&&(this.response=e,Sn(this))},c.ha=function(){this.g&&Sn(this)},c.setRequestHeader=function(e,t){this.v.append(e,t)},c.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(wn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var En=h.JSON.parse;function Cn(e){Ee.call(this),this.headers=new Rt,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=xn,this.K=this.L=!1}k(Cn,Ee);var xn="",An=/^https?$/i,Pn=["POST","PUT"];function On(e){return"content-type"==e.toLowerCase()}function Nn(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rn(e),Mn(e)}function Rn(e){e.D||(e.D=!0,Ce(e,"complete"),Ce(e,"error"))}function Dn(e){if(e.h&&"undefined"!=typeof f&&(!e.C[1]||4!=jn(e)||2!=e.ba()))if(e.v&&4==jn(e))Ve(e.Fa,0,e);else if(Ce(e,"readystatechange"),4==jn(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var o=String(e.H).match(Lt)[1]||null;if(!o&&h.self&&h.self.location){var a=h.self.location.protocol;o=a.substr(0,a.length-1)}i=!An.test(o?o.toLowerCase():"")}t=i}if(t)Ce(e,"complete"),Ce(e,"success");else{e.m=6;try{var s=2<jn(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.ba()+"]",Rn(e)}}finally{Mn(e)}}}function Mn(e,t){if(e.g){Ln(e);var n=e.g,r=e.C[0]?d:null;e.g=null,e.C=null,t||Ce(e,"ready");try{n.onreadystatechange=r}catch(Vd){}}}function Ln(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(h.clearTimeout(e.A),e.A=null)}function jn(e){return e.g?e.g.readyState:0}function Fn(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case xn:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Un(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return L(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):zt(e,t,n))}function qn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Bn(e){this.za=0,this.l=[],this.h=new $e,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=qn("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=qn("baseRetryDelayMs",5e3,e),this.$a=qn("retryDelaySeedMs",1e4,e),this.Ya=qn("forwardChannelMaxRetries",2,e),this.ra=qn("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new sn(e&&e.concurrentRequestLimit),this.Ca=new mn,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Vn(e){if(Wn(e),3==e.G){var t=e.V++,n=Ft(e.F);zt(n,"SID",e.J),zt(n,"RID",t),zt(n,"TYPE","terminate"),Yn(e,n),(t=new gt(e,e.h,t,void 0)).K=2,t.v=Wt(Ft(n)),n=!1,h.navigator&&h.navigator.sendBeacon&&(n=h.navigator.sendBeacon(t.v.toString(),"")),!n&&h.Image&&((new Image).src=t.v,n=!0),n||(t.g=ar(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Et(t)}ir(e)}function zn(e){e.g&&(Zn(e),e.g.cancel(),e.g=null)}function Wn(e){zn(e),e.u&&(h.clearTimeout(e.u),e.u=null),er(e),e.i.cancel(),e.m&&("number"===typeof e.m&&h.clearTimeout(e.m),e.m=null)}function Kn(e,t){e.l.push(new an(e.Za++,t)),3==e.G&&Gn(e)}function Gn(e){ln(e.i)||e.m||(e.m=!0,Le(e.Ha,e),e.C=0)}function Hn(e,t){var n;n=t?t.m:e.V++;var r=Ft(e.F);zt(r,"SID",e.J),zt(r,"RID",n),zt(r,"AID",e.U),Yn(e,r),e.o&&e.s&&Un(r,e.o,e.s),n=new gt(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$n(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),dn(e.i,n),wt(n,r,t)}function Yn(e,t){e.j&&Nt({},(function(e,n){zt(t,n,e)}))}function $n(e,t,n){n=Math.min(e.l.length,n);var r=e.j?b(e.j.Oa,e.j,e):null;e:for(var i=e.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{yn(l,a,"req"+c+"_")}catch(Vr){r&&r(l)}}if(s){r=a.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function Xn(e){e.g||e.u||(e.Y=1,Le(e.Ga,e),e.A=0)}function Qn(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=ot(b(e.Ga,e),nr(e,e.A)),e.A++,!0)}function Zn(e){null!=e.B&&(h.clearTimeout(e.B),e.B=null)}function Jn(e){e.g=new gt(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=Ft(e.oa);zt(t,"RID","rpc"),zt(t,"SID",e.J),zt(t,"CI",e.N?"0":"1"),zt(t,"AID",e.U),Yn(e,t),zt(t,"TYPE","xmlhttp"),e.o&&e.s&&Un(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Wt(Ft(t)),n.s=null,n.U=!0,kt(n,e)}function er(e){null!=e.v&&(h.clearTimeout(e.v),e.v=null)}function tr(e,t){var n=null;if(e.g==t){er(e),Zn(e),e.g=null;var r=2}else{if(!hn(e.i,t))return;n=t.D,pn(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Ce(r=Je(),new it(r,n,t,i)),Gn(e)}else Xn(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(fn(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=ot(b(e.Ha,e,t),nr(e,e.C)),e.C++,!0))}(e,t)||2==r&&Qn(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:rr(e,5);break;case 4:rr(e,10);break;case 3:rr(e,6);break;default:rr(e,2)}}function nr(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function rr(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=b(e.jb,e);n||(n=new jt("//www.google.com/images/cleardot.gif"),h.location&&"http"==h.location.protocol||Ut(n,"https"),Wt(n)),function(e,t){var n=new $e;if(h.Image){var r=new Image;r.onload=w(_n,n,r,"TestLoadImage: loaded",!0,t),r.onerror=w(_n,n,r,"TestLoadImage: error",!1,t),r.onabort=w(_n,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=w(_n,n,r,"TestLoadImage: timeout",!1,t),h.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else rt(2);e.G=0,e.j&&e.j.va(t),ir(e),Wn(e)}function ir(e){e.G=0,e.I=-1,e.j&&(0==vn(e.i).length&&0==e.l.length||(e.i.i.length=0,x(e.l),e.l.length=0),e.j.ua())}function or(e,t,n){var r=function(e){return e instanceof jt?Ft(e):new jt(e,void 0)}(n);if(""!=r.i)t&&qt(r,t+"."+r.i),Bt(r,r.m);else{var i=h.location;r=function(e,t,n,r){var i=new jt(null,void 0);return e&&Ut(i,e),t&&qt(i,t),n&&Bt(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&L(e.aa,(function(e,t){zt(r,t,e)})),t=e.D,n=e.sa,t&&n&&zt(r,t,n),zt(r,"VER",e.ma),Yn(e,r),r}function ar(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Cn(new bn({ib:!0})):new Cn(e.qa)).L=e.H,t}function sr(){}function ur(){if(z&&!(10<=Number(ne)))throw Error("Environmental error: no available transport.")}function cr(e,t){Ee.call(this),this.g=new Bn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!A(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!A(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new hr(this)}function lr(e){dt.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function fr(){pt.call(this),this.status=1}function hr(e){this.g=e}(c=Cn.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ft.g(),this.C=this.u?ct(this.u):ct(ft),this.g.onreadystatechange=b(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Nn(this,o)}e=n||"";var i=new Rt(this.headers);r&&Nt(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=On,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=h.FormData&&e instanceof h.FormData,!(0<=T(Pn,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ln(this),0<this.B&&((this.K=function(e){return z&&ee()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=b(this.pa,this)):this.A=Ve(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Nn(this,o)}},c.pa=function(){"undefined"!=typeof f&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ce(this,"timeout"),this.abort(8))},c.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ce(this,"complete"),Ce(this,"abort"),Mn(this))},c.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Mn(this,!0)),Cn.Z.M.call(this)},c.Fa=function(){this.s||(this.F||this.v||this.l?Dn(this):this.cb())},c.cb=function(){Dn(this)},c.ba=function(){try{return 2<jn(this)?this.g.status:-1}catch(un){return-1}},c.ga=function(){try{return this.g?this.g.responseText:""}catch(un){return""}},c.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),En(t)}},c.Da=function(){return this.m},c.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(c=Bn.prototype).ma=8,c.G=1,c.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},c.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new gt(this,this.h,e,void 0),n=this.s;if(this.P&&(n?U(n=j(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=$n(this,t,r),zt(i=Ft(this.F),"RID",e),zt(i,"CVER",22),this.D&&zt(i,"X-HTTP-Session-Id",this.D),Yn(this,i),this.o&&n&&Un(i,this.o,n),dn(this.i,t),this.Ra&&zt(i,"TYPE","init"),this.ja?(zt(i,"$req",r),zt(i,"SID","null"),t.$=!0,wt(t,i,null)):wt(t,i,r),this.G=2}}else 3==this.G&&(e?Hn(this,e):0==this.l.length||ln(this.i)||Hn(this))},c.Ga=function(){if(this.u=null,Jn(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=ot(b(this.bb,this),e)}},c.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,rt(10),zn(this),Jn(this))},c.ab=function(){null!=this.v&&(this.v=null,zn(this),Qn(this),rt(19))},c.jb=function(e){e?(this.h.info("Successfully pinged google.com"),rt(2)):(this.h.info("Failed to ping google.com"),rt(1))},(c=sr.prototype).xa=function(){},c.wa=function(){},c.va=function(){},c.ua=function(){},c.Oa=function(){},ur.prototype.g=function(e,t){return new cr(e,t)},k(cr,Ee),cr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Le(b(e.hb,e,t))),rt(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=or(e,null,e.W),Gn(e)},cr.prototype.close=function(){Vn(this.g)},cr.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Kn(this.g,t)}else this.v?((t={}).__data__=Ae(e),Kn(this.g,t)):Kn(this.g,e)},cr.prototype.M=function(){this.g.j=null,delete this.j,Vn(this.g),delete this.g,cr.Z.M.call(this)},k(lr,dt),k(fr,pt),k(hr,sr),hr.prototype.xa=function(){Ce(this.g,"a")},hr.prototype.wa=function(e){Ce(this.g,new lr(e))},hr.prototype.va=function(e){Ce(this.g,new fr(e))},hr.prototype.ua=function(){Ce(this.g,"b")},ur.prototype.createWebChannel=ur.prototype.g,cr.prototype.send=cr.prototype.u,cr.prototype.open=cr.prototype.m,cr.prototype.close=cr.prototype.close,at.NO_ERROR=0,at.TIMEOUT=8,at.HTTP_ERROR=6,st.COMPLETE="complete",lt.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",Ee.prototype.listen=Ee.prototype.N,Cn.prototype.listenOnce=Cn.prototype.O,Cn.prototype.getLastError=Cn.prototype.La,Cn.prototype.getLastErrorCode=Cn.prototype.Da,Cn.prototype.getStatus=Cn.prototype.ba,Cn.prototype.getResponseJson=Cn.prototype.Qa,Cn.prototype.getResponseText=Cn.prototype.ga,Cn.prototype.send=Cn.prototype.ea;var dr=function(){return new ur},pr=function(){return Je()},vr=at,gr=st,mr=Qe,yr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},_r=bn,br=lt,wr=Cn,kr=n(3454),Ir=function(){function e(e,t){var n=this;this.previousValue=e,t&&(t.sequenceNumberHandler=function(e){return n.t(e)},this.i=function(e){return t.writeSequenceNumber(e)})}return e.prototype.t=function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue},e.prototype.next=function(){var e=++this.previousValue;return this.i&&this.i(e),e},e}();Ir.o=-1;var Sr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Tr=function(e){function t(t,n){var r=this;return(r=e.call(this,n)||this).code=t,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,i.__extends)(t,e),t}(Error),Er=new a.Logger("@firebase/firestore");function Cr(){return Er.logLevel}function xr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Er.logLevel<=a.LogLevel.DEBUG){var r=t.map(Or);Er.debug.apply(Er,(0,i.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function Ar(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Er.logLevel<=a.LogLevel.ERROR){var r=t.map(Or);Er.error.apply(Er,(0,i.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function Pr(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(Er.logLevel<=a.LogLevel.WARN){var r=t.map(Or);Er.warn.apply(Er,(0,i.__spreadArray)(["Firestore (8.10.1): "+e],r))}}function Or(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Nr(e){void 0===e&&(e="Unexpected state");var t="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+e;throw Ar(t),new Error(t)}function Rr(e,t){e||Nr()}function Dr(e,t){return e}function Mr(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var Lr=function(){function e(){}return e.u=function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Mr(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n},e}();function jr(e,t){return e<t?-1:e>t?1:0}function Fr(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function Ur(e){return e+"\0"}var qr=function(){function e(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Tr(Sr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Tr(Sr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Tr(Sr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Tr(Sr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}return e.now=function(){return e.fromMillis(Date.now())},e.fromDate=function(t){return e.fromMillis(t.getTime())},e.fromMillis=function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))},e.prototype.toDate=function(){return new Date(this.toMillis())},e.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},e.prototype._compareTo=function(e){return this.seconds===e.seconds?jr(this.nanoseconds,e.nanoseconds):jr(this.seconds,e.seconds)},e.prototype.isEqual=function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds},e.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},e.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},e.prototype.valueOf=function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},e}(),Br=function(){function e(e){this.timestamp=e}return e.fromTimestamp=function(t){return new e(t)},e.min=function(){return new e(new qr(0,0))},e.prototype.compareTo=function(e){return this.timestamp._compareTo(e.timestamp)},e.prototype.isEqual=function(e){return this.timestamp.isEqual(e.timestamp)},e.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},e.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},e.prototype.toTimestamp=function(){return this.timestamp},e}();function Vr(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function zr(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wr(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Kr=function(){function e(e,t,n){void 0===t?t=0:t>e.length&&Nr(),void 0===n?n=e.length-t:n>e.length-t&&Nr(),this.segments=e,this.offset=t,this.len=n}return Object.defineProperty(e.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return 0===e.comparator(this,t)},e.prototype.child=function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)},e.prototype.limit=function(){return this.offset+this.length},e.prototype.popFirst=function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)},e.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},e.prototype.firstSegment=function(){return this.segments[this.offset]},e.prototype.lastSegment=function(){return this.get(this.length-1)},e.prototype.get=function(e){return this.segments[this.offset+e]},e.prototype.isEmpty=function(){return 0===this.length},e.prototype.isPrefixOf=function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.isImmediateParentOf=function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0},e.prototype.forEach=function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])},e.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},e.comparator=function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),o=t.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0},e}(),Gr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.prototype.canonicalString=function(){return this.toArray().join("/")},t.prototype.toString=function(){return this.canonicalString()},t.fromString=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];for(var r=[],i=0,o=e;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Tr(Sr.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(e){return e.length>0})))}return new t(r)},t.emptyPath=function(){return new t([])},t}(Kr),Hr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Yr=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype.construct=function(e,n,r){return new t(e,n,r)},t.isValidIdentifier=function(e){return Hr.test(e)},t.prototype.canonicalString=function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")},t.prototype.toString=function(){return this.canonicalString()},t.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},t.keyField=function(){return new t(["__name__"])},t.fromServerFormat=function(e){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Tr(Sr.INVALID_ARGUMENT,"Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new Tr(Sr.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Tr(Sr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Tr(Sr.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)},t.emptyPath=function(){return new t([])},t}(Kr),$r=function(){function e(e){this.fields=e,e.sort(Yr.comparator)}return e.prototype.covers=function(e){for(var t=0,n=this.fields;t<n.length;t++)if(n[t].isPrefixOf(e))return!0;return!1},e.prototype.isEqual=function(e){return Fr(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))},e}(),Xr=function(){function e(e){this.binaryString=e}return e.fromBase64String=function(t){return new e(atob(t))},e.fromUint8Array=function(t){return new e(function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))},e.prototype.toBase64=function(){return e=this.binaryString,btoa(e);var e},e.prototype.toUint8Array=function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)},e.prototype.approximateByteSize=function(){return 2*this.binaryString.length},e.prototype.compareTo=function(e){return jr(this.binaryString,e.binaryString)},e.prototype.isEqual=function(e){return this.binaryString===e.binaryString},e}();Xr.EMPTY_BYTE_STRING=new Xr("");var Qr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zr(e){if(Rr(!!e),"string"==typeof e){var t=0,n=Qr.exec(e);if(Rr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Jr(e.seconds),nanos:Jr(e.nanos)}}function Jr(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ei(e){return"string"==typeof e?Xr.fromBase64String(e):Xr.fromUint8Array(e)}function ti(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ni(e){var t=e.mapValue.fields.__previous_value__;return ti(t)?ni(t):t}function ri(e){var t=Zr(e.mapValue.fields.__local_write_time__.timestampValue);return new qr(t.seconds,t.nanos)}function ii(e){return null==e}function oi(e){return 0===e&&1/e==-1/0}function ai(e){return"number"==typeof e&&Number.isInteger(e)&&!oi(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var si=function(){function e(e){this.path=e}return e.fromPath=function(t){return new e(Gr.fromString(t))},e.fromName=function(t){return new e(Gr.fromString(t).popFirst(5))},e.prototype.hasCollectionId=function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e},e.prototype.isEqual=function(e){return null!==e&&0===Gr.comparator(this.path,e.path)},e.prototype.toString=function(){return this.path.toString()},e.comparator=function(e,t){return Gr.comparator(e.path,t.path)},e.isDocumentKey=function(e){return e.length%2==0},e.fromSegments=function(t){return new e(new Gr(t.slice()))},e}();function ui(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ti(e)?4:10:Nr()}function ci(e,t){var n=ui(e);if(n!==ui(t))return!1;switch(n){case 0:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ri(e).isEqual(ri(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Zr(e.timestampValue),r=Zr(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ei(e.bytesValue).isEqual(ei(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Jr(e.geoPointValue.latitude)===Jr(t.geoPointValue.latitude)&&Jr(e.geoPointValue.longitude)===Jr(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Jr(e.integerValue)===Jr(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Jr(e.doubleValue),r=Jr(t.doubleValue);return n===r?oi(n)===oi(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Fr(e.arrayValue.values||[],t.arrayValue.values||[],ci);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Vr(n)!==Vr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ci(n[i],r[i])))return!1;return!0}(e,t);default:return Nr()}}function li(e,t){return void 0!==(e.values||[]).find((function(e){return ci(e,t)}))}function fi(e,t){var n=ui(e),r=ui(t);if(n!==r)return jr(n,r);switch(n){case 0:return 0;case 1:return jr(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Jr(e.integerValue||e.doubleValue),r=Jr(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return hi(e.timestampValue,t.timestampValue);case 4:return hi(ri(e),ri(t));case 5:return jr(e.stringValue,t.stringValue);case 6:return function(e,t){var n=ei(e),r=ei(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var o=jr(n[i],r[i]);if(0!==o)return o}return jr(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=jr(Jr(e.latitude),Jr(t.latitude));return 0!==n?n:jr(Jr(e.longitude),Jr(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var o=fi(n[i],r[i]);if(o)return o}return jr(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=jr(r[a],o[a]);if(0!==s)return s;var u=fi(n[r[a]],i[o[a]]);if(0!==u)return u}return jr(r.length,o.length)}(e.mapValue,t.mapValue);default:throw Nr()}}function hi(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return jr(e,t);var n=Zr(e),r=Zr(t),i=jr(n.seconds,r.seconds);return 0!==i?i:jr(n.nanos,r.nanos)}function di(e){return pi(e)}function pi(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Zr(e);return"time("+t.seconds+","+t.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ei(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,si.fromName(n).toString()):"geoPointValue"in e?"geo("+(t=e.geoPointValue).latitude+","+t.longitude+")":"arrayValue"in e?function(e){for(var t="[",n=!0,r=0,i=e.values||[];r<i.length;r++)n?n=!1:t+=",",t+=pi(i[r]);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var t="{",n=!0,r=0,i=Object.keys(e.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:t+=",",t+=o+":"+pi(e.fields[o])}return t+"}"}(e.mapValue):Nr();var t,n}function vi(e,t){return{referenceValue:"projects/"+e.projectId+"/databases/"+e.database+"/documents/"+t.path.canonicalString()}}function gi(e){return!!e&&"integerValue"in e}function mi(e){return!!e&&"arrayValue"in e}function yi(e){return!!e&&"nullValue"in e}function _i(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function bi(e){return!!e&&"mapValue"in e}function wi(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return zr(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=wi(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=wi(e.arrayValue.values[r]);return n}return Object.assign({},e)}var ki=function(){function e(e){this.value=e}return e.empty=function(){return new e({mapValue:{}})},e.prototype.field=function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!bi(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null},e.prototype.set=function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wi(t)},e.prototype.setAll=function(e){var t=this,n=Yr.emptyPath(),r={},i=[];e.forEach((function(e,o){if(!n.isImmediateParentOf(o)){var a=t.getFieldsMap(n);t.applyChanges(a,r,i),r={},i=[],n=o.popLast()}e?r[o.lastSegment()]=wi(e):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},e.prototype.delete=function(e){var t=this.field(e.popLast());bi(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]},e.prototype.isEqual=function(e){return ci(this.value,e.value)},e.prototype.getFieldsMap=function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];bi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields},e.prototype.applyChanges=function(e,t,n){zr(t,(function(t,n){return e[t]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete e[o]}},e.prototype.clone=function(){return new e(wi(this.value))},e}();function Ii(e){var t=[];return zr(e.fields,(function(e,n){var r=new Yr([e]);if(bi(n)){var i=Ii(n.mapValue).fields;if(0===i.length)t.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];t.push(r.child(s))}}else t.push(r)})),new $r(t)}var Si=function(){function e(e,t,n,r,i){this.key=e,this.documentType=t,this.version=n,this.data=r,this.documentState=i}return e.newInvalidDocument=function(t){return new e(t,0,Br.min(),ki.empty(),0)},e.newFoundDocument=function(t,n,r){return new e(t,1,n,r,0)},e.newNoDocument=function(t,n){return new e(t,2,n,ki.empty(),0)},e.newUnknownDocument=function(t,n){return new e(t,3,n,ki.empty(),2)},e.prototype.convertToFoundDocument=function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this},e.prototype.convertToNoDocument=function(e){return this.version=e,this.documentType=2,this.data=ki.empty(),this.documentState=0,this},e.prototype.convertToUnknownDocument=function(e){return this.version=e,this.documentType=3,this.data=ki.empty(),this.documentState=2,this},e.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},e.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(e.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isValidDocument=function(){return 0!==this.documentType},e.prototype.isFoundDocument=function(){return 1===this.documentType},e.prototype.isNoDocument=function(){return 2===this.documentType},e.prototype.isUnknownDocument=function(){return 3===this.documentType},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)},e.prototype.clone=function(){return new e(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},e}(),Ti=function(e,t,n,r,i,o,a){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Ei(e,t,n,r,i,o,a){return void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ti(e,t,n,r,i,o,a)}function Ci(e){var t=Dr(e);if(null===t.h){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return function(e){return e.field.canonicalString()+e.op.toString()+di(e.value)}(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),ii(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=qi(t.startAt)),t.endAt&&(n+="|ub:",n+=qi(t.endAt)),t.h=n}return t.h}function xi(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Vi(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],o=t.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ci(i.value,o.value))return!1;var i,o;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Wi(e.startAt,t.startAt)&&Wi(e.endAt,t.endAt)}function Ai(e){return si.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var Pi=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).field=t,i.op=n,i.value=r,i}return(0,i.__extends)(t,e),t.create=function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.l(e,n,r):new Oi(e,n,r):"array-contains"===n?new Mi(e,r):"in"===n?new Li(e,r):"not-in"===n?new ji(e,r):"array-contains-any"===n?new Fi(e,r):new t(e,n,r)},t.l=function(e,t,n){return"in"===t?new Ni(e,n):new Ri(e,n)},t.prototype.matches=function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.m(fi(t,this.value)):null!==t&&ui(this.value)===ui(t)&&this.m(fi(t,this.value))},t.prototype.m=function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Nr()}},t.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},t}((function(){})),Oi=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,r)||this).key=si.fromName(r.referenceValue),i}return(0,i.__extends)(t,e),t.prototype.matches=function(e){var t=si.comparator(e.key,this.key);return this.m(t)},t}(Pi),Ni=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"in",n)||this).keys=Di("in",n),r}return(0,i.__extends)(t,e),t.prototype.matches=function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Pi),Ri=function(e){function t(t,n){var r=this;return(r=e.call(this,t,"not-in",n)||this).keys=Di("not-in",n),r}return(0,i.__extends)(t,e),t.prototype.matches=function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))},t}(Pi);function Di(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return si.fromName(e.referenceValue)}))}var Mi=function(e){function t(t,n){return e.call(this,t,"array-contains",n)||this}return(0,i.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return mi(t)&&li(t.arrayValue,this.value)},t}(Pi),Li=function(e){function t(t,n){return e.call(this,t,"in",n)||this}return(0,i.__extends)(t,e),t.prototype.matches=function(e){var t=e.data.field(this.field);return null!==t&&li(this.value.arrayValue,t)},t}(Pi),ji=function(e){function t(t,n){return e.call(this,t,"not-in",n)||this}return(0,i.__extends)(t,e),t.prototype.matches=function(e){if(li(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!li(this.value.arrayValue,t)},t}(Pi),Fi=function(e){function t(t,n){return e.call(this,t,"array-contains-any",n)||this}return(0,i.__extends)(t,e),t.prototype.matches=function(e){var t=this,n=e.data.field(this.field);return!(!mi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return li(t.value.arrayValue,e)}))},t}(Pi),Ui=function(e,t){this.position=e,this.before=t};function qi(e){return(e.before?"b":"a")+":"+e.position.map((function(e){return di(e)})).join(",")}var Bi=function(e,t){void 0===t&&(t="asc"),this.field=e,this.dir=t};function Vi(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function zi(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var o=t[i],a=e.position[i];if(r=o.field.isKeyField()?si.comparator(si.fromName(a.referenceValue),n.key):fi(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return e.before?r<=0:r<0}function Wi(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.before!==t.before||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!ci(e.position[n],t.position[n]))return!1;return!0}var Ki=function(e,t,n,r,i,o,a,s){void 0===t&&(t=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Gi(e,t,n,r,i,o,a,s){return new Ki(e,t,n,r,i,o,a,s)}function Hi(e){return new Ki(e)}function Yi(e){return!ii(e.limit)&&"F"===e.limitType}function $i(e){return!ii(e.limit)&&"L"===e.limitType}function Xi(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Qi(e){for(var t=0,n=e.filters;t<n.length;t++){var r=n[t];if(r.g())return r.field}return null}function Zi(e){return null!==e.collectionGroup}function Ji(e){var t=Dr(e);if(null===t.p){t.p=[];var n=Qi(t),r=Xi(t);if(null!==n&&null===r)n.isKeyField()||t.p.push(new Bi(n)),t.p.push(new Bi(Yr.keyField(),"asc"));else{for(var i=!1,o=0,a=t.explicitOrderBy;o<a.length;o++){var s=a[o];t.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.p.push(new Bi(Yr.keyField(),u))}}}return t.p}function eo(e){var t=Dr(e);if(!t.T)if("F"===t.limitType)t.T=Ei(t.path,t.collectionGroup,Ji(t),t.filters,t.limit,t.startAt,t.endAt);else{for(var n=[],r=0,i=Ji(t);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Bi(o.field,a))}var s=t.endAt?new Ui(t.endAt.position,!t.endAt.before):null,u=t.startAt?new Ui(t.startAt.position,!t.startAt.before):null;t.T=Ei(t.path,t.collectionGroup,n,t.filters,t.limit,s,u)}return t.T}function to(e,t,n){return new Ki(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function no(e,t){return xi(eo(e),eo(t))&&e.limitType===t.limitType}function ro(e){return Ci(eo(e))+"|lt:"+e.limitType}function io(e){return"Query(target="+function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: ["+e.filters.map((function(e){return(t=e).field.canonicalString()+" "+t.op+" "+di(t.value);var t})).join(", ")+"]"),ii(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: ["+e.orderBy.map((function(e){return function(e){return e.field.canonicalString()+" ("+e.dir+")"}(e)})).join(", ")+"]"),e.startAt&&(t+=", startAt: "+qi(e.startAt)),e.endAt&&(t+=", endAt: "+qi(e.endAt)),"Target("+t+")"}(eo(e))+"; limitType="+e.limitType+")"}function oo(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):si.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(var n=0,r=e.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}return!0}(e,t)&&function(e,t){for(var n=0,r=e.filters;n<r.length;n++)if(!r[n].matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!zi(e.startAt,Ji(e),t))&&(!e.endAt||!zi(e.endAt,Ji(e),t))}(e,t)}function ao(e){return function(t,n){for(var r=!1,i=0,o=Ji(e);i<o.length;i++){var a=o[i],s=so(a,t,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function so(e,t,n){var r=e.field.isKeyField()?si.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?fi(r,i):Nr()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Nr()}}function uo(e,t){if(e.I){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oi(t)?"-0":t}}function co(e){return{integerValue:""+e}}function lo(e,t){return ai(t)?co(t):uo(e,t)}var fo=function(){this._=void 0};function ho(e,t,n){return e instanceof go?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof mo?yo(e,t):e instanceof _o?bo(e,t):function(e,t){var n=vo(e,t),r=ko(n)+ko(e.A);return gi(n)&&gi(e.A)?co(r):uo(e.R,r)}(e,t)}function po(e,t,n){return e instanceof mo?yo(e,t):e instanceof _o?bo(e,t):n}function vo(e,t){return e instanceof wo?gi(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var go=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t}(fo),mo=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,i.__extends)(t,e),t}(fo);function yo(e,t){for(var n=Io(t),r=function(e){n.some((function(t){return ci(t,e)}))||n.push(e)},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var _o=function(e){function t(t){var n=this;return(n=e.call(this)||this).elements=t,n}return(0,i.__extends)(t,e),t}(fo);function bo(e,t){for(var n=Io(t),r=function(e){n=n.filter((function(t){return!ci(t,e)}))},i=0,o=e.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var wo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).R=t,r.A=n,r}return(0,i.__extends)(t,e),t}(fo);function ko(e){return Jr(e.integerValue||e.doubleValue)}function Io(e){return mi(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var So=function(e,t){this.field=e,this.transform=t},To=function(e,t){this.version=e,this.transformResults=t},Eo=function(){function e(e,t){this.updateTime=e,this.exists=t}return e.none=function(){return new e},e.exists=function(t){return new e(void 0,t)},e.updateTime=function(t){return new e(t)},Object.defineProperty(e.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)},e}();function Co(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var xo=function(){};function Ao(e,t,n){e instanceof Do?function(e,t,n){var r=e.value.clone(),i=jo(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Mo?function(e,t,n){if(Co(e.precondition,t)){var r=jo(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Lo(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Po(e,t,n){e instanceof Do?function(e,t,n){if(Co(e.precondition,t)){var r=e.value.clone(),i=Fo(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(Ro(t),r).setHasLocalMutations()}}(e,t,n):e instanceof Mo?function(e,t,n){if(Co(e.precondition,t)){var r=Fo(e.fieldTransforms,n,t),i=t.data;i.setAll(Lo(e)),i.setAll(r),t.convertToFoundDocument(Ro(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){Co(e.precondition,t)&&t.convertToNoDocument(Br.min())}(e,t)}function Oo(e,t){for(var n=null,r=0,i=e.fieldTransforms;r<i.length;r++){var o=i[r],a=t.data.field(o.field),s=vo(o.transform,a||null);null!=s&&(null==n&&(n=ki.empty()),n.set(o.field,s))}return n||null}function No(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Fr(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof mo&&t instanceof mo||e instanceof _o&&t instanceof _o?Fr(e.elements,t.elements,ci):e instanceof wo&&t instanceof wo?ci(e.A,t.A):e instanceof go&&t instanceof go}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function Ro(e){return e.isFoundDocument()?e.version:Br.min()}var Do=function(e){function t(t,n,r,i){void 0===i&&(i=[]);var o=this;return(o=e.call(this)||this).key=t,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,i.__extends)(t,e),t}(xo),Mo=function(e){function t(t,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=e.call(this)||this).key=t,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,i.__extends)(t,e),t}(xo);function Lo(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function jo(e,t,n){var r=new Map;Rr(e.length===n.length);for(var i=0;i<n.length;i++){var o=e[i],a=o.transform,s=t.data.field(o.field);r.set(o.field,po(a,s,n[i]))}return r}function Fo(e,t,n){for(var r=new Map,i=0,o=e;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,ho(s,u,t))}return r}var Uo,qo,Bo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,i.__extends)(t,e),t}(xo),Vo=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).key=t,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,i.__extends)(t,e),t}(xo),zo=function(e){this.count=e};function Wo(e){switch(e){case Sr.OK:return Nr();case Sr.CANCELLED:case Sr.UNKNOWN:case Sr.DEADLINE_EXCEEDED:case Sr.RESOURCE_EXHAUSTED:case Sr.INTERNAL:case Sr.UNAVAILABLE:case Sr.UNAUTHENTICATED:return!1;case Sr.INVALID_ARGUMENT:case Sr.NOT_FOUND:case Sr.ALREADY_EXISTS:case Sr.PERMISSION_DENIED:case Sr.FAILED_PRECONDITION:case Sr.ABORTED:case Sr.OUT_OF_RANGE:case Sr.UNIMPLEMENTED:case Sr.DATA_LOSS:return!0;default:return Nr()}}function Ko(e){if(void 0===e)return Ar("GRPC error has no .code"),Sr.UNKNOWN;switch(e){case Uo.OK:return Sr.OK;case Uo.CANCELLED:return Sr.CANCELLED;case Uo.UNKNOWN:return Sr.UNKNOWN;case Uo.DEADLINE_EXCEEDED:return Sr.DEADLINE_EXCEEDED;case Uo.RESOURCE_EXHAUSTED:return Sr.RESOURCE_EXHAUSTED;case Uo.INTERNAL:return Sr.INTERNAL;case Uo.UNAVAILABLE:return Sr.UNAVAILABLE;case Uo.UNAUTHENTICATED:return Sr.UNAUTHENTICATED;case Uo.INVALID_ARGUMENT:return Sr.INVALID_ARGUMENT;case Uo.NOT_FOUND:return Sr.NOT_FOUND;case Uo.ALREADY_EXISTS:return Sr.ALREADY_EXISTS;case Uo.PERMISSION_DENIED:return Sr.PERMISSION_DENIED;case Uo.FAILED_PRECONDITION:return Sr.FAILED_PRECONDITION;case Uo.ABORTED:return Sr.ABORTED;case Uo.OUT_OF_RANGE:return Sr.OUT_OF_RANGE;case Uo.UNIMPLEMENTED:return Sr.UNIMPLEMENTED;case Uo.DATA_LOSS:return Sr.DATA_LOSS;default:return Nr()}}(qo=Uo||(Uo={}))[qo.OK=0]="OK",qo[qo.CANCELLED=1]="CANCELLED",qo[qo.UNKNOWN=2]="UNKNOWN",qo[qo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qo[qo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qo[qo.NOT_FOUND=5]="NOT_FOUND",qo[qo.ALREADY_EXISTS=6]="ALREADY_EXISTS",qo[qo.PERMISSION_DENIED=7]="PERMISSION_DENIED",qo[qo.UNAUTHENTICATED=16]="UNAUTHENTICATED",qo[qo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qo[qo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qo[qo.ABORTED=10]="ABORTED",qo[qo.OUT_OF_RANGE=11]="OUT_OF_RANGE",qo[qo.UNIMPLEMENTED=12]="UNIMPLEMENTED",qo[qo.INTERNAL=13]="INTERNAL",qo[qo.UNAVAILABLE=14]="UNAVAILABLE",qo[qo.DATA_LOSS=15]="DATA_LOSS";var Go=function(){function e(e,t){this.comparator=e,this.root=t||Yo.EMPTY}return e.prototype.insert=function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Yo.BLACK,null,null))},e.prototype.remove=function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yo.BLACK,null,null))},e.prototype.get=function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null},e.prototype.indexOf=function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1},e.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(e.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),e.prototype.minKey=function(){return this.root.minKey()},e.prototype.maxKey=function(){return this.root.maxKey()},e.prototype.inorderTraversal=function(e){return this.root.inorderTraversal(e)},e.prototype.forEach=function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))},e.prototype.toString=function(){var e=[];return this.inorderTraversal((function(t,n){return e.push(t+":"+n),!1})),"{"+e.join(", ")+"}"},e.prototype.reverseTraversal=function(e){return this.root.reverseTraversal(e)},e.prototype.getIterator=function(){return new Ho(this.root,null,this.comparator,!1)},e.prototype.getIteratorFrom=function(e){return new Ho(this.root,e,this.comparator,!1)},e.prototype.getReverseIterator=function(){return new Ho(this.root,null,this.comparator,!0)},e.prototype.getReverseIteratorFrom=function(e){return new Ho(this.root,e,this.comparator,!0)},e}(),Ho=function(){function e(e,t,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!e.isEmpty();)if(i=t?n(e.key,t):1,r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}return e.prototype.getNext=function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t},e.prototype.hasNext=function(){return this.nodeStack.length>0},e.prototype.peek=function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}},e}(),Yo=function(){function e(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=o?o:e.EMPTY,this.size=this.left.size+1+this.right.size}return e.prototype.copy=function(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},e.prototype.isEmpty=function(){return!1},e.prototype.inorderTraversal=function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)},e.prototype.reverseTraversal=function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)},e.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},e.prototype.minKey=function(){return this.min().key},e.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},e.prototype.insert=function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()},e.prototype.removeMin=function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()},e.prototype.remove=function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()},e.prototype.isRed=function(){return this.color},e.prototype.fixUp=function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e},e.prototype.moveRedLeft=function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e},e.prototype.moveRedRight=function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e},e.prototype.rotateLeft=function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)},e.prototype.rotateRight=function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)},e.prototype.colorFlip=function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)},e.prototype.checkMaxDepth=function(){var e=this.check();return Math.pow(2,e)<=this.size+1},e.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Nr();if(this.right.isRed())throw Nr();var e=this.left.check();if(e!==this.right.check())throw Nr();return e+(this.isRed()?0:1)},e}();Yo.EMPTY=null,Yo.RED=!0,Yo.BLACK=!1,Yo.EMPTY=new(function(){function e(){this.size=0}return Object.defineProperty(e.prototype,"key",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),e.prototype.copy=function(e,t,n,r,i){return this},e.prototype.insert=function(e,t,n){return new Yo(e,t)},e.prototype.remove=function(e,t){return this},e.prototype.isEmpty=function(){return!0},e.prototype.inorderTraversal=function(e){return!1},e.prototype.reverseTraversal=function(e){return!1},e.prototype.minKey=function(){return null},e.prototype.maxKey=function(){return null},e.prototype.isRed=function(){return!1},e.prototype.checkMaxDepth=function(){return!0},e.prototype.check=function(){return 0},e}());var $o=function(){function e(e){this.comparator=e,this.data=new Go(this.comparator)}return e.prototype.has=function(e){return null!==this.data.get(e)},e.prototype.first=function(){return this.data.minKey()},e.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(e.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),e.prototype.indexOf=function(e){return this.data.indexOf(e)},e.prototype.forEach=function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.forEachInRange=function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}},e.prototype.forEachWhile=function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return},e.prototype.firstAfterOrEqual=function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null},e.prototype.getIterator=function(){return new Xo(this.data.getIterator())},e.prototype.getIteratorFrom=function(e){return new Xo(this.data.getIteratorFrom(e))},e.prototype.add=function(e){return this.copy(this.data.remove(e).insert(e,!0))},e.prototype.delete=function(e){return this.has(e)?this.copy(this.data.remove(e)):this},e.prototype.isEmpty=function(){return this.data.isEmpty()},e.prototype.unionWith=function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},e.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},e.prototype.toString=function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"},e.prototype.copy=function(t){var n=new e(this.comparator);return n.data=t,n},e}(),Xo=function(){function e(e){this.iter=e}return e.prototype.getNext=function(){return this.iter.getNext().key},e.prototype.hasNext=function(){return this.iter.hasNext()},e}(),Qo=new Go(si.comparator);function Zo(){return Qo}var Jo=new Go(si.comparator);function ea(){return Jo}var ta=new Go(si.comparator);function na(){return ta}var ra=new $o(si.comparator);function ia(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=ra,r=0,i=e;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var oa=new $o(jr);function aa(){return oa}var sa=function(){function e(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return e.createSynthesizedRemoteEventForCurrentChange=function(t,n){var r=new Map;return r.set(t,ua.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(Br.min(),r,aa(),Zo(),ia())},e}(),ua=function(){function e(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return e.createSynthesizedTargetChangeForCurrentChange=function(t,n){return new e(Xr.EMPTY_BYTE_STRING,n,ia(),ia(),ia())},e}(),ca=function(e,t,n,r){this.v=e,this.removedTargetIds=t,this.key=n,this.P=r},la=function(e,t){this.targetId=e,this.V=t},fa=function(e,t,n,r){void 0===n&&(n=Xr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r},ha=function(){function e(){this.S=0,this.D=va(),this.C=Xr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(e.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),e.prototype.O=function(e){e.approximateByteSize()>0&&(this.k=!0,this.C=e)},e.prototype.M=function(){var e=ia(),t=ia(),n=ia();return this.D.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Nr()}})),new ua(this.C,this.N,e,t,n)},e.prototype.L=function(){this.k=!1,this.D=va()},e.prototype.B=function(e,t){this.k=!0,this.D=this.D.insert(e,t)},e.prototype.q=function(e){this.k=!0,this.D=this.D.remove(e)},e.prototype.U=function(){this.S+=1},e.prototype.K=function(){this.S-=1},e.prototype.j=function(){this.k=!0,this.N=!0},e}(),da=function(){function e(e){this.W=e,this.G=new Map,this.H=Zo(),this.J=pa(),this.Y=new $o(jr)}return e.prototype.X=function(e){for(var t=0,n=e.v;t<n.length;t++){var r=n[t];e.P&&e.P.isFoundDocument()?this.Z(r,e.P):this.tt(r,e.key,e.P)}for(var i=0,o=e.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,e.key,e.P)},e.prototype.et=function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.nt(n);switch(e.state){case 0:t.st(n)&&r.O(e.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(e.resumeToken);break;case 2:r.K(),r.F||t.removeTarget(n);break;case 3:t.st(n)&&(r.j(),r.O(e.resumeToken));break;case 4:t.st(n)&&(t.it(n),r.O(e.resumeToken));break;default:Nr()}}))},e.prototype.forEachTarget=function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.G.forEach((function(e,r){n.st(r)&&t(r)}))},e.prototype.rt=function(e){var t=e.targetId,n=e.V.count,r=this.ot(t);if(r){var i=r.target;if(Ai(i))if(0===n){var o=new si(i.path);this.tt(t,o,Si.newNoDocument(o,Br.min()))}else Rr(1===n);else this.ct(t)!==n&&(this.it(t),this.Y=this.Y.add(t))}},e.prototype.ut=function(e){var t=this,n=new Map;this.G.forEach((function(r,i){var o=t.ot(i);if(o){if(r.current&&Ai(o.target)){var a=new si(o.target.path);null!==t.H.get(a)||t.at(i,a)||t.tt(i,a,Si.newNoDocument(a,e))}r.$&&(n.set(i,r.M()),r.L())}}));var r=ia();this.J.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.ot(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))}));var i=new sa(e,n,this.Y,this.H,r);return this.H=Zo(),this.J=pa(),this.Y=new $o(jr),i},e.prototype.Z=function(e,t){if(this.st(e)){var n=this.at(e,t.key)?2:0;this.nt(e).B(t.key,n),this.H=this.H.insert(t.key,t),this.J=this.J.insert(t.key,this.ht(t.key).add(e))}},e.prototype.tt=function(e,t,n){if(this.st(e)){var r=this.nt(e);this.at(e,t)?r.B(t,1):r.q(t),this.J=this.J.insert(t,this.ht(t).delete(e)),n&&(this.H=this.H.insert(t,n))}},e.prototype.removeTarget=function(e){this.G.delete(e)},e.prototype.ct=function(e){var t=this.nt(e).M();return this.W.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size},e.prototype.U=function(e){this.nt(e).U()},e.prototype.nt=function(e){var t=this.G.get(e);return t||(t=new ha,this.G.set(e,t)),t},e.prototype.ht=function(e){var t=this.J.get(e);return t||(t=new $o(jr),this.J=this.J.insert(e,t)),t},e.prototype.st=function(e){var t=null!==this.ot(e);return t||xr("WatchChangeAggregator","Detected inactive target",e),t},e.prototype.ot=function(e){var t=this.G.get(e);return t&&t.F?null:this.W.lt(e)},e.prototype.it=function(e){var t=this;this.G.set(e,new ha),this.W.getRemoteKeysForTarget(e).forEach((function(n){t.tt(e,n,null)}))},e.prototype.at=function(e,t){return this.W.getRemoteKeysForTarget(e).has(t)},e}();function pa(){return new Go(si.comparator)}function va(){return new Go(si.comparator)}var ga={asc:"ASCENDING",desc:"DESCENDING"},ma={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ya=function(e,t){this.databaseId=e,this.I=t};function _a(e,t){return e.I?new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+t.nanoseconds).slice(-9)+"Z":{seconds:""+t.seconds,nanos:t.nanoseconds}}function ba(e,t){return e.I?t.toBase64():t.toUint8Array()}function wa(e,t){return _a(e,t.toTimestamp())}function ka(e){return Rr(!!e),Br.fromTimestamp(function(e){var t=Zr(e);return new qr(t.seconds,t.nanos)}(e))}function Ia(e,t){return function(e){return new Gr(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Sa(e){var t=Gr.fromString(e);return Rr(Ya(t)),t}function Ta(e,t){return Ia(e.databaseId,t.path)}function Ea(e,t){var n=Sa(t);if(n.get(1)!==e.databaseId.projectId)throw new Tr(Sr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Tr(Sr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new si(Pa(n))}function Ca(e,t){return Ia(e.databaseId,t)}function xa(e){var t=Sa(e);return 4===t.length?Gr.emptyPath():Pa(t)}function Aa(e){return new Gr(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Pa(e){return Rr(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Oa(e,t,n){return{name:Ta(e,t),fields:n.value.mapValue.fields}}function Na(e,t,n){var r=Ea(e,t.name),i=ka(t.updateTime),o=new ki({mapValue:{fields:t.fields}}),a=Si.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Ra(e,t){var n;if(t instanceof Do)n={update:Oa(e,t.key,t.value)};else if(t instanceof Bo)n={delete:Ta(e,t.key)};else if(t instanceof Mo)n={update:Oa(e,t.key,t.data),updateMask:Ha(t.fieldMask)};else{if(!(t instanceof Vo))return Nr();n={verify:Ta(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof go)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof mo)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _o)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wo)return{fieldPath:t.field.canonicalString(),increment:n.A};throw Nr()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:wa(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Nr()}(e,t.precondition)),n}function Da(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?Eo.updateTime(ka(e.updateTime)):void 0!==e.exists?Eo.exists(e.exists):Eo.none()}(t.currentDocument):Eo.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Rr("REQUEST_TIME"===t.setToServerValue),n=new go;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new mo(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new _o(i)}else"increment"in t?n=new wo(e,t.increment):Nr();var o=Yr.fromServerFormat(t.fieldPath);return new So(o,n)}(e,t)})):[];if(t.update){t.update.name;var i=Ea(e,t.update.name),o=new ki({mapValue:{fields:t.update.fields}});if(t.updateMask){var a=function(e){var t=e.fieldPaths||[];return new $r(t.map((function(e){return Yr.fromServerFormat(e)})))}(t.updateMask);return new Mo(i,o,a,n,r)}return new Do(i,o,n,r)}if(t.delete){var s=Ea(e,t.delete);return new Bo(s,n)}if(t.verify){var u=Ea(e,t.verify);return new Vo(u,n)}return Nr()}function Ma(e,t){return{documents:[Ca(e,t.path)]}}function La(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Ca(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Ca(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(_i(e.value))return{unaryFilter:{field:za(e.field),op:"IS_NAN"}};if(yi(e.value))return{unaryFilter:{field:za(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_i(e.value))return{unaryFilter:{field:za(e.field),op:"IS_NOT_NAN"}};if(yi(e.value))return{unaryFilter:{field:za(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(e.field),op:Va(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:za(e.field),direction:Ba(e.dir)}}(e)}))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(e,t){return e.I||ii(t)?t:{value:t}}(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=Ua(t.startAt)),t.endAt&&(n.structuredQuery.endAt=Ua(t.endAt)),n}function ja(e){var t=xa(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Rr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:t=t.child(o.collectionId)}var a=[];n.where&&(a=Fa(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Bi(Wa(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return ii(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=qa(n.startAt));var l=null;return n.endAt&&(l=qa(n.endAt)),Gi(t,i,s,a,u,"F",c,l)}function Fa(e){return e?void 0!==e.unaryFilter?[Ga(e)]:void 0!==e.fieldFilter?[Ka(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return Fa(e)})).reduce((function(e,t){return e.concat(t)})):Nr():[]}function Ua(e){return{before:e.before,values:e.position}}function qa(e){var t=!!e.before,n=e.values||[];return new Ui(n,t)}function Ba(e){return ga[e]}function Va(e){return ma[e]}function za(e){return{fieldPath:e.canonicalString()}}function Wa(e){return Yr.fromServerFormat(e.fieldPath)}function Ka(e){return Pi.create(Wa(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nr()}}(e.fieldFilter.op),e.fieldFilter.value)}function Ga(e){switch(e.unaryFilter.op){case"IS_NAN":var t=Wa(e.unaryFilter.field);return Pi.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=Wa(e.unaryFilter.field);return Pi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Wa(e.unaryFilter.field);return Pi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Wa(e.unaryFilter.field);return Pi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Nr()}}function Ha(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Ya(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function $a(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Qa(t)),t=Xa(e.get(n),t);return Qa(t)}function Xa(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var o=e.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Qa(e){return e+"\x01\x01"}function Za(e){var t=e.length;if(Rr(t>=2),2===t)return Rr("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Gr.emptyPath();for(var n=t-2,r=[],i="",o=0;o<t;){var a=e.indexOf("\x01",o);switch((a<0||a>n)&&Nr(),e.charAt(a+1)){case"\x01":var s=e.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=e.substring(o,a),i+="\0";break;case"\x11":i+=e.substring(o,a+1);break;default:Nr()}o=a+2}return new Gr(r)}var Ja=function(e,t){this.seconds=e,this.nanoseconds=t},es=function(e,t,n){this.ownerId=e,this.allowTabSynchronization=t,this.leaseTimestampMs=n};es.store="owner",es.key="owner";var ts=function(e,t,n){this.userId=e,this.lastAcknowledgedBatchId=t,this.lastStreamToken=n};ts.store="mutationQueues",ts.keyPath="userId";var ns=function(e,t,n,r,i){this.userId=e,this.batchId=t,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};ns.store="mutations",ns.keyPath="batchId",ns.userMutationsIndex="userMutationsIndex",ns.userMutationsKeyPath=["userId","batchId"];var rs=function(){function e(){}return e.prefixForUser=function(e){return[e]},e.prefixForPath=function(e,t){return[e,$a(t)]},e.key=function(e,t,n){return[e,$a(t),n]},e}();rs.store="documentMutations",rs.PLACEHOLDER=new rs;var is=function(e,t){this.path=e,this.readTime=t},os=function(e,t){this.path=e,this.version=t},as=function(e,t,n,r,i,o){this.unknownDocument=e,this.noDocument=t,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};as.store="remoteDocuments",as.readTimeIndex="readTimeIndex",as.readTimeIndexPath="readTime",as.collectionReadTimeIndex="collectionReadTimeIndex",as.collectionReadTimeIndexPath=["parentPath","readTime"];var ss=function(e){this.byteSize=e};ss.store="remoteDocumentGlobal",ss.key="remoteDocumentGlobalKey";var us=function(e,t,n,r,i,o,a){this.targetId=e,this.canonicalId=t,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};us.store="targets",us.keyPath="targetId",us.queryTargetsIndexName="queryTargetsIndex",us.queryTargetsKeyPath=["canonicalId","targetId"];var cs=function(e,t,n){this.targetId=e,this.path=t,this.sequenceNumber=n};cs.store="targetDocuments",cs.keyPath=["targetId","path"],cs.documentTargetsIndex="documentTargetsIndex",cs.documentTargetsKeyPath=["path","targetId"];var ls=function(e,t,n,r){this.highestTargetId=e,this.highestListenSequenceNumber=t,this.lastRemoteSnapshotVersion=n,this.targetCount=r};ls.key="targetGlobalKey",ls.store="targetGlobal";var fs=function(e,t){this.collectionId=e,this.parent=t};fs.store="collectionParents",fs.keyPath=["collectionId","parent"];var hs=function(e,t,n,r){this.clientId=e,this.updateTimeMs=t,this.networkEnabled=n,this.inForeground=r};hs.store="clientMetadata",hs.keyPath="clientId";var ds=function(e,t,n){this.bundleId=e,this.createTime=t,this.version=n};ds.store="bundles",ds.keyPath="bundleId";var ps=function(e,t,n){this.name=e,this.readTime=t,this.bundledQuery=n};ps.store="namedQueries",ps.keyPath="name";var vs=(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__spreadArray)((0,i.__spreadArray)([],(0,i.__spreadArray)((0,i.__spreadArray)([],[ts.store,ns.store,rs.store,as.store,us.store,es.store,ls.store,cs.store]),[hs.store])),[ss.store])),[fs.store])),[ds.store,ps.store]),gs="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ms=function(){function e(){this.onCommittedListeners=[]}return e.prototype.addOnCommittedListener=function(e){this.onCommittedListeners.push(e)},e.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(e){return e()}))},e}(),ys=function(){var e=this;this.promise=new Promise((function(t,n){e.resolve=t,e.reject=n}))},_s=function(){function e(e){var t=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((function(e){t.isDone=!0,t.result=e,t.nextCallback&&t.nextCallback(e)}),(function(e){t.isDone=!0,t.error=e,t.catchCallback&&t.catchCallback(e)}))}return e.prototype.catch=function(e){return this.next(void 0,e)},e.prototype.next=function(t,n){var r=this;return this.callbackAttached&&Nr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))},e.prototype.toPromise=function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))},e.prototype.wrapUserFunction=function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}},e.prototype.wrapSuccess=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)},e.prototype.wrapFailure=function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)},e.resolve=function(t){return new e((function(e,n){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.waitFor=function(t){return new e((function(e,n){var r=0,i=0,o=!1;t.forEach((function(t){++r,t.next((function(){++i,o&&i===r&&e()}),(function(e){return n(e)}))})),o=!0,i===r&&e()}))},e.or=function(t){for(var n=e.resolve(!1),r=function(t){n=n.next((function(n){return n?e.resolve(n):t()}))},i=0,o=t;i<o.length;i++)r(o[i]);return n},e.forEach=function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)},e}(),bs=function(){function e(e,t){var n=this;this.action=e,this.transaction=t,this.aborted=!1,this.ft=new ys,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){t.error?n.ft.reject(new Is(e,t.error)):n.ft.resolve()},this.transaction.onerror=function(t){var r=xs(t.target.error);n.ft.reject(new Is(e,r))}}return e.open=function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new Is(n,t)}},Object.defineProperty(e.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),e.prototype.abort=function(e){e&&this.ft.reject(e),this.aborted||(xr("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},e.prototype.store=function(e){var t=this.transaction.objectStore(e);return new Ts(t)},e}(),ws=function(){function e(t,n,r){this.name=t,this.version=n,this.wt=r,12.2===e._t((0,o.getUA)())&&Ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return e.delete=function(e){return xr("SimpleDb","Removing database:",e),Es(window.indexedDB.deleteDatabase(e)).toPromise()},e.yt=function(){if("undefined"==typeof indexedDB)return!1;if(e.gt())return!0;var t=(0,o.getUA)(),n=e._t(t),r=0<n&&n<10,i=e.Et(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)},e.gt=function(){var e;return"undefined"!=typeof kr&&"YES"===(null===(e=kr.env)||void 0===e?void 0:e.Tt)},e.It=function(e,t){return e.store(t)},e._t=function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)},e.Et=function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)},e.prototype.At=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(xr("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(e){var n=e.target.result;t(n)},i.onblocked=function(){r(new Is(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(t){var n=t.target.error;"VersionError"===n.name?r(new Tr(Sr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Is(e,n))},i.onupgradeneeded=function(e){xr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.wt.Rt(t,i.transaction,e.oldVersion,n.version).next((function(){xr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:t.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(e){return n.bt(e)}),this.db)]}}))}))},e.prototype.vt=function(e){this.bt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})},e.prototype.runTransaction=function(e,t,n,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c;return(0,i.__generator)(this,(function(l){switch(l.label){case 0:o="readonly"===t,a=0,s=function(){var t,s,c,l,f;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:++a,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,u.At(e)];case 2:return u.db=i.sent(),t=bs.open(u.db,e,o?"readonly":"readwrite",n),s=r(t).catch((function(e){return t.abort(e),_s.reject(e)})).toPromise(),c={},s.catch((function(){})),[4,t.dt];case 3:return[2,(c.value=(i.sent(),s),c)];case 4:return l=i.sent(),f="FirebaseError"!==l.name&&a<3,xr("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),u.close(),f?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},e.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},e}(),ks=function(){function e(e){this.Pt=e,this.Vt=!1,this.St=null}return Object.defineProperty(e.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cursor",{set:function(e){this.Pt=e},enumerable:!1,configurable:!0}),e.prototype.done=function(){this.Vt=!0},e.prototype.Ct=function(e){this.St=e},e.prototype.delete=function(){return Es(this.Pt.delete())},e}(),Is=function(e){function t(t,n){var r=this;return(r=e.call(this,Sr.UNAVAILABLE,"IndexedDB transaction '"+t+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,i.__extends)(t,e),t}(Tr);function Ss(e){return"IndexedDbTransactionError"===e.name}var Ts=function(){function e(e){this.store=e}return e.prototype.put=function(e,t){var n;return void 0!==t?(xr("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(xr("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Es(n)},e.prototype.add=function(e){return xr("SimpleDb","ADD",this.store.name,e,e),Es(this.store.add(e))},e.prototype.get=function(e){var t=this;return Es(this.store.get(e)).next((function(n){return void 0===n&&(n=null),xr("SimpleDb","GET",t.store.name,e,n),n}))},e.prototype.delete=function(e){return xr("SimpleDb","DELETE",this.store.name,e),Es(this.store.delete(e))},e.prototype.count=function(){return xr("SimpleDb","COUNT",this.store.name),Es(this.store.count())},e.prototype.Nt=function(e,t){var n=this.cursor(this.options(e,t)),r=[];return this.xt(n,(function(e,t){r.push(t)})).next((function(){return r}))},e.prototype.kt=function(e,t){xr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(e,t,n){return n.delete()}))},e.prototype.$t=function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.xt(r,t)},e.prototype.Ot=function(e){var t=this.cursor({});return new _s((function(n,r){t.onerror=function(e){var t=xs(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))},e.prototype.xt=function(e,t){var n=[];return new _s((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var o=new ks(i),a=t(i.primaryKey,i.value,o);if(a instanceof _s){var s=a.catch((function(e){return o.done(),_s.reject(e)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return _s.waitFor(n)}))},e.prototype.options=function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}},e.prototype.cursor=function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.Ft?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)},e}();function Es(e){return new _s((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=xs(e.target.error);n(t)}}))}var Cs=!1;function xs(e){var t=ws._t((0,o.getUA)());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Tr("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return Cs||(Cs=!0,setTimeout((function(){throw r}),0)),r}}return e}var As=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Mt=t,r.currentSequenceNumber=n,r}return(0,i.__extends)(t,e),t}(ms);function Ps(e,t){var n=Dr(e);return ws.It(n.Mt,t)}var Os=function(){function e(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}return e.prototype.applyToRemoteDocument=function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&Ao(i,e,n[r])}},e.prototype.applyToLocalView=function(e){for(var t=0,n=this.baseMutations;t<n.length;t++)(o=n[t]).key.isEqual(e.key)&&Po(o,e,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(e.key)&&Po(o,e,this.localWriteTime)}},e.prototype.applyToLocalDocumentSet=function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Br.min())}))},e.prototype.keys=function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),ia())},e.prototype.isEqual=function(e){return this.batchId===e.batchId&&Fr(this.mutations,e.mutations,(function(e,t){return No(e,t)}))&&Fr(this.baseMutations,e.baseMutations,(function(e,t){return No(e,t)}))},e}(),Ns=function(){function e(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}return e.from=function(t,n,r){Rr(t.mutations.length===r.length);for(var i=na(),o=t.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new e(t,n,r,i)},e}(),Rs=function(){function e(e,t,n,r,i,o,a){void 0===i&&(i=Br.min()),void 0===o&&(o=Br.min()),void 0===a&&(a=Xr.EMPTY_BYTE_STRING),this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return e.prototype.withSequenceNumber=function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},e.prototype.withResumeToken=function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)},e.prototype.withLastLimboFreeSnapshotVersion=function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)},e}(),Ds=function(e){this.Lt=e};function Ms(e,t){if(t.document)return Na(e.Lt,t.document,!!t.hasCommittedMutations);if(t.noDocument){var n=si.fromSegments(t.noDocument.path),r=qs(t.noDocument.readTime),i=Si.newNoDocument(n,r);return t.hasCommittedMutations?i.setHasCommittedMutations():i}if(t.unknownDocument){var o=si.fromSegments(t.unknownDocument.path);return r=qs(t.unknownDocument.version),Si.newUnknownDocument(o,r)}return Nr()}function Ls(e,t,n){var r=js(n),i=t.key.path.popLast().toArray();if(t.isFoundDocument()){var o=function(e,t){return{name:Ta(e,t.key),fields:t.data.value.mapValue.fields,updateTime:_a(e,t.version.toTimestamp())}}(e.Lt,t),a=t.hasCommittedMutations;return new as(null,null,o,a,r,i)}if(t.isNoDocument()){var s=t.key.path.toArray(),u=Us(t.version);return a=t.hasCommittedMutations,new as(null,new is(s,u),null,a,r,i)}if(t.isUnknownDocument()){var c=t.key.path.toArray(),l=Us(t.version);return new as(new os(c,l),null,null,!0,r,i)}return Nr()}function js(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Fs(e){var t=new qr(e[0],e[1]);return Br.fromTimestamp(t)}function Us(e){var t=e.toTimestamp();return new Ja(t.seconds,t.nanoseconds)}function qs(e){var t=new qr(e.seconds,e.nanoseconds);return Br.fromTimestamp(t)}function Bs(e,t){for(var n=(t.baseMutations||[]).map((function(t){return Da(e.Lt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var o=t.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var a=t.mutations.map((function(t){return Da(e.Lt,t)})),s=qr.fromMillis(t.localWriteTimeMs);return new Os(t.batchId,s,n,a)}function Vs(e){var t,n,r=qs(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?qs(e.lastLimboFreeSnapshotVersion):Br.min();return void 0!==e.query.documents?(Rr(1===(n=e.query).documents.length),t=eo(Hi(xa(n.documents[0])))):t=function(e){return eo(ja(e))}(e.query),new Rs(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Xr.fromBase64String(e.resumeToken))}function zs(e,t){var n,r=Us(t.snapshotVersion),i=Us(t.lastLimboFreeSnapshotVersion);n=Ai(t.target)?Ma(e.Lt,t.target):La(e.Lt,t.target);var o=t.resumeToken.toBase64();return new us(t.targetId,Ci(t.target),r,o,t.sequenceNumber,i,n)}function Ws(e){var t=ja({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?to(t,t.limit,"L"):t}var Ks=function(){function e(){}return e.prototype.getBundleMetadata=function(e,t){return Gs(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:qs(t.createTime),version:t.version};var t}))},e.prototype.saveBundleMetadata=function(e,t){return Gs(e).put({bundleId:(n=t).id,createTime:Us(ka(n.createTime)),version:n.version});var n},e.prototype.getNamedQuery=function(e,t){return Hs(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ws(t.bundledQuery),readTime:qs(t.readTime)};var t}))},e.prototype.saveNamedQuery=function(e,t){return Hs(e).put(function(e){return{name:e.name,readTime:Us(ka(e.readTime)),bundledQuery:e.bundledQuery}}(t))},e}();function Gs(e){return Ps(e,ds.store)}function Hs(e){return Ps(e,ps.store)}var Ys=function(){function e(){this.Bt=new $s}return e.prototype.addToCollectionParentIndex=function(e,t){return this.Bt.add(t),_s.resolve()},e.prototype.getCollectionParents=function(e,t){return _s.resolve(this.Bt.getEntries(t))},e}(),$s=function(){function e(){this.index={}}return e.prototype.add=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new $o(Gr.comparator),i=!r.has(n);return this.index[t]=r.add(n),i},e.prototype.has=function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)},e.prototype.getEntries=function(e){return(this.index[e]||new $o(Gr.comparator)).toArray()},e}(),Xs=function(){function e(){this.qt=new $s}return e.prototype.addToCollectionParentIndex=function(e,t){var n=this;if(!this.qt.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.qt.add(t)}));var o={collectionId:r,parent:$a(i)};return Qs(e).put(o)}return _s.resolve()},e.prototype.getCollectionParents=function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[Ur(t),""],!1,!0);return Qs(e).Nt(r).next((function(e){for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.collectionId!==t)break;n.push(Za(o.parent))}return n}))},e}();function Qs(e){return Ps(e,fs.store)}var Zs={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Js=function(){function e(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}return e.withCacheSize=function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},e}();function eu(e,t,n){var r=e.store(ns.store),i=e.store(rs.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(e,t,n){return s++,n.delete()}));o.push(u.next((function(){Rr(1===s)})));for(var c=[],l=0,f=n.mutations;l<f.length;l++){var h=f[l],d=rs.key(t,h.key.path,n.batchId);o.push(i.delete(d)),c.push(h.key)}return _s.waitFor(o).next((function(){return c}))}function tu(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Nr();t=e.noDocument}return JSON.stringify(t).length}Js.DEFAULT_COLLECTION_PERCENTILE=10,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Js.DEFAULT=new Js(41943040,Js.DEFAULT_COLLECTION_PERCENTILE,Js.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Js.DISABLED=new Js(-1,0,0);var nu=function(){function e(e,t,n,r){this.userId=e,this.R=t,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return e.Qt=function(t,n,r,i){return Rr(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)},e.prototype.checkEmpty=function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return iu(e).$t({index:ns.userMutationsIndex,range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))},e.prototype.addMutationBatch=function(e,t,n,r){var i=this,o=ou(e),a=iu(e);return a.add({}).next((function(s){Rr("number"==typeof s);for(var u=new Os(s,t,n,r),c=function(e,t,n){var r=n.baseMutations.map((function(t){return Ra(e.Lt,t)})),i=n.mutations.map((function(t){return Ra(e.Lt,t)}));return new ns(t,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],f=new $o((function(e,t){return jr(e.canonicalString(),t.canonicalString())})),h=0,d=r;h<d.length;h++){var p=d[h],v=rs.key(i.userId,p.key.path,s);f=f.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(v,rs.PLACEHOLDER))}return f.forEach((function(t){l.push(i.Ut.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),_s.waitFor(l).next((function(){return u}))}))},e.prototype.lookupMutationBatch=function(e,t){var n=this;return iu(e).get(t).next((function(e){return e?(Rr(e.userId===n.userId),Bs(n.R,e)):null}))},e.prototype.jt=function(e,t){var n=this;return this.Kt[t]?_s.resolve(this.Kt[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.Kt[t]=r,r}return null}))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return iu(e).$t({index:ns.userMutationsIndex,range:i},(function(e,t,i){t.userId===n.userId&&(Rr(t.batchId>=r),o=Bs(n.R,t)),i.done()})).next((function(){return o}))},e.prototype.getHighestUnacknowledgedBatchId=function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return iu(e).$t({index:ns.userMutationsIndex,range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))},e.prototype.getAllMutationBatches=function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return iu(e).Nt(ns.userMutationsIndex,n).next((function(e){return e.map((function(e){return Bs(t.R,e)}))}))},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=rs.prefixForPath(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return ou(e).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Za(u);if(s===n.userId&&t.path.isEqual(l))return iu(e).get(c).next((function(e){if(!e)throw Nr();Rr(e.userId===n.userId),o.push(Bs(n.R,e))}));a.done()})).next((function(){return o}))},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new $o(jr),i=[];return t.forEach((function(t){var o=rs.prefixForPath(n.userId,t.path),a=IDBKeyRange.lowerBound(o),s=ou(e).$t({range:a},(function(e,i,o){var a=e[0],s=e[1],u=e[2],c=Za(s);a===n.userId&&t.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),_s.waitFor(i).next((function(){return n.Wt(e,r)}))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=this,r=t.path,i=r.length+1,o=rs.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new $o(jr);return ou(e).$t({range:a},(function(e,t,o){var a=e[0],u=e[1],c=e[2],l=Za(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(e,s)}))},e.prototype.Wt=function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(iu(e).get(t).next((function(e){if(null===e)throw Nr();Rr(e.userId===n.userId),r.push(Bs(n.R,e))})))})),_s.waitFor(i).next((function(){return r}))},e.prototype.removeMutationBatch=function(e,t){var n=this;return eu(e.Mt,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n.Gt(t.batchId)})),_s.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))},e.prototype.Gt=function(e){delete this.Kt[e]},e.prototype.performConsistencyCheck=function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return _s.resolve();var r=IDBKeyRange.lowerBound(rs.prefixForUser(t.userId)),i=[];return ou(e).$t({range:r},(function(e,n,r){if(e[0]===t.userId){var o=Za(e[1]);i.push(o)}else r.done()})).next((function(){Rr(0===i.length)}))}))},e.prototype.containsKey=function(e,t){return ru(e,this.userId,t)},e.prototype.zt=function(e){var t=this;return au(e).get(this.userId).next((function(e){return e||new ts(t.userId,-1,"")}))},e}();function ru(e,t,n){var r=rs.prefixForPath(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return ou(e).$t({range:o,Ft:!0},(function(e,n,r){var o=e[0],s=e[1];e[2],o===t&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function iu(e){return Ps(e,ns.store)}function ou(e){return Ps(e,rs.store)}function au(e){return Ps(e,ts.store)}var su=function(){function e(e){this.Ht=e}return e.prototype.next=function(){return this.Ht+=2,this.Ht},e.Jt=function(){return new e(0)},e.Yt=function(){return new e(-1)},e}(),uu=function(){function e(e,t){this.referenceDelegate=e,this.R=t}return e.prototype.allocateTargetId=function(e){var t=this;return this.Xt(e).next((function(n){var r=new su(n.highestTargetId);return n.highestTargetId=r.next(),t.Zt(e,n).next((function(){return n.highestTargetId}))}))},e.prototype.getLastRemoteSnapshotVersion=function(e){return this.Xt(e).next((function(e){return Br.fromTimestamp(new qr(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))},e.prototype.getHighestSequenceNumber=function(e){return this.Xt(e).next((function(e){return e.highestListenSequenceNumber}))},e.prototype.setTargetsMetadata=function(e,t,n){var r=this;return this.Xt(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.Zt(e,i)}))},e.prototype.addTargetData=function(e,t){var n=this;return this.te(e,t).next((function(){return n.Xt(e).next((function(r){return r.targetCount+=1,n.ee(t,r),n.Zt(e,r)}))}))},e.prototype.updateTargetData=function(e,t){return this.te(e,t)},e.prototype.removeTargetData=function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return cu(e).delete(t.targetId)})).next((function(){return n.Xt(e)})).next((function(t){return Rr(t.targetCount>0),t.targetCount-=1,n.Zt(e,t)}))},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return cu(e).$t((function(a,s){var u=Vs(s);u.sequenceNumber<=t&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(e,u)))})).next((function(){return _s.waitFor(o)})).next((function(){return i}))},e.prototype.forEachTarget=function(e,t){return cu(e).$t((function(e,n){var r=Vs(n);t(r)}))},e.prototype.Xt=function(e){return lu(e).get(ls.key).next((function(e){return Rr(null!==e),e}))},e.prototype.Zt=function(e,t){return lu(e).put(ls.key,t)},e.prototype.te=function(e,t){return cu(e).put(zs(this.R,t))},e.prototype.ee=function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n},e.prototype.getTargetCount=function(e){return this.Xt(e).next((function(e){return e.targetCount}))},e.prototype.getTargetData=function(e,t){var n=Ci(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return cu(e).$t({range:r,index:us.queryTargetsIndexName},(function(e,n,r){var o=Vs(n);xi(t,o.target)&&(i=o,r.done())})).next((function(){return i}))},e.prototype.addMatchingKeys=function(e,t,n){var r=this,i=[],o=fu(e);return t.forEach((function(t){var a=$a(t.path);i.push(o.put(new cs(n,a))),i.push(r.referenceDelegate.addReference(e,n,t))})),_s.waitFor(i)},e.prototype.removeMatchingKeys=function(e,t,n){var r=this,i=fu(e);return _s.forEach(t,(function(t){var o=$a(t.path);return _s.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(e,n,t)])}))},e.prototype.removeMatchingKeysForTargetId=function(e,t){var n=fu(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=fu(e),i=ia();return r.$t({range:n,Ft:!0},(function(e,t,n){var r=Za(e[1]),o=new si(r);i=i.add(o)})).next((function(){return i}))},e.prototype.containsKey=function(e,t){var n=$a(t.path),r=IDBKeyRange.bound([n],[Ur(n)],!1,!0),i=0;return fu(e).$t({index:cs.documentTargetsIndex,Ft:!0,range:r},(function(e,t,n){var r=e[0];e[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},e.prototype.lt=function(e,t){return cu(e).get(t).next((function(e){return e?Vs(e):null}))},e}();function cu(e){return Ps(e,us.store)}function lu(e){return Ps(e,ls.store)}function fu(e){return Ps(e,cs.store)}function hu(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){if(e.code!==Sr.FAILED_PRECONDITION||e.message!==gs)throw e;return xr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function du(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],a=jr(n,i);return 0===a?jr(r,o):a}var pu=function(){function e(e){this.ne=e,this.buffer=new $o(du),this.se=0}return e.prototype.ie=function(){return++this.se},e.prototype.re=function(e){var t=[e,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();du(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}},Object.defineProperty(e.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),e}(),vu=function(){function e(e,t){this.garbageCollector=e,this.asyncQueue=t,this.oe=!1,this.ce=null}return e.prototype.start=function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(e)},e.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(e.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),e.prototype.ue=function(e){var t=this,n=this.oe?3e5:6e4;xr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,i.__awaiter)(t,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,e.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ss(t=n.sent())?(xr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t),[3,6]):[3,4];case 4:return[4,hu(t)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(e)];case 8:return n.sent(),[2]}}))}))}))},e}(),gu=function(){function e(e,t){this.ae=e,this.params=t}return e.prototype.calculateTargetCount=function(e,t){return this.ae.he(e).next((function(e){return Math.floor(t/100*e)}))},e.prototype.nthSequenceNumber=function(e,t){var n=this;if(0===t)return _s.resolve(Ir.o);var r=new pu(t);return this.ae.forEachTarget(e,(function(e){return r.re(e.sequenceNumber)})).next((function(){return n.ae.le(e,(function(e){return r.re(e)}))})).next((function(){return r.maxValue}))},e.prototype.removeTargets=function(e,t,n){return this.ae.removeTargets(e,t,n)},e.prototype.removeOrphanedDocuments=function(e,t){return this.ae.removeOrphanedDocuments(e,t)},e.prototype.collect=function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(xr("LruGarbageCollector","Garbage collection skipped; disabled"),_s.resolve(Zs)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(xr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Zs):n.fe(e,t)}))},e.prototype.getCacheSize=function(e){return this.ae.getCacheSize(e)},e.prototype.fe=function(e,t){var n,r,i,o,s,u,c,l=this,f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>l.params.maximumSequenceNumbersToCollect?(xr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+t),r=l.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),l.nthSequenceNumber(e,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),l.removeOrphanedDocuments(e,n)})).next((function(e){return c=Date.now(),Cr()<=a.LogLevel.DEBUG&&xr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-f)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+e+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-f)+"ms"),_s.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))},e}(),mu=function(){function e(e,t){this.db=e,this.garbageCollector=function(e,t){return new gu(e,t)}(this,t)}return e.prototype.he=function(e){var t=this.de(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))},e.prototype.de=function(e){var t=0;return this.le(e,(function(e){t++})).next((function(){return t}))},e.prototype.forEachTarget=function(e,t){return this.db.getTargetCache().forEachTarget(e,t)},e.prototype.le=function(e,t){return this.we(e,(function(e,n){return t(n)}))},e.prototype.addReference=function(e,t,n){return yu(e,n)},e.prototype.removeReference=function(e,t,n){return yu(e,n)},e.prototype.removeTargets=function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)},e.prototype.markPotentiallyOrphaned=function(e,t){return yu(e,t)},e.prototype._e=function(e,t){return function(e,t){var n=!1;return au(e).Ot((function(r){return ru(e,r,t).next((function(e){return e&&(n=!0),_s.resolve(!e)}))})).next((function(){return n}))}(e,t)},e.prototype.removeOrphanedDocuments=function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(e,(function(a,s){if(s<=t){var u=n._e(e,a).next((function(t){if(!t)return o++,r.getEntry(e,a).next((function(){return r.removeEntry(a),fu(e).delete([0,$a(a.path)])}))}));i.push(u)}})).next((function(){return _s.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return o}))},e.prototype.removeTarget=function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)},e.prototype.updateLimboDocument=function(e,t){return yu(e,t)},e.prototype.we=function(e,t){var n,r=fu(e),i=Ir.o;return r.$t({index:cs.documentTargetsIndex},(function(e,r){var o=e[0];e[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Ir.o&&t(new si(Za(n)),i),i=s,n=a):i=Ir.o})).next((function(){i!==Ir.o&&t(new si(Za(n)),i)}))},e.prototype.getCacheSize=function(e){return this.db.getRemoteDocumentCache().getSize(e)},e}();function yu(e,t){return fu(e).put(function(e,t){return new cs(0,$a(e.path),t)}(t,e.currentSequenceNumber))}var _u=function(){function e(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={}}return e.prototype.get=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,e))return s}},e.prototype.has=function(e){return void 0!==this.get(e)},e.prototype.set=function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t])}else this.inner[n]=[[e,t]]},e.prototype.delete=function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),!0;return!1},e.prototype.forEach=function(e){zr(this.inner,(function(t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];e(a,s)}}))},e.prototype.isEmpty=function(){return Wr(this.inner)},e}(),bu=function(){function e(){this.changes=new _u((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return e.prototype.getReadTime=function(e){var t=this.changes.get(e);return t?t.readTime:Br.min()},e.prototype.addEntry=function(e,t){this.assertNotApplied(),this.changes.set(e.key,{document:e,readTime:t})},e.prototype.removeEntry=function(e,t){void 0===t&&(t=null),this.assertNotApplied(),this.changes.set(e,{document:Si.newInvalidDocument(e),readTime:t})},e.prototype.getEntry=function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?_s.resolve(n.document):this.getFromCache(e,t)},e.prototype.getEntries=function(e,t){return this.getAllFromCache(e,t)},e.prototype.apply=function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)},e.prototype.assertNotApplied=function(){},e}(),wu=function(){function e(e,t){this.R=e,this.Ut=t}return e.prototype.addEntry=function(e,t,n){return Su(e).put(Tu(t),n)},e.prototype.removeEntry=function(e,t){var n=Su(e),r=Tu(t);return n.delete(r)},e.prototype.updateMetadata=function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.me(e,r)}))},e.prototype.getEntry=function(e,t){var n=this;return Su(e).get(Tu(t)).next((function(e){return n.ye(t,e)}))},e.prototype.ge=function(e,t){var n=this;return Su(e).get(Tu(t)).next((function(e){return{document:n.ye(t,e),size:tu(e)}}))},e.prototype.getEntries=function(e,t){var n=this,r=Zo();return this.pe(e,t,(function(e,t){var i=n.ye(e,t);r=r.insert(e,i)})).next((function(){return r}))},e.prototype.Ee=function(e,t){var n=this,r=Zo(),i=new Go(si.comparator);return this.pe(e,t,(function(e,t){var o=n.ye(e,t);r=r.insert(e,o),i=i.insert(e,tu(t))})).next((function(){return{documents:r,Te:i}}))},e.prototype.pe=function(e,t,n){if(t.isEmpty())return _s.resolve();var r=IDBKeyRange.bound(t.first().path.toArray(),t.last().path.toArray()),i=t.getIterator(),o=i.getNext();return Su(e).$t({range:r},(function(e,t,r){for(var a=si.fromSegments(e);o&&si.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,t),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){var r=this,i=Zo(),o=t.path.length+1,a={};if(n.isEqual(Br.min())){var s=t.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=t.path.toArray(),c=js(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=as.collectionReadTimeIndex}return Su(e).$t(a,(function(e,n,a){if(e.length===o){var s=Ms(r.R,n);t.path.isPrefixOf(s.key.path)?oo(t,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},e.prototype.newChangeBuffer=function(e){return new ku(this,!!e&&e.trackRemovals)},e.prototype.getSize=function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))},e.prototype.getMetadata=function(e){return Iu(e).get(ss.key).next((function(e){return Rr(!!e),e}))},e.prototype.me=function(e,t){return Iu(e).put(ss.key,t)},e.prototype.ye=function(e,t){if(t){var n=Ms(this.R,t);if(!n.isNoDocument()||!n.version.isEqual(Br.min()))return n}return Si.newInvalidDocument(e)},e}(),ku=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).Ie=t,r.trackRemovals=n,r.Ae=new _u((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),r}return(0,i.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[],r=0,i=new $o((function(e,t){return jr(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(o,a){var s=t.Ae.get(o);if(a.document.isValidDocument()){var u=Ls(t.Ie.R,a.document,t.getReadTime(o));i=i.add(o.path.popLast());var c=tu(u);r+=c-s,n.push(t.Ie.addEntry(e,o,u))}else if(r-=s,t.trackRemovals){var l=Ls(t.Ie.R,Si.newNoDocument(o,Br.min()),t.getReadTime(o));n.push(t.Ie.addEntry(e,o,l))}else n.push(t.Ie.removeEntry(e,o))})),i.forEach((function(r){n.push(t.Ie.Ut.addToCollectionParentIndex(e,r))})),n.push(this.Ie.updateMetadata(e,r)),_s.waitFor(n)},t.prototype.getFromCache=function(e,t){var n=this;return this.Ie.ge(e,t).next((function(e){return n.Ae.set(t,e.size),e.document}))},t.prototype.getAllFromCache=function(e,t){var n=this;return this.Ie.Ee(e,t).next((function(e){var t=e.documents;return e.Te.forEach((function(e,t){n.Ae.set(e,t)})),t}))},t}(bu);function Iu(e){return Ps(e,ss.store)}function Su(e){return Ps(e,as.store)}function Tu(e){return e.path.toArray()}var Eu=function(){function e(e){this.R=e}return e.prototype.Rt=function(e,t,n,r){var i=this;Rr(n<r&&n>=0&&r<=11);var o=new bs("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore(es.store)}(e),function(e){e.createObjectStore(ts.store,{keyPath:ts.keyPath}),e.createObjectStore(ns.store,{keyPath:ns.keyPath,autoIncrement:!0}).createIndex(ns.userMutationsIndex,ns.userMutationsKeyPath,{unique:!0}),e.createObjectStore(rs.store)}(e),Cu(e),function(e){e.createObjectStore(as.store)}(e));var a=_s.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore(cs.store),e.deleteObjectStore(us.store),e.deleteObjectStore(ls.store)}(e),Cu(e)),a=a.next((function(){return function(e){var t=e.store(ls.store),n=new ls(0,0,Br.min().toTimestamp(),0);return t.put(ls.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(e,t){return t.store(ns.store).Nt().next((function(n){e.deleteObjectStore(ns.store),e.createObjectStore(ns.store,{keyPath:ns.keyPath,autoIncrement:!0}).createIndex(ns.userMutationsIndex,ns.userMutationsKeyPath,{unique:!0});var r=t.store(ns.store),i=n.map((function(e){return r.put(e)}));return _s.waitFor(i)}))}(e,o)}))),a=a.next((function(){!function(e){e.createObjectStore(hs.store,{keyPath:hs.keyPath})}(e)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(e){e.createObjectStore(ss.store)}(e),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(e,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e),function(e){var t=e.objectStore(as.store);t.createIndex(as.readTimeIndex,as.readTimeIndexPath,{unique:!1}),t.createIndex(as.collectionReadTimeIndex,as.collectionReadTimeIndexPath,{unique:!1})}(t)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(e){e.createObjectStore(ds.store,{keyPath:ds.keyPath})}(e),function(e){e.createObjectStore(ps.store,{keyPath:ps.keyPath})}(e)}))),a},e.prototype.be=function(e){var t=0;return e.store(as.store).$t((function(e,n){t+=tu(n)})).next((function(){var n=new ss(t);return e.store(ss.store).put(ss.key,n)}))},e.prototype.Re=function(e){var t=this,n=e.store(ts.store),r=e.store(ns.store);return n.Nt().next((function(n){return _s.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(ns.userMutationsIndex,i).next((function(r){return _s.forEach(r,(function(r){Rr(r.userId===n.userId);var i=Bs(t.R,r);return eu(e,n.userId,i).next((function(){}))}))}))}))}))},e.prototype.ve=function(e){var t=e.store(cs.store),n=e.store(as.store);return e.store(ls.store).get(ls.key).next((function(e){var r=[];return n.$t((function(n,i){var o=new Gr(n),a=function(e){return[0,$a(e)]}(o);r.push(t.get(a).next((function(n){return n?_s.resolve():function(n){return t.put(new cs(0,$a(n),e.highestListenSequenceNumber))}(o)})))})).next((function(){return _s.waitFor(r)}))}))},e.prototype.Pe=function(e,t){e.createObjectStore(fs.store,{keyPath:fs.keyPath});var n=t.store(fs.store),r=new $s,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:$a(i)})}};return t.store(as.store).$t({Ft:!0},(function(e,t){var n=new Gr(e);return i(n.popLast())})).next((function(){return t.store(rs.store).$t({Ft:!0},(function(e,t){e[0];var n=e[1];e[2];var r=Za(n);return i(r.popLast())}))}))},e.prototype.Ve=function(e){var t=this,n=e.store(us.store);return n.$t((function(e,r){var i=Vs(r),o=zs(t.R,i);return n.put(o)}))},e}();function Cu(e){e.createObjectStore(cs.store,{keyPath:cs.keyPath}).createIndex(cs.documentTargetsIndex,cs.documentTargetsKeyPath,{unique:!0}),e.createObjectStore(us.store,{keyPath:us.keyPath}).createIndex(us.queryTargetsIndexName,us.queryTargetsKeyPath,{unique:!0}),e.createObjectStore(ls.store)}var xu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Au=function(){function e(t,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(e){return Promise.resolve()},!e.yt())throw new Tr(Sr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new mu(this,i),this.Le=n+"main",this.R=new Ds(u),this.Be=new ws(this.Le,11,new Eu(this.R)),this.qe=new uu(this.referenceDelegate,this.R),this.Ut=new Xs,this.Ue=function(e,t){return new wu(e,t)}(this.R,this.Ut),this.Ke=new Ks,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return e.prototype.start=function(){var e=this;return this.je().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Tr(Sr.FAILED_PRECONDITION,xu);return e.We(),e.Ge(),e.ze(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.qe.getHighestSequenceNumber(t)}))})).then((function(t){e.Ne=new Ir(t,e.De)})).then((function(){e.xe=!0})).catch((function(t){return e.Be&&e.Be.close(),Promise.reject(t)}))},e.prototype.He=function(e){var t=this;return this.Me=function(n){return(0,i.__awaiter)(t,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return this.started?[2,e(n)]:[2]}))}))},e(this.isPrimary)},e.prototype.setDatabaseDeletedListener=function(e){var t=this;this.Be.vt((function(n){return(0,i.__awaiter)(t,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return null===n.newVersion?[4,e()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))},e.prototype.setNetworkEnabled=function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Se.enqueueAndForget((function(){return(0,i.__awaiter)(t,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})))},e.prototype.je=function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return Ou(t).put(new hs(e.clientId,Date.now(),e.networkEnabled,e.inForeground)).next((function(){if(e.isPrimary)return e.Je(t).next((function(t){t||(e.isPrimary=!1,e.Se.enqueueRetryable((function(){return e.Me(!1)})))}))})).next((function(){return e.Ye(t)})).next((function(n){return e.isPrimary&&!n?e.Xe(t).next((function(){return!1})):!!n&&e.Ze(t).next((function(){return!0}))}))})).catch((function(t){if(Ss(t))return xr("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return xr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Se.enqueueRetryable((function(){return e.Me(t)})),e.isPrimary=t}))},e.prototype.Je=function(e){var t=this;return Pu(e).get(es.key).next((function(e){return _s.resolve(t.tn(e))}))},e.prototype.en=function(e){return Ou(e).delete(this.clientId)},e.prototype.nn=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,o=this;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=Ps(e,hs.store);return t.Nt().next((function(e){var n=o.rn(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return _s.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=i.sent(),this.Qe)for(t=0,n=e;t<n.length;t++)r=n[t],this.Qe.removeItem(this.on(r.clientId));i.label=2;case 2:return[2]}}))}))},e.prototype.ze=function(){var e=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.je().then((function(){return e.nn()})).then((function(){return e.ze()}))}))},e.prototype.tn=function(e){return!!e&&e.ownerId===this.clientId},e.prototype.Ye=function(e){var t=this;return this.Ce?_s.resolve(!0):Pu(e).get(es.key).next((function(n){if(null!==n&&t.sn(n.leaseTimestampMs,5e3)&&!t.cn(n.ownerId)){if(t.tn(n)&&t.networkEnabled)return!0;if(!t.tn(n)){if(!n.allowTabSynchronization)throw new Tr(Sr.FAILED_PRECONDITION,xu);return!1}}return!(!t.networkEnabled||!t.inForeground)||Ou(e).Nt().next((function(e){return void 0===t.rn(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&xr("IndexedDbPersistence","Client "+(e?"is":"is not")+" eligible for a primary lease."),e}))},e.prototype.shutdown=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[es.store,hs.store],(function(t){var n=new As(t,Ir.o);return e.Xe(n).next((function(){return e.en(n)}))}))];case 1:return t.sent(),this.Be.close(),this.ln(),[2]}}))}))},e.prototype.rn=function(e,t){var n=this;return e.filter((function(e){return n.sn(e.updateTimeMs,t)&&!n.cn(e.clientId)}))},e.prototype.fn=function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return Ou(t).Nt().next((function(t){return e.rn(t,18e5).map((function(e){return e.clientId}))}))}))},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.getMutationQueue=function(e){return nu.Qt(e,this.R,this.Ut,this.referenceDelegate)},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;xr("IndexedDbPersistence","Starting transaction:",e);var i,o="readonly"===t?"readonly":"readwrite";return this.Be.runTransaction(e,o,vs,(function(o){return i=new As(o,r.Ne?r.Ne.next():Ir.o),"readwrite-primary"===t?r.Je(i).next((function(e){return!!e||r.Ye(i)})).next((function(t){if(!t)throw Ar("Failed to obtain primary lease for action '"+e+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Tr(Sr.FAILED_PRECONDITION,gs);return n(i)})).next((function(e){return r.Ze(i).next((function(){return e}))})):r.dn(i).next((function(){return n(i)}))})).then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.dn=function(e){var t=this;return Pu(e).get(es.key).next((function(e){if(null!==e&&t.sn(e.leaseTimestampMs,5e3)&&!t.cn(e.ownerId)&&!t.tn(e)&&!(t.Ce||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Tr(Sr.FAILED_PRECONDITION,xu)}))},e.prototype.Ze=function(e){var t=new es(this.clientId,this.allowTabSynchronization,Date.now());return Pu(e).put(es.key,t)},e.yt=function(){return ws.yt()},e.prototype.Xe=function(e){var t=this,n=Pu(e);return n.get(es.key).next((function(e){return t.tn(e)?(xr("IndexedDbPersistence","Releasing primary lease."),n.delete(es.key)):_s.resolve()}))},e.prototype.sn=function(e,t){var n=Date.now();return!(e<n-t||e>n&&(Ar("Detected an update time that is in the future: "+e+" > "+n),1))},e.prototype.We=function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){e.Se.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},e.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},e.prototype.Ge=function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ke=function(){t.un(),(0,o.isSafari)()&&navigator.appVersion.match("Version/14")&&t.Se.enterRestrictedMode(!0),t.Se.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},e.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},e.prototype.cn=function(e){var t;try{var n=null!==(null===(t=this.Qe)||void 0===t?void 0:t.getItem(this.on(e)));return xr("IndexedDbPersistence","Client '"+e+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(e){return Ar("IndexedDbPersistence","Failed to get zombied client id.",e),!1}},e.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(e){Ar("Failed to set zombie client id.",e)}},e.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(e){}},e.prototype.on=function(e){return"firestore_zombie_"+this.persistenceKey+"_"+e},e}();function Pu(e){return Ps(e,es.store)}function Ou(e){return Ps(e,hs.store)}function Nu(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var Ru=function(e,t){this.progress=e,this.wn=t},Du=function(){function e(e,t,n){this.Ue=e,this._n=t,this.Ut=n}return e.prototype.mn=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.yn(e,t,r)}))},e.prototype.yn=function(e,t,n){return this.Ue.getEntry(e,t).next((function(e){for(var t=0,r=n;t<r.length;t++)r[t].applyToLocalView(e);return e}))},e.prototype.gn=function(e,t){e.forEach((function(e,n){for(var r=0,i=t;r<i.length;r++)i[r].applyToLocalView(n)}))},e.prototype.pn=function(e,t){var n=this;return this.Ue.getEntries(e,t).next((function(t){return n.En(e,t).next((function(){return t}))}))},e.prototype.En=function(e,t){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.gn(t,e)}))},e.prototype.getDocumentsMatchingQuery=function(e,t,n){return function(e){return si.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.Tn(e,t.path):Zi(t)?this.In(e,t,n):this.An(e,t,n)},e.prototype.Tn=function(e,t){return this.mn(e,new si(t)).next((function(e){var t=ea();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))},e.prototype.In=function(e,t,n){var r=this,i=t.collectionGroup,o=ea();return this.Ut.getCollectionParents(e,i).next((function(a){return _s.forEach(a,(function(a){var s=function(e,t){return new Ki(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return r.An(e,s,n).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))},e.prototype.An=function(e,t,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(e,t,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(e,t)})).next((function(t){return i=t,o.Rn(e,i,r).next((function(e){r=e;for(var t=0,n=i;t<n.length;t++)for(var o=n[t],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Si.newInvalidDocument(c),r=r.insert(c,l)),Po(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(e,n){oo(t,n)||(r=r.remove(e))})),r}))},e.prototype.Rn=function(e,t,n){for(var r=ia(),i=0,o=t;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Mo&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(e,r).next((function(e){return e.forEach((function(e,t){t.isFoundDocument()&&(c=c.insert(e,t))})),c}))},e}(),Mu=function(){function e(e,t,n,r){this.targetId=e,this.fromCache=t,this.bn=n,this.vn=r}return e.Pn=function(t,n){for(var r=ia(),i=ia(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new e(t,n.fromCache,r,i)},e}(),Lu=function(){function e(){}return e.prototype.Vn=function(e){this.Sn=e},e.prototype.getDocumentsMatchingQuery=function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(Br.min())?this.Dn(e,t):this.Sn.pn(e,r).next((function(o){var s=i.Cn(t,o);return(Yi(t)||$i(t))&&i.Nn(t.limitType,s,r,n)?i.Dn(e,t):(Cr()<=a.LogLevel.DEBUG&&xr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),io(t)),i.Sn.getDocumentsMatchingQuery(e,t,n).next((function(e){return s.forEach((function(t){e=e.insert(t.key,t)})),e})))}))},e.prototype.Cn=function(e,t){var n=new $o(ao(e));return t.forEach((function(t,r){oo(e,r)&&(n=n.add(r))})),n},e.prototype.Nn=function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},e.prototype.Dn=function(e,t){return Cr()<=a.LogLevel.DEBUG&&xr("QueryEngine","Using full collection scan to execute query:",io(t)),this.Sn.getDocumentsMatchingQuery(e,t,Br.min())},e}(),ju=function(){function e(e,t,n,r){this.persistence=e,this.xn=t,this.R=r,this.kn=new Go(jr),this.Fn=new _u((function(e){return Ci(e)}),xi),this.$n=Br.min(),this._n=e.getMutationQueue(n),this.On=e.getRemoteDocumentCache(),this.qe=e.getTargetCache(),this.Mn=new Du(this.On,this._n,this.persistence.getIndexManager()),this.Ke=e.getBundleCache(),this.xn.Vn(this.Mn)}return e.prototype.collectGarbage=function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.kn)}))},e}();function Fu(e,t,n,r){return new ju(e,t,n,r)}function Uu(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=Dr(e),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(e){var i;return n._n.getAllMutationBatches(e).next((function(a){return i=a,r=n.persistence.getMutationQueue(t),o=new Du(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(e)})).next((function(t){for(var n=[],r=[],a=ia(),s=0,u=i;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,f=c.mutations;l<f.length;l++){var h=f[l];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var v=p[d];r.push(v.batchId);for(var g=0,m=v.mutations;g<m.length;g++){var y=m[g];a=a.add(y.key)}}return o.pn(e,a).next((function(e){return{Ln:e,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return a=i.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),a)]}}))}))}function qu(e,t){var n=Dr(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,o=i.keys(),a=_s.resolve();return o.forEach((function(e){a=a.next((function(){return r.getEntry(t,e)})).next((function(t){var o=n.docVersions.get(e);Rr(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&r.addEntry(t,n.commitVersion))}))})),a.next((function(){return e._n.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}function Bu(e){var t=Dr(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.qe.getLastRemoteSnapshotVersion(e)}))}function Vu(e,t){var n=Dr(e),r=t.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];t.targetChanges.forEach((function(t,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(e,t.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(e,t.addedDocuments,o)})));var u=t.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(e.currentSequenceNumber);i=i.insert(o,c),function(e,t,n){return Rr(t.resumeToken.approximateByteSize()>0),0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,t)&&a.push(n.qe.updateTargetData(e,c))}}}));var s=Zo();if(t.documentUpdates.forEach((function(r,i){t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(zu(e,o,t.documentUpdates,r,void 0).next((function(e){s=e}))),!r.isEqual(Br.min())){var u=n.qe.getLastRemoteSnapshotVersion(e).next((function(t){return n.qe.setTargetsMetadata(e,e.currentSequenceNumber,r)}));a.push(u)}return _s.waitFor(a).next((function(){return o.apply(e)})).next((function(){return n.Mn.En(e,s)})).next((function(){return s}))})).then((function(e){return n.kn=i,e}))}function zu(e,t,n,r,i){var o=ia();return n.forEach((function(e){return o=o.add(e)})),t.getEntries(e,o).next((function(e){var o=Zo();return n.forEach((function(n,a){var s=e.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Br.min())?(t.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(a,u),o=o.insert(n,a)):xr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Wu(e,t){var n=Dr(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n._n.getNextMutationBatchAfterBatchId(e,t)}))}function Ku(e,t){var n=Dr(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.qe.getTargetData(e,t).next((function(i){return i?(r=i,_s.resolve(r)):n.qe.allocateTargetId(e).next((function(i){return r=new Rs(t,i,0,e.currentSequenceNumber),n.qe.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.kn.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(e.targetId,e),n.Fn.set(t,e.targetId)),e}))}function Gu(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:r=Dr(e),o=r.kn.get(t),a=n?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",a,(function(e){return r.persistence.referenceDelegate.removeTarget(e,o)}))];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!Ss(s=i.sent()))throw s;return xr("LocalStore","Failed to update sequence numbers for target "+t+": "+s),[3,5];case 5:return r.kn=r.kn.remove(t),r.Fn.delete(o.target),[2]}}))}))}function Hu(e,t,n){var r=Dr(e),i=Br.min(),o=ia();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Dr(e),i=r.Fn.get(n);return void 0!==i?_s.resolve(r.kn.get(i)):r.qe.getTargetData(t,n)}(r,e,eo(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(e,t.targetId).next((function(e){o=e}))})).next((function(){return r.xn.getDocumentsMatchingQuery(e,t,n?i:Br.min(),n?o:ia())})).next((function(e){return{documents:e,Bn:o}}))}))}function Yu(e,t){var n=Dr(e),r=Dr(n.qe),i=n.kn.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.lt(e,t).next((function(e){return e?e.target:null}))}))}function $u(e){var t=Dr(e);return t.persistence.runTransaction("Get new document changes","readonly",(function(e){return function(e,t,n){var r=Dr(e),i=Zo(),o=js(n),a=Su(t),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:as.readTimeIndex,range:s},(function(e,t){var n=Ms(r.R,t);i=i.insert(n.key,n),o=t.readTime})).next((function(){return{wn:i,readTime:Fs(o)}}))}(t.On,e,t.$n)})).then((function(e){var n=e.wn,r=e.readTime;return t.$n=r,n}))}function Xu(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){return[2,(t=Dr(e)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(e){return function(e){var t=Su(e),n=Br.min();return t.$t({index:as.readTimeIndex,reverse:!0},(function(e,t,r){t.readTime&&(n=Fs(t.readTime)),r.done()})).next((function(){return n}))}(e)})).then((function(e){t.$n=e}))]}))}))}function Qu(e,t,n,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l,f,h,d,p;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:for(o=Dr(e),a=ia(),s=Zo(),u=na(),c=0,l=n;c<l.length;c++)f=l[c],h=t.qn(f.metadata.name),f.document&&(a=a.add(h)),s=s.insert(h,t.Un(f)),u=u.insert(h,t.Kn(f.metadata.readTime));return d=o.On.newChangeBuffer({trackRemovals:!0}),[4,Ku(o,function(e){return eo(Hi(Gr.fromString("__bundle__/docs/"+e)))}(r))];case 1:return p=i.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return zu(e,d,s,Br.min(),u).next((function(t){return d.apply(e),t})).next((function(t){return o.qe.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return o.qe.addMatchingKeys(e,a,p.targetId)})).next((function(){return o.Mn.En(e,t)})).next((function(){return t}))}))}))]}}))}))}function Zu(e,t,n){return void 0===n&&(n=ia()),(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Ku(e,eo(Ws(t.bundledQuery)))];case 1:return r=i.sent(),[2,(o=Dr(e)).persistence.runTransaction("Save named query","readwrite",(function(e){var i=ka(t.readTime);if(r.snapshotVersion.compareTo(i)>=0)return o.Ke.saveNamedQuery(e,t);var a=r.withResumeToken(Xr.EMPTY_BYTE_STRING,i);return o.kn=o.kn.insert(a.targetId,a),o.qe.updateTargetData(e,a).next((function(){return o.qe.removeMatchingKeysForTargetId(e,r.targetId)})).next((function(){return o.qe.addMatchingKeys(e,n,r.targetId)})).next((function(){return o.Ke.saveNamedQuery(e,t)}))}))]}}))}))}var Ju=function(){function e(e){this.R=e,this.Qn=new Map,this.jn=new Map}return e.prototype.getBundleMetadata=function(e,t){return _s.resolve(this.Qn.get(t))},e.prototype.saveBundleMetadata=function(e,t){var n;return this.Qn.set(t.id,{id:(n=t).id,version:n.version,createTime:ka(n.createTime)}),_s.resolve()},e.prototype.getNamedQuery=function(e,t){return _s.resolve(this.jn.get(t))},e.prototype.saveNamedQuery=function(e,t){return this.jn.set(t.name,function(e){return{name:e.name,query:Ws(e.bundledQuery),readTime:ka(e.readTime)}}(t)),_s.resolve()},e}(),ec=function(){function e(){this.Wn=new $o(tc.Gn),this.zn=new $o(tc.Hn)}return e.prototype.isEmpty=function(){return this.Wn.isEmpty()},e.prototype.addReference=function(e,t){var n=new tc(e,t);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},e.prototype.Jn=function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))},e.prototype.removeReference=function(e,t){this.Yn(new tc(e,t))},e.prototype.Xn=function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))},e.prototype.Zn=function(e){var t=this,n=new si(new Gr([])),r=new tc(n,e),i=new tc(n,e+1),o=[];return this.zn.forEachInRange([r,i],(function(e){t.Yn(e),o.push(e.key)})),o},e.prototype.ts=function(){var e=this;this.Wn.forEach((function(t){return e.Yn(t)}))},e.prototype.Yn=function(e){this.Wn=this.Wn.delete(e),this.zn=this.zn.delete(e)},e.prototype.es=function(e){var t=new si(new Gr([])),n=new tc(t,e),r=new tc(t,e+1),i=ia();return this.zn.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i},e.prototype.containsKey=function(e){var t=new tc(e,0),n=this.Wn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)},e}(),tc=function(){function e(e,t){this.key=e,this.ns=t}return e.Gn=function(e,t){return si.comparator(e.key,t.key)||jr(e.ns,t.ns)},e.Hn=function(e,t){return jr(e.ns,t.ns)||si.comparator(e.key,t.key)},e}(),nc=function(){function e(e,t){this.Ut=e,this.referenceDelegate=t,this._n=[],this.ss=1,this.rs=new $o(tc.Gn)}return e.prototype.checkEmpty=function(e){return _s.resolve(0===this._n.length)},e.prototype.addMutationBatch=function(e,t,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Os(i,t,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new tc(u.key,i)),this.Ut.addToCollectionParentIndex(e,u.key.path.popLast())}return _s.resolve(o)},e.prototype.lookupMutationBatch=function(e,t){return _s.resolve(this.os(t))},e.prototype.getNextMutationBatchAfterBatchId=function(e,t){var n=t+1,r=this.cs(n),i=r<0?0:r;return _s.resolve(this._n.length>i?this._n[i]:null)},e.prototype.getHighestUnacknowledgedBatchId=function(){return _s.resolve(0===this._n.length?-1:this.ss-1)},e.prototype.getAllMutationBatches=function(e){return _s.resolve(this._n.slice())},e.prototype.getAllMutationBatchesAffectingDocumentKey=function(e,t){var n=this,r=new tc(t,0),i=new tc(t,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(e){var t=n.os(e.ns);o.push(t)})),_s.resolve(o)},e.prototype.getAllMutationBatchesAffectingDocumentKeys=function(e,t){var n=this,r=new $o(jr);return t.forEach((function(e){var t=new tc(e,0),i=new tc(e,Number.POSITIVE_INFINITY);n.rs.forEachInRange([t,i],(function(e){r=r.add(e.ns)}))})),_s.resolve(this.us(r))},e.prototype.getAllMutationBatchesAffectingQuery=function(e,t){var n=t.path,r=n.length+1,i=n;si.isDocumentKey(i)||(i=i.child(""));var o=new tc(new si(i),0),a=new $o(jr);return this.rs.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.ns)),!0)}),o),_s.resolve(this.us(a))},e.prototype.us=function(e){var t=this,n=[];return e.forEach((function(e){var r=t.os(e);null!==r&&n.push(r)})),n},e.prototype.removeMutationBatch=function(e,t){var n=this;Rr(0===this.hs(t.batchId,"removed")),this._n.shift();var r=this.rs;return _s.forEach(t.mutations,(function(i){var o=new tc(i.key,t.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.rs=r}))},e.prototype.Gt=function(e){},e.prototype.containsKey=function(e,t){var n=new tc(t,0),r=this.rs.firstAfterOrEqual(n);return _s.resolve(t.isEqual(r&&r.key))},e.prototype.performConsistencyCheck=function(e){return this._n.length,_s.resolve()},e.prototype.hs=function(e,t){return this.cs(e)},e.prototype.cs=function(e){return 0===this._n.length?0:e-this._n[0].batchId},e.prototype.os=function(e){var t=this.cs(e);return t<0||t>=this._n.length?null:this._n[t]},e}(),rc=function(){function e(e,t){this.Ut=e,this.ls=t,this.docs=new Go(si.comparator),this.size=0}return e.prototype.addEntry=function(e,t,n){var r=t.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(t);return this.docs=this.docs.insert(r,{document:t.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(e,r.path.popLast())},e.prototype.removeEntry=function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)},e.prototype.getEntry=function(e,t){var n=this.docs.get(t);return _s.resolve(n?n.document.clone():Si.newInvalidDocument(t))},e.prototype.getEntries=function(e,t){var n=this,r=Zo();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.clone():Si.newInvalidDocument(e))})),_s.resolve(r)},e.prototype.getDocumentsMatchingQuery=function(e,t,n){for(var r=Zo(),i=new si(t.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!t.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||oo(t,c)&&(r=r.insert(c.key,c.clone()))}return _s.resolve(r)},e.prototype.fs=function(e,t){return _s.forEach(this.docs,(function(e){return t(e)}))},e.prototype.newChangeBuffer=function(e){return new ic(this)},e.prototype.getSize=function(e){return _s.resolve(this.size)},e}(),ic=function(e){function t(t){var n=this;return(n=e.call(this)||this).Ie=t,n}return(0,i.__extends)(t,e),t.prototype.applyChanges=function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(t.Ie.addEntry(e,i.document,t.getReadTime(r))):t.Ie.removeEntry(r)})),_s.waitFor(n)},t.prototype.getFromCache=function(e,t){return this.Ie.getEntry(e,t)},t.prototype.getAllFromCache=function(e,t){return this.Ie.getEntries(e,t)},t}(bu),oc=function(){function e(e){this.persistence=e,this.ds=new _u((function(e){return Ci(e)}),xi),this.lastRemoteSnapshotVersion=Br.min(),this.highestTargetId=0,this.ws=0,this._s=new ec,this.targetCount=0,this.ys=su.Jt()}return e.prototype.forEachTarget=function(e,t){return this.ds.forEach((function(e,n){return t(n)})),_s.resolve()},e.prototype.getLastRemoteSnapshotVersion=function(e){return _s.resolve(this.lastRemoteSnapshotVersion)},e.prototype.getHighestSequenceNumber=function(e){return _s.resolve(this.ws)},e.prototype.allocateTargetId=function(e){return this.highestTargetId=this.ys.next(),_s.resolve(this.highestTargetId)},e.prototype.setTargetsMetadata=function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.ws&&(this.ws=t),_s.resolve()},e.prototype.te=function(e){this.ds.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.ys=new su(t),this.highestTargetId=t),e.sequenceNumber>this.ws&&(this.ws=e.sequenceNumber)},e.prototype.addTargetData=function(e,t){return this.te(t),this.targetCount+=1,_s.resolve()},e.prototype.updateTargetData=function(e,t){return this.te(t),_s.resolve()},e.prototype.removeTargetData=function(e,t){return this.ds.delete(t.target),this._s.Zn(t.targetId),this.targetCount-=1,_s.resolve()},e.prototype.removeTargets=function(e,t,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),_s.waitFor(o).next((function(){return i}))},e.prototype.getTargetCount=function(e){return _s.resolve(this.targetCount)},e.prototype.getTargetData=function(e,t){var n=this.ds.get(t)||null;return _s.resolve(n)},e.prototype.addMatchingKeys=function(e,t,n){return this._s.Jn(t,n),_s.resolve()},e.prototype.removeMatchingKeys=function(e,t,n){this._s.Xn(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),_s.waitFor(i)},e.prototype.removeMatchingKeysForTargetId=function(e,t){return this._s.Zn(t),_s.resolve()},e.prototype.getMatchingKeysForTargetId=function(e,t){var n=this._s.es(t);return _s.resolve(n)},e.prototype.containsKey=function(e,t){return _s.resolve(this._s.containsKey(t))},e}(),ac=function(){function e(e,t){var n=this;this.gs={},this.Ne=new Ir(0),this.xe=!1,this.xe=!0,this.referenceDelegate=e(this),this.qe=new oc(this),this.Ut=new Ys,this.Ue=function(e,t){return new rc(e,(function(e){return n.referenceDelegate.ps(e)}))}(this.Ut),this.R=new Ds(t),this.Ke=new Ju(this.R)}return e.prototype.start=function(){return Promise.resolve()},e.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(e.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),e.prototype.setDatabaseDeletedListener=function(){},e.prototype.setNetworkEnabled=function(){},e.prototype.getIndexManager=function(){return this.Ut},e.prototype.getMutationQueue=function(e){var t=this.gs[e.toKey()];return t||(t=new nc(this.Ut,this.referenceDelegate),this.gs[e.toKey()]=t),t},e.prototype.getTargetCache=function(){return this.qe},e.prototype.getRemoteDocumentCache=function(){return this.Ue},e.prototype.getBundleCache=function(){return this.Ke},e.prototype.runTransaction=function(e,t,n){var r=this;xr("MemoryPersistence","Starting transaction:",e);var i=new sc(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(e){return r.referenceDelegate.Ts(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))},e.prototype.Is=function(e,t){return _s.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(e,t)}})))},e}(),sc=function(e){function t(t){var n=this;return(n=e.call(this)||this).currentSequenceNumber=t,n}return(0,i.__extends)(t,e),t}(ms),uc=function(){function e(e){this.persistence=e,this.As=new ec,this.Rs=null}return e.bs=function(t){return new e(t)},Object.defineProperty(e.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Nr()},enumerable:!1,configurable:!0}),e.prototype.addReference=function(e,t,n){return this.As.addReference(n,t),this.vs.delete(n.toString()),_s.resolve()},e.prototype.removeReference=function(e,t,n){return this.As.removeReference(n,t),this.vs.add(n.toString()),_s.resolve()},e.prototype.markPotentiallyOrphaned=function(e,t){return this.vs.add(t.toString()),_s.resolve()},e.prototype.removeTarget=function(e,t){var n=this;this.As.Zn(t.targetId).forEach((function(e){return n.vs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.vs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))},e.prototype.Es=function(){this.Rs=new Set},e.prototype.Ts=function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _s.forEach(this.vs,(function(r){var i=si.fromPath(r);return t.Ps(e,i).next((function(e){e||n.removeEntry(i)}))})).next((function(){return t.Rs=null,n.apply(e)}))},e.prototype.updateLimboDocument=function(e,t){var n=this;return this.Ps(e,t).next((function(e){e?n.vs.delete(t.toString()):n.vs.add(t.toString())}))},e.prototype.ps=function(e){return 0},e.prototype.Ps=function(e,t){var n=this;return _s.or([function(){return _s.resolve(n.As.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Is(e,t)}])},e}(),cc=function(){function e(e){this.uid=e}return e.prototype.isAuthenticated=function(){return null!=this.uid},e.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},e.prototype.isEqual=function(e){return e.uid===this.uid},e}();function lc(e,t){return"firestore_clients_"+e+"_"+t}function fc(e,t,n){var r="firestore_mutations_"+e+"_"+n;return t.isAuthenticated()&&(r+="_"+t.uid),r}function hc(e,t){return"firestore_targets_"+e+"_"+t}cc.UNAUTHENTICATED=new cc(null),cc.GOOGLE_CREDENTIALS=new cc("google-credentials-uid"),cc.FIRST_PARTY=new cc("first-party-uid"),cc.MOCK_USER=new cc("mock-user");var dc=function(){function e(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}return e.Vs=function(t,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Tr(o.error.code,o.error.message)),a?new e(t,n,o.state,i):(Ar("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),pc=function(){function e(e,t,n){this.targetId=e,this.state=t,this.error=n}return e.Vs=function(t,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Tr(i.error.code,i.error.message)),o?new e(t,i.state,r):(Ar("SharedClientState","Failed to parse target state for ID '"+t+"': "+n),null)},e.prototype.Ss=function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)},e}(),vc=function(){function e(e,t){this.clientId=e,this.activeTargetIds=t}return e.Vs=function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=aa(),a=0;i&&a<r.activeTargetIds.length;++a)i=ai(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new e(t,o):(Ar("SharedClientState","Failed to parse client data for instance '"+t+"': "+n),null)},e}(),gc=function(){function e(e,t){this.clientId=e,this.onlineState=t}return e.Vs=function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Ar("SharedClientState","Failed to parse online state: "+t),null)},e}(),mc=function(){function e(){this.activeTargetIds=aa()}return e.prototype.Ds=function(e){this.activeTargetIds=this.activeTargetIds.add(e)},e.prototype.Cs=function(e){this.activeTargetIds=this.activeTargetIds.delete(e)},e.prototype.Ss=function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)},e}(),yc=function(){function e(e,t,n,r,i){this.window=e,this.Se=t,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Go(jr),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=lc(this.persistenceKey,this.Ns),this.Ms=function(e){return"firestore_sequence_number_"+e}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new mc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(e){return"firestore_online_state_"+e}(this.persistenceKey),this.Ks=function(e){return"firestore_bundle_loaded_"+e}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return e.yt=function(e){return!(!e||!e.localStorage)},e.prototype.start=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,o,a,s,u,c,l,f,h=this;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.syncEngine.fn()];case 1:for(e=i.sent(),t=0,n=e;t<n.length;t++)(r=n[t])!==this.Ns&&(o=this.getItem(lc(this.persistenceKey,r)))&&(a=vc.Vs(r,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)f=l[c],this.ks(f);return this.$s=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0,[2]}}))}))},e.prototype.writeSequenceNumber=function(e){this.setItem(this.Ms,JSON.stringify(e))},e.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},e.prototype.isActiveQueryTarget=function(e){var t=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t},e.prototype.addPendingMutation=function(e){this.zs(e,"pending")},e.prototype.updateMutationState=function(e,t,n){this.zs(e,t,n),this.Hs(e)},e.prototype.addLocalQueryTarget=function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(hc(this.persistenceKey,e));if(n){var r=pc.Vs(e,n);r&&(t=r.state)}}return this.Js.Ds(e),this.Qs(),t},e.prototype.removeLocalQueryTarget=function(e){this.Js.Cs(e),this.Qs()},e.prototype.isLocalQueryTarget=function(e){return this.Js.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){this.removeItem(hc(this.persistenceKey,e))},e.prototype.updateQueryState=function(e,t,n){this.Ys(e,t,n)},e.prototype.handleUserChange=function(e,t,n){var r=this;t.forEach((function(e){r.Hs(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))},e.prototype.setOnlineState=function(e){this.Xs(e)},e.prototype.notifyBundleLoaded=function(){this.Zs()},e.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},e.prototype.getItem=function(e){var t=this.storage.getItem(e);return xr("SharedClientState","READ",e,t),t},e.prototype.setItem=function(e,t){xr("SharedClientState","SET",e,t),this.storage.setItem(e,t)},e.prototype.removeItem=function(e){xr("SharedClientState","REMOVE",e),this.storage.removeItem(e)},e.prototype.ks=function(e){var t=this,n=e;if(n.storageArea===this.storage){if(xr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,i.__awaiter)(t,void 0,void 0,(function(){var e,t,r,o,a,s;return(0,i.__generator)(this,(function(i){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return e=this.ti(n.key),[2,this.ei(e,null)];if(t=this.ni(n.key,n.newValue))return[2,this.ei(t.clientId,t)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(a=this.js(n.newValue)))return[2,this.Ws(a)]}else if(n.key===this.Ms)(s=function(e){var t=Ir.o;if(null!=e)try{var n=JSON.parse(e);Rr("number"==typeof n),t=n}catch(e){Ar("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue))!==Ir.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(e.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),e.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},e.prototype.zs=function(e,t,n){var r=new dc(this.currentUser,e,t,n),i=fc(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Ss())},e.prototype.Hs=function(e){var t=fc(this.persistenceKey,this.currentUser,e);this.removeItem(t)},e.prototype.Xs=function(e){var t={clientId:this.Ns,onlineState:e};this.storage.setItem(this.Us,JSON.stringify(t))},e.prototype.Ys=function(e,t,n){var r=hc(this.persistenceKey,e),i=new pc(e,t,n);this.setItem(r,i.Ss())},e.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},e.prototype.ti=function(e){var t=this.Ls.exec(e);return t?t[1]:null},e.prototype.ni=function(e,t){var n=this.ti(e);return vc.Vs(n,t)},e.prototype.si=function(e,t){var n=this.Bs.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return dc.Vs(new cc(i),r,t)},e.prototype.ri=function(e,t){var n=this.qs.exec(e),r=Number(n[1]);return pc.Vs(r,t)},e.prototype.js=function(e){return gc.Vs(e)},e.prototype.ii=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return e.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(e.batchId,e.state,e.error)]:(xr("SharedClientState","Ignoring mutation for non-active user "+e.user.uid),[2])}))}))},e.prototype.oi=function(e){return this.syncEngine.ai(e.targetId,e.state,e.error)},e.prototype.ei=function(e,t){var n=this,r=t?this.Fs.insert(e,t):this.Fs.remove(e),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(e){i.has(e)||a.push(e)})),i.forEach((function(e){o.has(e)||s.push(e)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},e.prototype.Ws=function(e){this.Fs.get(e.clientId)&&this.onlineStateHandler(e.onlineState)},e.prototype.Gs=function(e){var t=aa();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t},e}(),_c=function(){function e(){this.li=new mc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return e.prototype.addPendingMutation=function(e){},e.prototype.updateMutationState=function(e,t,n){},e.prototype.addLocalQueryTarget=function(e){return this.li.Ds(e),this.fi[e]||"not-current"},e.prototype.updateQueryState=function(e,t,n){this.fi[e]=t},e.prototype.removeLocalQueryTarget=function(e){this.li.Cs(e)},e.prototype.isLocalQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.clearQueryState=function(e){delete this.fi[e]},e.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},e.prototype.isActiveQueryTarget=function(e){return this.li.activeTargetIds.has(e)},e.prototype.start=function(){return this.li=new mc,Promise.resolve()},e.prototype.handleUserChange=function(e,t,n){},e.prototype.setOnlineState=function(e){},e.prototype.shutdown=function(){},e.prototype.writeSequenceNumber=function(e){},e.prototype.notifyBundleLoaded=function(){},e}(),bc=function(){function e(){}return e.prototype.di=function(e){},e.prototype.shutdown=function(){},e}(),wc=function(){function e(){var e=this;this.wi=function(){return e._i()},this.mi=function(){return e.yi()},this.gi=[],this.pi()}return e.prototype.di=function(e){this.gi.push(e)},e.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},e.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},e.prototype._i=function(){xr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(0)},e.prototype.yi=function(){xr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var e=0,t=this.gi;e<t.length;e++)(0,t[e])(1)},e.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},e}(),kc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ic=function(){function e(e){this.Ei=e.Ei,this.Ti=e.Ti}return e.prototype.Ii=function(e){this.Ai=e},e.prototype.Ri=function(e){this.bi=e},e.prototype.onMessage=function(e){this.vi=e},e.prototype.close=function(){this.Ti()},e.prototype.send=function(e){this.Ei(e)},e.prototype.Pi=function(){this.Ai()},e.prototype.Vi=function(e){this.bi(e)},e.prototype.Si=function(e){this.vi(e)},e}(),Sc=function(e){function t(t){var n=this;return(n=e.call(this,t)||this).forceLongPolling=t.forceLongPolling,n.autoDetectLongPolling=t.autoDetectLongPolling,n.useFetchStreams=t.useFetchStreams,n}return(0,i.__extends)(t,e),t.prototype.Fi=function(e,t,n,r){return new Promise((function(i,o){var a=new wr;a.listenOnce(gr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case vr.NO_ERROR:var t=a.getResponseJson();xr("Connection","XHR received:",JSON.stringify(t)),i(t);break;case vr.TIMEOUT:xr("Connection",'RPC "'+e+'" timed out'),o(new Tr(Sr.DEADLINE_EXCEEDED,"Request time out"));break;case vr.HTTP_ERROR:var n=a.getStatus();if(xr("Connection",'RPC "'+e+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Sr).indexOf(t)>=0?t:Sr.UNKNOWN}(r.status);o(new Tr(s,r.message))}else o(new Tr(Sr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Tr(Sr.UNAVAILABLE,"Connection failed."));break;default:Nr()}}finally{xr("Connection",'RPC "'+e+'" completed.')}}));var s=JSON.stringify(r);a.send(t,"POST",s,n,15)}))},t.prototype.Oi=function(e,t){var n=[this.Di,"/","google.firestore.v1.Firestore","/",e,"/channel"],r=dr(),i=pr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new _r({})),this.ki(a.initMessageHeaders,t),(0,o.isMobileCordova)()||(0,o.isReactNative)()||(0,o.isElectron)()||(0,o.isIE)()||(0,o.isUWP)()||(0,o.isBrowserExtension)()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");xr("Connection","Creating WebChannel: "+s,a);var u=r.createWebChannel(s,a),c=!1,l=!1,f=new Ic({Ei:function(e){l?xr("Connection","Not sending because WebChannel is closed:",e):(c||(xr("Connection","Opening WebChannel transport."),u.open(),c=!0),xr("Connection","WebChannel sending:",e),u.send(e))},Ti:function(){return u.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(u,br.EventType.OPEN,(function(){l||xr("Connection","WebChannel transport opened.")})),h(u,br.EventType.CLOSE,(function(){l||(l=!0,xr("Connection","WebChannel transport closed"),f.Vi())})),h(u,br.EventType.ERROR,(function(e){l||(l=!0,Pr("Connection","WebChannel transport errored:",e),f.Vi(new Tr(Sr.UNAVAILABLE,"The operation could not be completed")))})),h(u,br.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Rr(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){xr("Connection","WebChannel received error:",i);var o=i.status,a=function(e){var t=Uo[e];if(void 0!==t)return Ko(t)}(o),s=i.message;void 0===a&&(a=Sr.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,f.Vi(new Tr(a,s)),u.close()}else xr("Connection","WebChannel received:",n),f.Si(n)}})),h(i,mr.STAT_EVENT,(function(e){e.stat===yr.PROXY?xr("Connection","Detected buffering proxy"):e.stat===yr.NOPROXY&&xr("Connection","Detected no buffering proxy")})),setTimeout((function(){f.Pi()}),0),f},t}(function(){function e(e){this.databaseInfo=e,this.databaseId=e.databaseId;var t=e.ssl?"https":"http";this.Di=t+"://"+e.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return e.prototype.Ni=function(e,t,n,r){var i=this.xi(e,t);xr("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(e,i,o,n).then((function(e){return xr("RestConnection","Received: ",e),e}),(function(t){throw Pr("RestConnection",e+" failed with error: ",t,"url: ",i,"request:",n),t}))},e.prototype.$i=function(e,t,n,r){return this.Ni(e,t,n,r)},e.prototype.ki=function(e,t){if(e["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t)for(var n in t.authHeaders)t.authHeaders.hasOwnProperty(n)&&(e[n]=t.authHeaders[n])},e.prototype.xi=function(e,t){var n=kc[e];return this.Di+"/v1/"+t+":"+n},e}());function Tc(){return"undefined"!=typeof window?window:null}function Ec(){return"undefined"!=typeof document?document:null}function Cc(e){return new ya(e,!0)}var xc=function(){function e(e,t,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=e,this.timerId=t,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return e.prototype.reset=function(){this.qi=0},e.prototype.Qi=function(){this.qi=this.Bi},e.prototype.ji=function(e){var t=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&xr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return t.Ki=Date.now(),e()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},e.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},e.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},e.prototype.Wi=function(){return(Math.random()-.5)*this.qi},e}(),Ac=function(){function e(e,t,n,r,i,o){this.Se=e,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new xc(e,t)}return e.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},e.prototype.er=function(){return 2===this.state},e.prototype.start=function(){3!==this.state?this.auth():this.nr()},e.prototype.stop=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},e.prototype.sr=function(){this.state=0,this.Zi.reset()},e.prototype.ir=function(){var e=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return e.rr()})))},e.prototype.cr=function(e){this.ur(),this.stream.send(e)},e.prototype.rr=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return this.er()?[2,this.close(0)]:[2]}))}))},e.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},e.prototype.close=function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==e?this.Zi.reset():t&&t.code===Sr.RESOURCE_EXHAUSTED?(Ar(t.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):t&&t.code===Sr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=e,[4,this.listener.Ri(t)];case 1:return n.sent(),[2]}}))}))},e.prototype.ar=function(){},e.prototype.auth=function(){var e=this;this.state=1;var t=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(t){e.Yi===n&&e.lr(t)}),(function(n){t((function(){var t=new Tr(Sr.UNKNOWN,"Fetching auth token failed: "+n.message);return e.dr(t)}))}))},e.prototype.lr=function(e){var t=this,n=this.hr(this.Yi);this.stream=this.wr(e),this.stream.Ii((function(){n((function(){return t.state=2,t.listener.Ii()}))})),this.stream.Ri((function(e){n((function(){return t.dr(e)}))})),this.stream.onMessage((function(e){n((function(){return t.onMessage(e)}))}))},e.prototype.nr=function(){var e=this;this.state=4,this.Zi.ji((function(){return(0,i.__awaiter)(e,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return this.state=0,this.start(),[2]}))}))}))},e.prototype.dr=function(e){return xr("PersistentStream","close with error: "+e),this.stream=null,this.close(3,e)},e.prototype.hr=function(e){var t=this;return function(n){t.Se.enqueueAndForget((function(){return t.Yi===e?n():(xr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},e}(),Pc=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,i.__extends)(t,e),t.prototype.wr=function(e){return this.Hi.Oi("Listen",e)},t.prototype.onMessage=function(e){this.Zi.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Nr()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.I?(Rr(void 0===t||"string"==typeof t),Xr.fromBase64String(t||"")):(Rr(void 0===t||t instanceof Uint8Array),Xr.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=(s=t.targetChange.cause)&&function(e){var t=void 0===e.code?Sr.UNKNOWN:Ko(e.code);return new Tr(t,e.message||"")}(s);n=new fa(r,i,o,a||null)}else if("documentChange"in t){t.documentChange,(r=t.documentChange).document,r.document.name,r.document.updateTime,i=Ea(e,r.document.name),o=ka(r.document.updateTime);var s=new ki({mapValue:{fields:r.document.fields}}),u=(a=Si.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new ca(u,c,a.key,a)}else if("documentDelete"in t)t.documentDelete,(r=t.documentDelete).document,i=Ea(e,r.document),o=r.readTime?ka(r.readTime):Br.min(),s=Si.newNoDocument(i,o),a=r.removedTargetIds||[],n=new ca([],a,s.key,s);else if("documentRemove"in t)t.documentRemove,(r=t.documentRemove).document,i=Ea(e,r.document),o=r.removedTargetIds||[],n=new ca([],o,i,null);else{if(!("filter"in t))return Nr();t.filter;var l=t.filter;l.targetId,r=l.count||0,i=new zo(r),o=l.targetId,n=new la(o,i)}return n}(this.R,e),n=function(e){if(!("targetChange"in e))return Br.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?Br.min():t.readTime?ka(t.readTime):Br.min()}(e);return this.listener._r(t,n)},t.prototype.mr=function(e){var t={};t.database=Aa(this.R),t.addTarget=function(e,t){var n,r=t.target;return(n=Ai(r)?{documents:Ma(e,r)}:{query:La(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=ba(e,t.resumeToken):t.snapshotVersion.compareTo(Br.min())>0&&(n.readTime=_a(e,t.snapshotVersion.toTimestamp())),n}(this.R,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Nr()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,e);n&&(t.labels=n),this.cr(t)},t.prototype.yr=function(e){var t={};t.database=Aa(this.R),t.removeTarget=e,this.cr(t)},t}(Ac),Oc=function(e){function t(t,n,r,i,o){var a=this;return(a=e.call(this,t,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,i.__extends)(t,e),Object.defineProperty(t.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),t.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,e.prototype.start.call(this)},t.prototype.ar=function(){this.gr&&this.Er([])},t.prototype.wr=function(e){return this.Hi.Oi("Write",e)},t.prototype.onMessage=function(e){if(Rr(!!e.streamToken),this.lastStreamToken=e.streamToken,this.gr){this.Zi.reset();var t=function(e,t){return e&&e.length>0?(Rr(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?ka(e.updateTime):ka(t);return n.isEqual(Br.min())&&(n=ka(t)),new To(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=ka(e.commitTime);return this.listener.Tr(n,t)}return Rr(!e.writeResults||0===e.writeResults.length),this.gr=!0,this.listener.Ir()},t.prototype.Ar=function(){var e={};e.database=Aa(this.R),this.cr(e)},t.prototype.Er=function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return Ra(t.R,e)}))};this.cr(n)},t}(Ac),Nc=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).credentials=t,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,i.__extends)(t,e),t.prototype.br=function(){if(this.Rr)throw new Tr(Sr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.Ni=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Sr.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Tr(Sr.UNKNOWN,e.toString())}))},t.prototype.$i=function(e,t,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(e,t,n,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Sr.UNAUTHENTICATED&&r.credentials.invalidateToken(),e):new Tr(Sr.UNKNOWN,e.toString())}))},t.prototype.terminate=function(){this.Rr=!0},t}((function(){})),Rc=function(){function e(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return e.prototype.Sr=function(){var e=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.Pr=null,e.Cr("Backend didn't respond within 10 seconds."),e.Dr("Offline"),Promise.resolve()})))},e.prototype.Nr=function(e){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+e.toString()),this.Dr("Offline")))},e.prototype.set=function(e){this.kr(),this.vr=0,"Online"===e&&(this.Vr=!1),this.Dr(e)},e.prototype.Dr=function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))},e.prototype.Cr=function(e){var t="Could not reach Cloud Firestore backend. "+e+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ar(t),this.Vr=!1):xr("OnlineStateTracker",t)},e.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},e}(),Dc=function(e,t,n,r,o){var a=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di((function(e){n.enqueueAndForget((function(){return(0,i.__awaiter)(a,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return zc(this)?(xr("RemoteStore","Restarting streams for network reachability change."),[4,function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return(t=Dr(e)).Or.add(4),[4,Lc(t)];case 1:return n.sent(),t.Br.set("Unknown"),t.Or.delete(4),[4,Mc(t)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))})),this.Br=new Rc(n,r)};function Mc(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:if(!zc(e))return[3,4];t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function Lc(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:t=0,n=e.Mr,r.label=1;case 1:return t<n.length?[4,(0,n[t])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return t++,[3,1];case 4:return[2]}}))}))}function jc(e,t){var n=Dr(e);n.$r.has(t.targetId)||(n.$r.set(t.targetId,t),Vc(n)?Bc(n):il(n).er()&&Uc(n,t))}function Fc(e,t){var n=Dr(e),r=il(n);n.$r.delete(t),r.er()&&qc(n,t),0===n.$r.size&&(r.er()?r.ir():zc(n)&&n.Br.set("Unknown"))}function Uc(e,t){e.qr.U(t.targetId),il(e).mr(t)}function qc(e,t){e.qr.U(t),il(e).yr(t)}function Bc(e){e.qr=new da({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},lt:function(t){return e.$r.get(t)||null}}),il(e).start(),e.Br.Sr()}function Vc(e){return zc(e)&&!il(e).tr()&&e.$r.size>0}function zc(e){return 0===Dr(e).Or.size}function Wc(e){e.qr=void 0}function Kc(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return e.$r.forEach((function(t,n){Uc(e,t)})),[2]}))}))}function Gc(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){return Wc(e),Vc(e)?(e.Br.Nr(t),Bc(e)):e.Br.set("Unknown"),[2]}))}))}function Hc(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a;return(0,i.__generator)(this,(function(s){switch(s.label){case 0:if(e.Br.set("Online"),!(t instanceof fa&&2===t.state&&t.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:n=t.cause,r=0,o=t.targetIds,i.label=1;case 1:return r<o.length?(a=o[r],e.$r.has(a)?[4,e.remoteSyncer.rejectListen(a,n)]:[3,3]):[3,5];case 2:i.sent(),e.$r.delete(a),e.qr.removeTarget(a),i.label=3;case 3:i.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(e,t)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),xr("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),[4,Yc(e,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof ca?e.qr.X(t):t instanceof la?e.qr.rt(t):e.qr.et(t),n.isEqual(Br.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Bu(e.localStore)];case 8:return o=s.sent(),n.compareTo(o)>=0?[4,function(e,t){var n=e.qr.ut(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.$r.get(r);i&&e.$r.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.$r.get(t);if(n){e.$r.set(t,n.withResumeToken(Xr.EMPTY_BYTE_STRING,n.snapshotVersion)),qc(e,t);var r=new Rs(n.target,t,1,n.sequenceNumber);Uc(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return xr("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,Yc(e,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Yc(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r=this;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:if(!Ss(t))throw t;return e.Or.add(1),[4,Lc(e)];case 1:return o.sent(),e.Br.set("Offline"),n||(n=function(){return Bu(e.localStore)}),e.asyncQueue.enqueueRetryable((function(){return(0,i.__awaiter)(r,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return xr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return t.sent(),e.Or.delete(1),[4,Mc(e)];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))}function $c(e,t){return t().catch((function(n){return Yc(e,n,t)}))}function Xc(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:t=Dr(e),n=ol(t),r=t.Fr.length>0?t.Fr[t.Fr.length-1].batchId:-1,i.label=1;case 1:if(!function(e){return zc(e)&&e.Fr.length<10}(t))return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,Wu(t.localStore,r)];case 3:return null===(o=i.sent())?(0===t.Fr.length&&n.ir(),[3,7]):(r=o.batchId,function(e,t){e.Fr.push(t);var n=ol(e);n.er()&&n.pr&&n.Er(t.mutations)}(t,o),[3,6]);case 4:return a=i.sent(),[4,Yc(t,a)];case 5:return i.sent(),[3,6];case 6:return[3,1];case 7:return Qc(t)&&Zc(t),[2]}}))}))}function Qc(e){return zc(e)&&!ol(e).tr()&&e.Fr.length>0}function Zc(e){ol(e).start()}function Jc(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return ol(e).Ar(),[2]}))}))}function el(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o;return(0,i.__generator)(this,(function(i){for(t=ol(e),n=0,r=e.Fr;n<r.length;n++)o=r[n],t.Er(o.mutations);return[2]}))}))}function tl(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r=e.Fr.shift(),o=Ns.from(r,t,n),[4,$c(e,(function(){return e.remoteSyncer.applySuccessfulWrite(o)}))];case 1:return i.sent(),[4,Xc(e)];case 2:return i.sent(),[2]}}))}))}function nl(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return t&&ol(e).pr?[4,function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return Wo(r=t.code)&&r!==Sr.ABORTED?(n=e.Fr.shift(),ol(e).sr(),[4,$c(e,(function(){return e.remoteSyncer.rejectFailedWrite(n.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,Xc(e)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(e,t)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Qc(e)&&Zc(e),[2]}}))}))}function rl(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return n=Dr(e),t?(n.Or.delete(2),[4,Mc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return t?[3,4]:(n.Or.add(2),[4,Lc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function il(e){var t=this;return e.Ur||(e.Ur=function(e,t,n){var r=Dr(e);return r.br(),new Pc(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Kc.bind(null,e),Ri:Gc.bind(null,e),_r:Hc.bind(null,e)}),e.Mr.push((function(n){return(0,i.__awaiter)(t,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Ur.sr(),Vc(e)?Bc(e):e.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,e.Ur.stop()];case 2:t.sent(),Wc(e),t.label=3;case 3:return[2]}}))}))}))),e.Ur}function ol(e){var t=this;return e.Kr||(e.Kr=function(e,t,n){var r=Dr(e);return r.br(),new Oc(t,r.Hi,r.credentials,r.R,n)}(e.datastore,e.asyncQueue,{Ii:Jc.bind(null,e),Ri:nl.bind(null,e),Ir:el.bind(null,e),Tr:tl.bind(null,e)}),e.Mr.push((function(n){return(0,i.__awaiter)(t,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return n?(e.Kr.sr(),[4,Xc(e)]):[3,2];case 1:return t.sent(),[3,4];case 2:return[4,e.Kr.stop()];case 3:t.sent(),e.Fr.length>0&&(xr("RemoteStore","Stopping write stream with "+e.Fr.length+" pending writes"),e.Fr=[]),t.label=4;case 4:return[2]}}))}))}))),e.Kr}var al=function(){function e(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return e.createAndSchedule=function(t,n,r,i,o){var a=new e(t,n,Date.now()+r,i,o);return a.start(r),a},e.prototype.start=function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)},e.prototype.skipDelay=function(){return this.handleDelayElapsed()},e.prototype.cancel=function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tr(Sr.CANCELLED,"Operation cancelled"+(e?": "+e:""))))},e.prototype.handleDelayElapsed=function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))},e.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},e}();function sl(e,t){if(Ar("AsyncQueue",t+": "+e),Ss(e))return new Tr(Sr.UNAVAILABLE,t+": "+e);throw e}var ul=function(){function e(e){this.comparator=e?function(t,n){return e(t,n)||si.comparator(t.key,n.key)}:function(e,t){return si.comparator(e.key,t.key)},this.keyedMap=ea(),this.sortedSet=new Go(this.comparator)}return e.emptySet=function(t){return new e(t.comparator)},e.prototype.has=function(e){return null!=this.keyedMap.get(e)},e.prototype.get=function(e){return this.keyedMap.get(e)},e.prototype.first=function(){return this.sortedSet.minKey()},e.prototype.last=function(){return this.sortedSet.maxKey()},e.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},e.prototype.indexOf=function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1},Object.defineProperty(e.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))},e.prototype.add=function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))},e.prototype.delete=function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this},e.prototype.isEqual=function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},e.prototype.toString=function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"},e.prototype.copy=function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r},e}(),cl=function(){function e(){this.Qr=new Go(si.comparator)}return e.prototype.track=function(e){var t=e.doc.key,n=this.Qr.get(t);n?0!==e.type&&3===n.type?this.Qr=this.Qr.insert(t,e):3===e.type&&1!==n.type?this.Qr=this.Qr.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Qr=this.Qr.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Qr=this.Qr.remove(t):1===e.type&&2===n.type?this.Qr=this.Qr.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Qr=this.Qr.insert(t,{type:2,doc:e.doc}):Nr():this.Qr=this.Qr.insert(t,e)},e.prototype.jr=function(){var e=[];return this.Qr.inorderTraversal((function(t,n){e.push(n)})),e},e}(),ll=function(){function e(e,t,n,r,i,o,a,s){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return e.fromInitialDocuments=function(t,n,r,i){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,ul.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&no(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0},e}(),fl=function(){this.Wr=void 0,this.listeners=[]},hl=function(){this.queries=new _u((function(e){return ro(e)}),no),this.onlineState="Unknown",this.Gr=new Set};function dl(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(n=Dr(e),r=t.query,o=!1,(a=n.queries.get(r))||(o=!0,a=new fl),!o)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),s=a,[4,n.onListen(r)];case 2:return s.Wr=i.sent(),[3,4];case 3:return u=i.sent(),c=sl(u,"Initialization of query '"+io(t.query)+"' failed"),[2,void t.onError(c)];case 4:return n.queries.set(r,a),a.listeners.push(t),t.zr(n.onlineState),a.Wr&&t.Hr(a.Wr)&&ml(n),[2]}}))}))}function pl(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s;return(0,i.__generator)(this,(function(i){return n=Dr(e),r=t.query,o=!1,(a=n.queries.get(r))&&(s=a.listeners.indexOf(t))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function vl(e,t){for(var n=Dr(e),r=!1,i=0,o=t;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&ml(n)}function gl(e,t,n){var r=Dr(e),i=r.queries.get(t);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(t)}function ml(e){e.Gr.forEach((function(e){e.next()}))}var yl=function(){function e(e,t,n){this.query=e,this.Jr=t,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return e.prototype.Hr=function(e){if(!this.options.includeMetadataChanges){for(var t=[],n=0,r=e.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&t.push(i)}e=new ll(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(e)&&(this.Jr.next(e),o=!0):this.eo(e,this.onlineState)&&(this.no(e),o=!0),this.Xr=e,o},e.prototype.onError=function(e){this.Jr.error(e)},e.prototype.zr=function(e){this.onlineState=e;var t=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,e)&&(this.no(this.Xr),t=!0),t},e.prototype.eo=function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return!(this.options.so&&n||e.docs.isEmpty()&&"Offline"!==t)},e.prototype.Zr=function(e){if(e.docChanges.length>0)return!0;var t=this.Xr&&this.Xr.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges},e.prototype.no=function(e){e=ll.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Yr=!0,this.Jr.next(e)},e}(),_l=function(){function e(e,t){this.payload=e,this.byteLength=t}return e.prototype.io=function(){return"metadata"in this.payload},e}(),bl=function(){function e(e){this.R=e}return e.prototype.qn=function(e){return Ea(this.R,e)},e.prototype.Un=function(e){return e.metadata.exists?Na(this.R,e.document,!1):Si.newNoDocument(this.qn(e.metadata.name),this.Kn(e.metadata.readTime))},e.prototype.Kn=function(e){return ka(e)},e}(),wl=function(){function e(e,t,n){this.ro=e,this.localStore=t,this.R=n,this.queries=[],this.documents=[],this.progress=kl(e)}return e.prototype.oo=function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;return e.payload.namedQuery?this.queries.push(e.payload.namedQuery):e.payload.documentMetadata?(this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t):e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t),t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null},e.prototype.co=function(e){for(var t=new Map,n=new bl(this.R),r=0,i=e;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(t.get(c)||ia()).add(a);t.set(c,l)}}return t},e.prototype.complete=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Qu(this.localStore,new bl(this.R),this.documents,this.ro.id)];case 1:e=i.sent(),t=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(o=r[n],[4,Zu(this.localStore,o,t.get(o.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Ru(Object.assign({},this.progress),e))]}}))}))},e}();function kl(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var Il=function(e){this.key=e},Sl=function(e){this.key=e},Tl=function(){function e(e,t){this.query=e,this.uo=t,this.ao=null,this.current=!1,this.ho=ia(),this.mutatedKeys=ia(),this.lo=ao(e),this.fo=new ul(this.lo)}return Object.defineProperty(e.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),e.prototype._o=function(e,t){var n=this,r=t?t.mo:new cl,i=t?t.fo:this.fo,o=t?t.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Yi(this.query)&&i.size===this.query.limit?i.last():null,c=$i(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=oo(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.yo(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.lo(f,u)>0||c&&n.lo(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(a=a.add(f),o=d?o.add(e):o.delete(e)):(a=a.delete(e),o=o.delete(e)))})),Yi(this.query)||$i(this.query))for(;a.size>this.query.limit;){var l=Yi(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},e.prototype.yo=function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations},e.prototype.applyChanges=function(e,t,n){var r=this,i=this.fo;this.fo=e.fo,this.mutatedKeys=e.mutatedKeys;var o=e.mo.jr();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nr()}};return n(e)-n(t)}(e.type,t.type)||r.lo(e.doc,t.doc)})),this.po(n);var a=t?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new ll(this.query,e.fo,i,o,e.mutatedKeys,0===s,u,!1),To:a}:{To:a}},e.prototype.zr=function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({fo:this.fo,mo:new cl,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},e.prototype.Io=function(e){return!this.uo.has(e)&&!!this.fo.has(e)&&!this.fo.get(e).hasLocalMutations},e.prototype.po=function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.uo=t.uo.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.uo=t.uo.delete(e)})),this.current=e.current)},e.prototype.Eo=function(){var e=this;if(!this.current)return[];var t=this.ho;this.ho=ia(),this.fo.forEach((function(t){e.Io(t.key)&&(e.ho=e.ho.add(t.key))}));var n=[];return t.forEach((function(t){e.ho.has(t)||n.push(new Sl(t))})),this.ho.forEach((function(e){t.has(e)||n.push(new Il(e))})),n},e.prototype.Ao=function(e){this.uo=e.Bn,this.ho=ia();var t=this._o(e.documents);return this.applyChanges(t,!0)},e.prototype.Ro=function(){return ll.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},e}(),El=function(e,t,n){this.query=e,this.targetId=t,this.view=n},Cl=function(e){this.key=e,this.bo=!1},xl=function(){function e(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new _u((function(e){return ro(e)}),no),this.Vo=new Map,this.So=new Set,this.Do=new Go(si.comparator),this.Co=new Map,this.No=new ec,this.xo={},this.ko=new Map,this.Fo=su.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(e.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),e}();function Al(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=of(e),(a=n.Po.get(t))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),o=a.view.Ro(),[3,4]):[3,1];case 1:return[4,Ku(n.localStore,eo(t))];case 2:return s=i.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,Pl(n,t,r,"current"===u)];case 3:o=i.sent(),n.isPrimaryClient&&jc(n.remoteStore,s),i.label=4;case 4:return[2,o]}}))}))}function Pl(e,t,n,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c,l;return(0,i.__generator)(this,(function(f){switch(f.label){case 0:return e.Oo=function(t,n,r){return function(e,t,n,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var o,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(o=t.view._o(n)).Nn?[4,Hu(e.localStore,t.query,!1).then((function(e){var n=e.documents;return t.view._o(n,o)}))]:[3,2];case 1:o=i.sent(),i.label=2;case 2:return a=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(o,e.isPrimaryClient,a),[2,(zl(e,t.targetId,s.To),s.snapshot)]}}))}))}(e,t,n,r)},[4,Hu(e.localStore,t,!0)];case 1:return o=f.sent(),a=new Tl(t,o.Bn),s=a._o(o.documents),u=ua.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=a.applyChanges(s,e.isPrimaryClient,u),zl(e,n,c.To),l=new El(t,n,a),[2,(e.Po.set(t,l),e.Vo.has(n)?e.Vo.get(n).push(t):e.Vo.set(n,[t]),c.snapshot)]}}))}))}function Ol(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=Dr(e),r=n.Po.get(t),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter((function(e){return!no(e,t)}))),void n.Po.delete(t))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Gu(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Fc(n.remoteStore,r.targetId),Bl(n,r.targetId)})).catch(hu)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return Bl(n,r.targetId),[4,Gu(n.localStore,r.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))}function Nl(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:r=af(e),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,function(e,t){var n,r=Dr(e),i=qr.now(),o=t.reduce((function(e,t){return e.add(t.key)}),ia());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.Mn.pn(e,o).next((function(o){n=o;for(var a=[],s=0,u=t;s<u.length;s++){var c=u[s],l=Oo(c,n.get(c.key));null!=l&&a.push(new Mo(c.key,l,Ii(l.value.mapValue),Eo.exists(!0)))}return r._n.addMutationBatch(e,i,a,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(r.localStore,t)];case 2:return o=i.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(e,t,n){var r=e.xo[e.currentUser.toKey()];r||(r=new Go(jr)),r=r.insert(t,n),e.xo[e.currentUser.toKey()]=r}(r,o.batchId,n),[4,Gl(r,o.changes)];case 3:return i.sent(),[4,Xc(r.remoteStore)];case 4:return i.sent(),[3,6];case 5:return a=i.sent(),s=sl(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Rl(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:n=Dr(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Vu(n.localStore,t)];case 2:return r=i.sent(),t.targetChanges.forEach((function(e,t){var r=n.Co.get(t);r&&(Rr(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.bo=!0:e.modifiedDocuments.size>0?Rr(r.bo):e.removedDocuments.size>0&&(Rr(r.bo),r.bo=!1))})),[4,Gl(n,r,t)];case 3:return i.sent(),[3,6];case 4:return[4,hu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Dl(e,t,n){var r=Dr(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(e,n){var r=n.view.zr(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Dr(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(t)&&(r=!0)})),r&&ml(n)}(r.eventManager,t),i.length&&r.vo._r(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Ml(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s,u,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(r=Dr(e)).sharedClientState.updateQueryState(t,"rejected",n),o=r.Co.get(t),(a=o&&o.key)?(s=(s=new Go(si.comparator)).insert(a,Si.newNoDocument(a,Br.min())),u=ia().add(a),c=new sa(Br.min(),new Map,new $o(jr),s,u),[4,Rl(r,c)]):[3,2];case 1:return i.sent(),r.Do=r.Do.remove(a),r.Co.delete(t),Kl(r),[3,4];case 2:return[4,Gu(r.localStore,t,!1).then((function(){return Bl(r,t,n)})).catch(hu)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))}function Ll(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:n=Dr(e),r=t.batch.batchId,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,qu(n.localStore,t)];case 2:return o=i.sent(),ql(n,r,null),Ul(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Gl(n,o)];case 3:return i.sent(),[3,6];case 4:return[4,hu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function jl(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:r=Dr(e),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,function(e,t){var n=Dr(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n._n.lookupMutationBatch(e,t).next((function(t){return Rr(null!==t),r=t.keys(),n._n.removeMutationBatch(e,t)})).next((function(){return n._n.performConsistencyCheck(e)})).next((function(){return n.Mn.pn(e,r)}))}))}(r.localStore,t)];case 2:return o=i.sent(),ql(r,t,n),Ul(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),[4,Gl(r,o)];case 3:return i.sent(),[3,6];case 4:return[4,hu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Fl(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:zc((n=Dr(e)).remoteStore)||xr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,function(e){var t=Dr(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t._n.getHighestUnacknowledgedBatchId(e)}))}(n.localStore)];case 2:return-1===(r=i.sent())?[2,void t.resolve()]:((o=n.ko.get(r)||[]).push(t),n.ko.set(r,o),[3,4]);case 3:return a=i.sent(),s=sl(a,"Initialization of waitForPendingWrites() operation failed"),t.reject(s),[3,4];case 4:return[2]}}))}))}function Ul(e,t){(e.ko.get(t)||[]).forEach((function(e){e.resolve()})),e.ko.delete(t)}function ql(e,t,n){var r=Dr(e),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(t);o&&(n?o.reject(n):o.resolve(),i=i.remove(t)),r.xo[r.currentUser.toKey()]=i}}function Bl(e,t,n){void 0===n&&(n=null),e.sharedClientState.removeLocalQueryTarget(t);for(var r=0,i=e.Vo.get(t);r<i.length;r++){var o=i[r];e.Po.delete(o),n&&e.vo.Mo(o,n)}e.Vo.delete(t),e.isPrimaryClient&&e.No.Zn(t).forEach((function(t){e.No.containsKey(t)||Vl(e,t)}))}function Vl(e,t){e.So.delete(t.path.canonicalString());var n=e.Do.get(t);null!==n&&(Fc(e.remoteStore,n),e.Do=e.Do.remove(t),e.Co.delete(n),Kl(e))}function zl(e,t,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof Il?(e.No.addReference(o.key,t),Wl(e,o)):o instanceof Sl?(xr("SyncEngine","Document no longer in limbo: "+o.key),e.No.removeReference(o.key,t),e.No.containsKey(o.key)||Vl(e,o.key)):Nr()}}function Wl(e,t){var n=t.key,r=n.path.canonicalString();e.Do.get(n)||e.So.has(r)||(xr("SyncEngine","New document in limbo: "+n),e.So.add(r),Kl(e))}function Kl(e){for(;e.So.size>0&&e.Do.size<e.maxConcurrentLimboResolutions;){var t=e.So.values().next().value;e.So.delete(t);var n=new si(Gr.fromString(t)),r=e.Fo.next();e.Co.set(r,new Cl(n)),e.Do=e.Do.insert(n,r),jc(e.remoteStore,new Rs(eo(Hi(n.path)),r,2,Ir.o))}}function Gl(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.__generator)(this,(function(u){switch(u.label){case 0:return r=Dr(e),o=[],a=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(e,i){s.push(r.Oo(i,t,n).then((function(e){if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(i.targetId,e.fromCache?"not-current":"current"),o.push(e);var t=Mu.Pn(i.targetId,e);a.push(t)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(o),[4,function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l,f;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:n=Dr(e),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return _s.forEach(t,(function(t){return _s.forEach(t.bn,(function(r){return n.persistence.referenceDelegate.addReference(e,t.targetId,r)})).next((function(){return _s.forEach(t.vn,(function(r){return n.persistence.referenceDelegate.removeReference(e,t.targetId,r)}))}))}))}))];case 2:return i.sent(),[3,4];case 3:if(!Ss(r=i.sent()))throw r;return xr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,a=t;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=n.kn.get(u),l=c.snapshotVersion,f=c.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(u,f));return[2]}}))}))}(r.localStore,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Hl(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(n=Dr(e)).currentUser.isEqual(t)?[3,3]:(xr("SyncEngine","User change. New user:",t.toKey()),[4,Uu(n.localStore,t)]);case 1:return r=i.sent(),n.currentUser=t,function(e,t){e.ko.forEach((function(e){e.forEach((function(e){e.reject(new Tr(Sr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.ko.clear()}(n),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),[4,Gl(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Yl(e,t){var n=Dr(e),r=n.Co.get(t);if(r&&r.bo)return ia().add(r.key);var i=ia(),o=n.Vo.get(t);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function $l(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Hu((n=Dr(e)).localStore,t.query,!0)];case 1:return r=i.sent(),o=t.view.Ao(r),[2,(n.isPrimaryClient&&zl(n,t.targetId,o.To),o)]}}))}))}function Xl(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){return[2,$u((t=Dr(e)).localStore).then((function(e){return Gl(t,e)}))]}))}))}function Ql(e,t,n,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,function(e,t){var n=Dr(e),r=Dr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.jt(e,t).next((function(t){return t?n.Mn.pn(e,t):_s.resolve(null)}))}))}((o=Dr(e)).localStore,t)];case 1:return null===(a=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,Xc(o.remoteStore)];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(ql(o,t,r||null),Ul(o,t),function(e,t){Dr(Dr(e)._n).Gt(t)}(o.localStore,t)):Nr(),i.label=4;case 4:return[4,Gl(o,a)];case 5:return i.sent(),[3,7];case 6:xr("SyncEngine","Cannot apply mutation batch with id: "+t),i.label=7;case 7:return[2]}}))}))}function Zl(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return of(n=Dr(e)),af(n),!0!==t||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Jl(n,r.toArray())]);case 1:return o=i.sent(),n.$o=!0,[4,rl(n.remoteStore,!0)];case 2:for(i.sent(),a=0,s=o;a<s.length;a++)u=s[a],jc(n.remoteStore,u);return[3,7];case 3:return!1!==t||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach((function(e,t){n.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return Bl(n,t),Gu(n.localStore,t,!0)})),Fc(n.remoteStore,t)})),[4,l]);case 4:return i.sent(),[4,Jl(n,c)];case 5:return i.sent(),function(e){var t=Dr(e);t.Co.forEach((function(e,n){Fc(t.remoteStore,n)})),t.No.ts(),t.Co=new Map,t.Do=new Go(si.comparator)}(n),n.$o=!1,[4,rl(n.remoteStore,!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))}function Jl(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l,f,h,d,p,v,g;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:n=Dr(e),r=[],o=[],a=0,s=t,i.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,Ku(n.localStore,eo(l[0]))]:[3,7]):[3,13];case 2:c=i.sent(),f=0,h=l,i.label=3;case 3:return f<h.length?(d=h[f],p=n.Po.get(d),[4,$l(n,p)]):[3,6];case 4:(v=i.sent()).snapshot&&o.push(v.snapshot),i.label=5;case 5:return f++,[3,3];case 6:return[3,11];case 7:return[4,Yu(n.localStore,u)];case 8:return g=i.sent(),[4,Ku(n.localStore,g)];case 9:return c=i.sent(),[4,Pl(n,ef(g),u,!1)];case 10:i.sent(),i.label=11;case 11:r.push(c),i.label=12;case 12:return a++,[3,1];case 13:return[2,(n.vo._r(o),r)]}}))}))}function ef(e){return Gi(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function tf(e){var t=Dr(e);return Dr(Dr(t.localStore).persistence).fn()}function nf(e,t,n,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var o,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(o=Dr(e)).$o?(xr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(t))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,$u(o.localStore)];case 3:return a=i.sent(),s=sa.createSynthesizedRemoteEventForCurrentChange(t,"current"===n),[4,Gl(o,a,s)];case 4:return i.sent(),[3,8];case 5:return[4,Gu(o.localStore,t,!0)];case 6:return i.sent(),Bl(o,t,r),[3,8];case 7:Nr(),i.label=8;case 8:return[2]}}))}))}function rf(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s,u,c,l,f,h,d;return(0,i.__generator)(this,(function(p){switch(p.label){case 0:if(!(r=of(e)).$o)return[3,10];o=0,a=t,p.label=1;case 1:return o<a.length?(s=a[o],r.Vo.has(s)?(xr("SyncEngine","Adding an already active target "+s),[3,5]):[4,Yu(r.localStore,s)]):[3,6];case 2:return u=p.sent(),[4,Ku(r.localStore,u)];case 3:return c=p.sent(),[4,Pl(r,ef(u),c.targetId,!1)];case 4:p.sent(),jc(r.remoteStore,c),p.label=5;case 5:return o++,[3,1];case 6:l=function(e){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return r.Vo.has(e)?[4,Gu(r.localStore,e,!1).then((function(){Fc(r.remoteStore,e),Bl(r,e)})).catch(hu)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))},f=0,h=n,p.label=7;case 7:return f<h.length?(d=h[f],[5,l(d)]):[3,10];case 8:p.sent(),p.label=9;case 9:return f++,[3,7];case 10:return[2]}}))}))}function of(e){var t=Dr(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Rl.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Yl.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ml.bind(null,t),t.vo._r=vl.bind(null,t.eventManager),t.vo.Mo=gl.bind(null,t.eventManager),t}function af(e){var t=Dr(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Ll.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=jl.bind(null,t),t}function sf(e,t,n){var r=Dr(e);(function(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s,u,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,14,,15]),[4,t.getMetadata()];case 1:return r=i.sent(),[4,function(e,t){var n=Dr(e),r=ka(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n.Ke.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(e.localStore,r)];case 2:return i.sent()?[4,t.close()]:[3,4];case 3:return[2,(i.sent(),void n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)))];case 4:return n._updateProgress(kl(r)),o=new wl(r,e.localStore,t.R),[4,t.Lo()];case 5:a=i.sent(),i.label=6;case 6:return a?[4,o.oo(a)]:[3,10];case 7:return(s=i.sent())&&n._updateProgress(s),[4,t.Lo()];case 8:a=i.sent(),i.label=9;case 9:return[3,6];case 10:return[4,o.complete()];case 11:return u=i.sent(),[4,Gl(e,u.wn,void 0)];case 12:return i.sent(),[4,function(e,t){var n=Dr(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n.Ke.saveBundleMetadata(e,t)}))}(e.localStore,r)];case 13:return i.sent(),n._completeWith(u.progress),[3,15];case 14:return Pr("SyncEngine","Loading bundle failed with "+(c=i.sent())),n._failWith(c),[3,15];case 15:return[2]}}))}))})(r,t,n).then((function(){r.sharedClientState.notifyBundleLoaded()}))}var uf=function(){function e(){this.synchronizeTabs=!1}return e.prototype.initialize=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return this.R=Cc(e.databaseInfo.databaseId),this.sharedClientState=this.Bo(e),this.persistence=this.qo(e),[4,this.persistence.start()];case 1:return t.sent(),this.gcScheduler=this.Uo(e),this.localStore=this.Ko(e),[2]}}))}))},e.prototype.Uo=function(e){return null},e.prototype.Ko=function(e){return Fu(this.persistence,new Lu,e.initialUser,this.R)},e.prototype.qo=function(e){return new ac(uc.bs,this.R)},e.prototype.Bo=function(e){return new _c},e.prototype.terminate=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return e.sent(),[4,this.persistence.shutdown()];case 2:return e.sent(),[2]}}))}))},e}(),cf=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).Qo=t,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,i.__extends)(t,e),t.prototype.initialize=function(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return r.sent(),[4,Xu(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,t)];case 3:return r.sent(),[4,af(this.Qo.syncEngine)];case 4:return r.sent(),[4,Xc(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},t.prototype.Ko=function(e){return Fu(this.persistence,new Lu,e.initialUser,this.R)},t.prototype.Uo=function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new vu(t,e.asyncQueue)},t.prototype.qo=function(e){var t=Nu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Js.withCacheSize(this.cacheSizeBytes):Js.DEFAULT;return new Au(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,Tc(),Ec(),this.R,this.sharedClientState,!!this.forceOwnership)},t.prototype.Bo=function(e){return new _c},t}(uf),lf=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n,!1)||this).Qo=t,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,i.__extends)(t,e),t.prototype.initialize=function(t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return[4,e.prototype.initialize.call(this,t)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof yc?(this.sharedClientState.syncEngine={ui:Ql.bind(null,n),ai:nf.bind(null,n),hi:rf.bind(null,n),fn:tf.bind(null,n),ci:Xl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He((function(e){return(0,i.__awaiter)(r,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,Zl(this.Qo.syncEngine,e)];case 1:return t.sent(),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):e||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},t.prototype.Bo=function(e){var t=Tc();if(!yc.yt(t))throw new Tr(Sr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Nu(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yc(t,e.asyncQueue,n,e.clientId,e.initialUser)},t}(cf),ff=function(){function e(){}return e.prototype.initialize=function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n=this;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Dl(n.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Hl.bind(null,this.syncEngine),[4,rl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.createEventManager=function(e){return new hl},e.prototype.createDatastore=function(e){var t,n=Cc(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new Sc(t));return function(e,t,n){return new Nc(e,t,n)}(e.credentials,r,n)},e.prototype.createRemoteStore=function(e){var t,n,r,i,o,a=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Dl(a.syncEngine,e,0)},o=wc.yt()?new wc:new bc,new Dc(t,n,r,i,o)},e.prototype.createSyncEngine=function(e,t){return function(e,t,n,r,i,o,a){var s=new xl(e,t,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)},e.prototype.terminate=function(){return function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return t=Dr(e),xr("RemoteStore","RemoteStore shutting down."),t.Or.add(5),[4,Lc(t)];case 1:return n.sent(),t.Lr.shutdown(),t.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},e}();function hf(e,t){void 0===t&&(t=10240);var n=0;return{read:function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r;return(0,i.__generator)(this,(function(i){return n<e.byteLength?(r={value:e.slice(n,n+t),done:!1},[2,(n+=t,r)]):[2,{done:!0}]}))}))},cancel:function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return[2]}))}))},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var df=function(){function e(e){this.observer=e,this.muted=!1}return e.prototype.next=function(e){this.observer.next&&this.jo(this.observer.next,e)},e.prototype.error=function(e){this.observer.error?this.jo(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)},e.prototype.Wo=function(){this.muted=!0},e.prototype.jo=function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)},e}(),pf=function(){function e(e,t){var n=this;this.Go=e,this.R=t,this.metadata=new ys,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(e){e&&e.io()?n.metadata.resolve(e.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==e?void 0:e.payload)))}),(function(e){return n.metadata.reject(e)}))}return e.prototype.close=function(){return this.Go.cancel()},e.prototype.getMetadata=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return[2,this.metadata.promise]}))}))},e.prototype.Lo=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getMetadata()];case 1:return[2,(e.sent(),this.Ho())]}}))}))},e.prototype.Ho=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(e=i.sent())?[2,null]:(t=this.zo.decode(e),n=Number(t),isNaN(n)&&this.Yo("length string ("+t+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new _l(JSON.parse(r),e.length+n)]}}))}))},e.prototype.Zo=function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))},e.prototype.Jo=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((e=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),t=this.buffer.slice(0,e),[2,(this.buffer=this.buffer.slice(e),t)])}}))}))},e.prototype.Xo=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return this.buffer.length<e?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return t=this.zo.decode(this.buffer.slice(0,e)),[2,(this.buffer=this.buffer.slice(e),t)]}}))}))},e.prototype.Yo=function(e){throw this.Go.cancel(),new Error("Invalid bundle format: "+e)},e.prototype.tc=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(e=n.sent()).done||((t=new Uint8Array(this.buffer.length+e.value.length)).set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t),[2,e.done]}}))}))},e}(),vf=function(){function e(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return e.prototype.lookup=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Tr(Sr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=Dr(e),r=Aa(n.R)+"/documents",o={documents:t.map((function(e){return Ta(n.R,e)}))},[4,n.$i("BatchGetDocuments",r,o)];case 1:return a=i.sent(),s=new Map,a.forEach((function(e){var t=function(e,t){return"found"in t?function(e,t){Rr(!!t.found),t.found.name,t.found.updateTime;var n=Ea(e,t.found.name),r=ka(t.found.updateTime),i=new ki({mapValue:{fields:t.found.fields}});return Si.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Rr(!!t.missing),Rr(!!t.readTime);var n=Ea(e,t.missing),r=ka(t.readTime);return Si.newNoDocument(n,r)}(e,t):Nr()}(n.R,e);s.set(t.key.toString(),t)})),u=[],[2,(t.forEach((function(e){var t=s.get(e.toString());Rr(!!t),u.push(t)})),u)]}}))}))}(this.datastore,e)];case 1:return[2,((t=r.sent()).forEach((function(e){return n.recordVersion(e)})),t)]}}))}))},e.prototype.set=function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.update=function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())},e.prototype.delete=function(e){this.write(new Bo(e,this.precondition(e))),this.writtenDocs.add(e.toString())},e.prototype.commit=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return e=this.readVersions,this.mutations.forEach((function(t){e.delete(t.key.toString())})),e.forEach((function(e,n){var r=si.fromPath(n);t.mutations.push(new Vo(r,t.precondition(r)))})),[4,function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=Dr(e),r=Aa(n.R)+"/documents",o={writes:t.map((function(e){return Ra(n.R,e)}))},[4,n.Ni("Commit",r,o)];case 1:return i.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},e.prototype.recordVersion=function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Nr();t=Br.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Tr(Sr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)},e.prototype.precondition=function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?Eo.updateTime(t):Eo.none()},e.prototype.preconditionForUpdate=function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Br.min()))throw new Tr(Sr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Eo.updateTime(t)}return Eo.exists(!0)},e.prototype.write=function(e){this.ensureCommitNotCalled(),this.mutations.push(e)},e.prototype.ensureCommitNotCalled=function(){},e}(),gf=function(){function e(e,t,n,r){this.asyncQueue=e,this.datastore=t,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new xc(this.asyncQueue,"transaction_retry")}return e.prototype.run=function(){this.ec-=1,this.nc()},e.prototype.nc=function(){var e=this;this.Zi.ji((function(){return(0,i.__awaiter)(e,void 0,void 0,(function(){var e,t,n=this;return(0,i.__generator)(this,(function(r){return e=new vf(this.datastore),(t=this.sc(e))&&t.then((function(t){n.asyncQueue.enqueueAndForget((function(){return e.commit().then((function(){n.deferred.resolve(t)})).catch((function(e){n.ic(e)}))}))})).catch((function(e){n.ic(e)})),[2]}))}))}))},e.prototype.sc=function(e){try{var t=this.updateFunction(e);return!ii(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}},e.prototype.ic=function(e){var t=this;this.ec>0&&this.rc(e)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return t.nc(),Promise.resolve()}))):this.deferred.reject(e)},e.prototype.rc=function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Wo(t)}return!1},e}(),mf=function(){function e(e,t,n){var r=this;this.credentials=e,this.asyncQueue=t,this.databaseInfo=n,this.user=cc.UNAUTHENTICATED,this.clientId=Lr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(t,(function(e){return(0,i.__awaiter)(r,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return xr("FirestoreClient","Received user=",e.uid),[4,this.credentialListener(e)];case 1:return t.sent(),this.user=e,[2]}}))}))}))}return e.prototype.getConfiguration=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},e.prototype.setCredentialChangeListener=function(e){this.credentialListener=e},e.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Tr(Sr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.terminate=function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,i.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),t.resolve(),[3,6];case 5:return e=r.sent(),n=sl(e,"Failed to shutdown persistence"),t.reject(n),[3,6];case 6:return[2]}}))}))})),t.promise},e}();function yf(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o=this;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return e.asyncQueue.verifyOperationInProgress(),xr("FirestoreClient","Initializing OfflineComponentProvider"),[4,e.getConfiguration()];case 1:return n=a.sent(),[4,t.initialize(n)];case 2:return a.sent(),r=n.initialUser,e.setCredentialChangeListener((function(e){return(0,i.__awaiter)(o,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return r.isEqual(e)?[3,2]:[4,Uu(t.localStore,e)];case 1:n.sent(),r=e,n.label=2;case 2:return[2]}}))}))})),t.persistence.setDatabaseDeletedListener((function(){return e.terminate()})),e.offlineComponents=t,[2]}}))}))}function _f(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return e.asyncQueue.verifyOperationInProgress(),[4,bf(e)];case 1:return n=o.sent(),xr("FirestoreClient","Initializing OnlineComponentProvider"),[4,e.getConfiguration()];case 2:return r=o.sent(),[4,t.initialize(n,r)];case 3:return o.sent(),e.setCredentialChangeListener((function(e){return function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(n=Dr(e)).asyncQueue.verifyOperationInProgress(),xr("RemoteStore","RemoteStore received new credentials"),r=zc(n),n.Or.add(3),[4,Lc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(t)];case 2:return i.sent(),n.Or.delete(3),[4,Mc(n)];case 3:return i.sent(),[2]}}))}))}(t.remoteStore,e)})),e.onlineComponents=t,[2]}}))}))}function bf(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return e.offlineComponents?[3,2]:(xr("FirestoreClient","Using default OfflineComponentProvider"),[4,yf(e,new uf)]);case 1:t.sent(),t.label=2;case 2:return[2,e.offlineComponents]}}))}))}function wf(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return e.onlineComponents?[3,2]:(xr("FirestoreClient","Using default OnlineComponentProvider"),[4,_f(e,new ff)]);case 1:t.sent(),t.label=2;case 2:return[2,e.onlineComponents]}}))}))}function kf(e){return bf(e).then((function(e){return e.persistence}))}function If(e){return bf(e).then((function(e){return e.localStore}))}function Sf(e){return wf(e).then((function(e){return e.remoteStore}))}function Tf(e){return wf(e).then((function(e){return e.syncEngine}))}function Ef(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,wf(e)];case 1:return t=r.sent(),[2,((n=t.eventManager).onListen=Al.bind(null,t.syncEngine),n.onUnlisten=Ol.bind(null,t.syncEngine),n)]}}))}))}function Cf(e,t,n){var r=this;void 0===n&&(n={});var o=new ys;return e.asyncQueue.enqueueAndForget((function(){return(0,i.__awaiter)(r,void 0,void 0,(function(){var r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r=function(e,t,n,r,i){var o=new df({next:function(o){t.enqueueAndForget((function(){return pl(e,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Tr(Sr.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Tr(Sr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(e){return i.reject(e)}}),a=new yl(Hi(n.path),o,{includeMetadataChanges:!0,so:!0});return dl(e,a)},[4,Ef(e)];case 1:return[2,r.apply(void 0,[i.sent(),e.asyncQueue,t,n,o])]}}))}))})),o.promise}function xf(e,t,n){var r=this;void 0===n&&(n={});var o=new ys;return e.asyncQueue.enqueueAndForget((function(){return(0,i.__awaiter)(r,void 0,void 0,(function(){var r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r=function(e,t,n,r,i){var o=new df({next:function(n){t.enqueueAndForget((function(){return pl(e,a)})),n.fromCache&&"server"===r.source?i.reject(new Tr(Sr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),a=new yl(n,o,{includeMetadataChanges:!0,so:!0});return dl(e,a)},[4,Ef(e)];case 1:return[2,r.apply(void 0,[i.sent(),e.asyncQueue,t,n,o])]}}))}))})),o.promise}var Af=function(e,t,n,r,i,o,a,s){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Pf=function(){function e(e,t){this.projectId=e,this.database=t||"(default)"}return Object.defineProperty(e.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database},e}(),Of=new Map,Nf=function(e,t){this.user=t,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+e},Rf=function(){function e(){this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(null)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){this.changeListener=t,e.enqueueRetryable((function(){return t(cc.UNAUTHENTICATED)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Df=function(){function e(e){this.token=e,this.changeListener=null}return e.prototype.getToken=function(){return Promise.resolve(this.token)},e.prototype.invalidateToken=function(){},e.prototype.setChangeListener=function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))},e.prototype.removeChangeListener=function(){this.changeListener=null},e}(),Mf=function(){function e(e){var t=this;this.currentUser=cc.UNAUTHENTICATED,this.oc=new ys,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){t.cc++,t.currentUser=t.ac(),t.oc.resolve(),t.changeListener&&t.asyncQueue.enqueueRetryable((function(){return t.changeListener(t.currentUser)}))};var n=function(e){xr("FirebaseCredentialsProvider","Auth detected"),t.auth=e,t.auth.addAuthTokenListener(t.uc)};e.onInit((function(e){return n(e)})),setTimeout((function(){if(!t.auth){var r=e.getImmediate({optional:!0});r?n(r):(xr("FirebaseCredentialsProvider","Auth not yet detected"),t.oc.resolve())}}),0)}return e.prototype.getToken=function(){var e=this,t=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.cc!==t?(xr("FirebaseCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Rr("string"==typeof n.accessToken),new Nf(n.accessToken,e.currentUser)):null})):Promise.resolve(null)},e.prototype.invalidateToken=function(){this.forceRefresh=!0},e.prototype.setChangeListener=function(e,t){var n=this;this.asyncQueue=e,this.asyncQueue.enqueueRetryable((function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.oc.promise];case 1:return e.sent(),[4,t(this.currentUser)];case 2:return e.sent(),this.changeListener=t,[2]}}))}))}))},e.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},e.prototype.ac=function(){var e=this.auth&&this.auth.getUid();return Rr(null===e||"string"==typeof e),new cc(e)},e}(),Lf=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n,this.type="FirstParty",this.user=cc.FIRST_PARTY}return Object.defineProperty(e.prototype,"authHeaders",{get:function(){var e={"X-Goog-AuthUser":this.lc},t=this.hc.auth.getAuthHeaderValueForFirstParty([]);return t&&(e.Authorization=t),this.fc&&(e["X-Goog-Iam-Authorization-Token"]=this.fc),e},enumerable:!1,configurable:!0}),e}(),jf=function(){function e(e,t,n){this.hc=e,this.lc=t,this.fc=n}return e.prototype.getToken=function(){return Promise.resolve(new Lf(this.hc,this.lc,this.fc))},e.prototype.setChangeListener=function(e,t){e.enqueueRetryable((function(){return t(cc.FIRST_PARTY)}))},e.prototype.removeChangeListener=function(){},e.prototype.invalidateToken=function(){},e}();function Ff(e,t,n){if(!n)throw new Tr(Sr.INVALID_ARGUMENT,"Function "+e+"() cannot be called with an empty "+t+".")}function Uf(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Tr(Sr.INVALID_ARGUMENT,"Invalid options passed to function "+e+'(): You cannot specify both "merge" and "mergeFields".');return t}function qf(e,t,n,r){if(!0===t&&!0===r)throw new Tr(Sr.INVALID_ARGUMENT,e+" and "+n+" cannot be used together.")}function Bf(e){if(!si.isDocumentKey(e))throw new Tr(Sr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e+" has "+e.length+".")}function Vf(e){if(si.isDocumentKey(e))throw new Tr(Sr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e+" has "+e.length+".")}function zf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=e.substring(0,20)+"..."),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){if(e.constructor){var t=/function\s+([^\s(]+)\s*\(/.exec(e.constructor.toString());if(t&&t.length>1)return t[1]}return null}(e);return t?"a custom "+t+" object":"an object"}return"function"==typeof e?"a function":Nr()}function Wf(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Tr(Sr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=zf(e);throw new Tr(Sr.INVALID_ARGUMENT,"Expected type '"+t.name+"', but it was: "+n)}return e}function Kf(e,t){if(t<=0)throw new Tr(Sr.INVALID_ARGUMENT,"Function "+e+"() requires a positive number, but it was: "+t+".")}var Gf=function(){function e(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Tr(Sr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Tr(Sr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,qf("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}return e.prototype.isEqual=function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams},e}(),Hf=function(){function e(e,t){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gf({}),this._settingsFrozen=!1,e instanceof Pf?(this._databaseId=e,this._credentials=new Rf):(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Tr(Sr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pf(e.options.projectId)}(e),this._credentials=new Mf(t))}return Object.defineProperty(e.prototype,"app",{get:function(){if(!this._app)throw new Tr(Sr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),e.prototype._setSettings=function(e){if(this._settingsFrozen)throw new Tr(Sr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gf(e),void 0!==e.credentials&&(this._credentials=function(e){if(!e)return new Rf;switch(e.type){case"gapi":var t=e.client;return Rr(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new jf(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Tr(Sr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},e.prototype._getSettings=function(){return this._settings},e.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},e.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},e.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},e.prototype._terminate=function(){return this,(e=Of.get(this))&&(xr("ComponentProvider","Removing Datastore"),Of.delete(this),e.terminate()),Promise.resolve();var e},e}(),Yf=function(){function e(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}return Object.defineProperty(e.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Xf(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._key)},e}(),$f=function(){function e(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}return e.prototype.withConverter=function(t){return new e(this.firestore,t,this._query)},e}(),Xf=function(e){function t(t,n,r){var i=this;return(i=e.call(this,t,n,Hi(r))||this)._path=r,i.type="collection",i}return(0,i.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Yf(this.firestore,null,new si(e))},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._path)},t}($f);function Qf(e,t){for(var n,r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];if(e=(0,o.getModularInstance)(e),Ff("collection","path",t),e instanceof Hf)return Vf(n=Gr.fromString.apply(Gr,(0,i.__spreadArray)([t],r))),new Xf(e,null,n);if(!(e instanceof Yf||e instanceof Xf))throw new Tr(Sr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Vf(n=Gr.fromString.apply(Gr,(0,i.__spreadArray)([e.path],r)).child(Gr.fromString(t))),new Xf(e.firestore,null,n)}function Zf(e,t){for(var n,r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];if(e=(0,o.getModularInstance)(e),1===arguments.length&&(t=Lr.u()),Ff("doc","path",t),e instanceof Hf)return Bf(n=Gr.fromString.apply(Gr,(0,i.__spreadArray)([t],r))),new Yf(e,null,new si(n));if(!(e instanceof Yf||e instanceof Xf))throw new Tr(Sr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Bf(n=e._path.child(Gr.fromString.apply(Gr,(0,i.__spreadArray)([t],r)))),new Yf(e.firestore,e instanceof Xf?e.converter:null,new si(n))}function Jf(e,t){return e=(0,o.getModularInstance)(e),t=(0,o.getModularInstance)(t),(e instanceof Yf||e instanceof Xf)&&(t instanceof Yf||t instanceof Xf)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function eh(e,t){return e=(0,o.getModularInstance)(e),t=(0,o.getModularInstance)(t),e instanceof $f&&t instanceof $f&&e.firestore===t.firestore&&no(e._query,t._query)&&e.converter===t.converter}var th=function(){function e(){var e=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new xc(this,"async_queue_retry"),this.Ic=function(){var t=Ec();t&&xr("AsyncQueue","Visibility state changed to "+t.visibilityState),e.Zi.Gi()};var t=Ec();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(e.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),e.prototype.enqueueAndForget=function(e){this.enqueue(e)},e.prototype.enqueueAndForgetEvenWhileRestricted=function(e){this.Ac(),this.Rc(e)},e.prototype.enterRestrictedMode=function(e){if(!this._c){this._c=!0,this.Ec=e||!1;var t=Ec();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ic)}},e.prototype.enqueue=function(e){var t=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new ys;return this.Rc((function(){return t._c&&t.Ec?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},e.prototype.enqueueRetryable=function(e){var t=this;this.enqueueAndForget((function(){return t.wc.push(e),t.bc()}))},e.prototype.bc=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t=this;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ss(e=n.sent()))throw e;return xr("AsyncQueue","Operation failed with retryable error: "+e),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return t.bc()})),n.label=5;case 5:return[2]}}))}))},e.prototype.Rc=function(e){var t=this,n=this.dc.then((function(){return t.gc=!0,e().catch((function(e){throw t.yc=e,t.gc=!1,Ar("INTERNAL UNHANDLED ERROR: ",function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((function(e){return t.gc=!1,e}))}));return this.dc=n,n},e.prototype.enqueueAfterDelay=function(e,t,n){var r=this;this.Ac(),this.Tc.indexOf(e)>-1&&(t=0);var i=al.createAndSchedule(this,e,t,n,(function(e){return r.vc(e)}));return this.mc.push(i),i},e.prototype.Ac=function(){this.yc&&Nr()},e.prototype.verifyOperationInProgress=function(){},e.prototype.Pc=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return[4,e=this.dc];case 1:t.sent(),t.label=2;case 2:if(e!==this.dc)return[3,0];t.label=3;case 3:return[2]}}))}))},e.prototype.Vc=function(e){for(var t=0,n=this.mc;t<n.length;t++)if(n[t].timerId===e)return!0;return!1},e.prototype.Sc=function(e){var t=this;return this.Pc().then((function(){t.mc.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));for(var n=0,r=t.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==e&&i.timerId===e)break}return t.Pc()}))},e.prototype.Dc=function(e){this.Tc.push(e)},e.prototype.vc=function(e){var t=this.mc.indexOf(e);this.mc.splice(t,1)},e}();function nh(e){return function(e,t){if("object"!=typeof e||null===e)return!1;for(var n=e,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(e)}var rh=function(){function e(){this._progressObserver={},this._taskCompletionResolver=new ys,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return e.prototype.onProgress=function(e,t,n){this._progressObserver={next:e,error:t,complete:n}},e.prototype.catch=function(e){return this._taskCompletionResolver.promise.catch(e)},e.prototype.then=function(e,t){return this._taskCompletionResolver.promise.then(e,t)},e.prototype._completeWith=function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)},e.prototype._failWith=function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)},e.prototype._updateProgress=function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)},e}(),ih=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).type="firestore",r._queue=new th,r._persistenceKey="name"in t?t.name:"[DEFAULT]",r}return(0,i.__extends)(t,e),t.prototype._terminate=function(){return this._firestoreClient||ah(this),this._firestoreClient.terminate()},t}(Hf);function oh(e){return e._firestoreClient||ah(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function ah(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Af(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new mf(e._credentials,e._queue,r)}function sh(e,t,n){var r=this,o=new ys;return e.asyncQueue.enqueue((function(){return(0,i.__awaiter)(r,void 0,void 0,(function(){var r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,yf(e,n)];case 1:return i.sent(),[4,_f(e,t)];case 2:return i.sent(),o.resolve(),[3,4];case 3:if(!function(e){return"FirebaseError"===e.name?e.code===Sr.FAILED_PRECONDITION||e.code===Sr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(r=i.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),o.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function uh(e){if(e._initialized||e._terminated)throw new Tr(Sr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var ch=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=0;n<e.length;++n)if(0===e[n].length)throw new Tr(Sr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yr(e)}return e.prototype.isEqual=function(e){return this._internalPath.isEqual(e._internalPath)},e}(),lh=function(){function e(e){this._byteString=e}return e.fromBase64String=function(t){try{return new e(Xr.fromBase64String(t))}catch(t){throw new Tr(Sr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}},e.fromUint8Array=function(t){return new e(Xr.fromUint8Array(t))},e.prototype.toBase64=function(){return this._byteString.toBase64()},e.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},e.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},e.prototype.isEqual=function(e){return this._byteString.isEqual(e._byteString)},e}(),fh=function(e){this._methodName=e},hh=function(){function e(e,t){if(!isFinite(e)||e<-90||e>90)throw new Tr(Sr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Tr(Sr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}return Object.defineProperty(e.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(e){return this._lat===e._lat&&this._long===e._long},e.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},e.prototype._compareTo=function(e){return jr(this._lat,e._lat)||jr(this._long,e._long)},e}(),dh=/^__.*__$/,ph=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return null!==this.fieldMask?new Mo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Do(e,this.data,t,this.fieldTransforms)},e}(),vh=function(){function e(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}return e.prototype.toMutation=function(e,t){return new Mo(e,this.data,this.fieldMask,t,this.fieldTransforms)},e}();function gh(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nr()}}var mh=function(){function e(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(e.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),e.prototype.xc=function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},e.prototype.kc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.$c(e),r},e.prototype.Oc=function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.xc({path:n,Fc:!1});return r.Cc(),r},e.prototype.Mc=function(e){return this.xc({path:void 0,Fc:!0})},e.prototype.Lc=function(e){return jh(e,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},e.prototype.contains=function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))},e.prototype.Cc=function(){if(this.path)for(var e=0;e<this.path.length;e++)this.$c(this.path.get(e))},e.prototype.$c=function(e){if(0===e.length)throw this.Lc("Document fields must not be empty");if(gh(this.Nc)&&dh.test(e))throw this.Lc('Document fields cannot begin and end with "__"')},e}(),yh=function(){function e(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.R=n||Cc(e)}return e.prototype.Uc=function(e,t,n,r){return void 0===r&&(r=!1),new mh({Nc:e,methodName:t,qc:n,path:Yr.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},e}();function _h(e){var t=e._freezeSettings(),n=Cc(e._databaseId);return new yh(e._databaseId,!!t.ignoreUndefinedProperties,n)}function bh(e,t,n,r,i,o){void 0===o&&(o={});var a=e.Uc(o.merge||o.mergeFields?2:0,t,n,i);Rh("Data must be an object, but it was:",a,r);var s,u,c=Oh(r,a);if(o.merge)s=new $r(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],f=0,h=o.mergeFields;f<h.length;f++){var d=Dh(t,h[f],n);if(!a.contains(d))throw new Tr(Sr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Fh(l,d)||l.push(d)}s=new $r(l),u=a.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=a.fieldTransforms;return new ph(new ki(c),s,u)}var wh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype._toFieldTransform=function(e){if(2!==e.Nc)throw 1===e.Nc?e.Lc(this._methodName+"() can only appear at the top level of your update data"):e.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return e.fieldMask.push(e.path),null},t.prototype.isEqual=function(e){return e instanceof t},t}(fh);function kh(e,t,n){return new mh({Nc:3,qc:t.settings.qc,methodName:e._methodName,Fc:n},t.databaseId,t.R,t.ignoreUndefinedProperties)}var Ih=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype._toFieldTransform=function(e){return new So(e.path,new go)},t.prototype.isEqual=function(e){return e instanceof t},t}(fh),Sh=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,i.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=kh(this,e,!0),n=this.Kc.map((function(e){return Ph(e,t)})),r=new mo(n);return new So(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(fh),Th=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Kc=n,r}return(0,i.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=kh(this,e,!0),n=this.Kc.map((function(e){return Ph(e,t)})),r=new _o(n);return new So(e.path,r)},t.prototype.isEqual=function(e){return this===e},t}(fh),Eh=function(e){function t(t,n){var r=this;return(r=e.call(this,t)||this).Qc=n,r}return(0,i.__extends)(t,e),t.prototype._toFieldTransform=function(e){var t=new wo(e.R,lo(e.R,this.Qc));return new So(e.path,t)},t.prototype.isEqual=function(e){return this===e},t}(fh);function Ch(e,t,n,r){var i=e.Uc(1,t,n);Rh("Data must be an object, but it was:",i,r);var a=[],s=ki.empty();zr(r,(function(e,r){var u=Lh(t,e,n);r=(0,o.getModularInstance)(r);var c=i.Oc(u);if(r instanceof wh)a.push(u);else{var l=Ph(r,c);null!=l&&(a.push(u),s.set(u,l))}}));var u=new $r(a);return new vh(s,u,i.fieldTransforms)}function xh(e,t,n,r,i,a){var s=e.Uc(1,t,n),u=[Dh(t,r,n)],c=[i];if(a.length%2!=0)throw new Tr(Sr.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<a.length;l+=2)u.push(Dh(t,a[l])),c.push(a[l+1]);for(var f=[],h=ki.empty(),d=u.length-1;d>=0;--d)if(!Fh(f,u[d])){var p=u[d],v=c[d];v=(0,o.getModularInstance)(v);var g=s.Oc(p);if(v instanceof wh)f.push(p);else{var m=Ph(v,g);null!=m&&(f.push(p),h.set(p,m))}}var y=new $r(f);return new vh(h,y,s.fieldTransforms)}function Ah(e,t,n,r){return void 0===r&&(r=!1),Ph(n,e.Uc(r?4:3,t))}function Ph(e,t){if(Nh(e=(0,o.getModularInstance)(e)))return Rh("Unsupported field value:",t,e),Oh(e,t);if(e instanceof fh)return function(e,t){if(!gh(t.Nc))throw t.Lc(e._methodName+"() can only be used with update() and set()");if(!t.path)throw t.Lc(e._methodName+"() is not currently supported inside arrays");var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Fc&&4!==t.Nc)throw t.Lc("Nested arrays are not supported");return function(e,t){for(var n=[],r=0,i=0,o=e;i<o.length;i++){var a=Ph(o[i],t.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,o.getModularInstance)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return lo(t.R,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=qr.fromDate(e);return{timestampValue:_a(t.R,n)}}if(e instanceof qr)return n=new qr(e.seconds,1e3*Math.floor(e.nanoseconds/1e3)),{timestampValue:_a(t.R,n)};if(e instanceof hh)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof lh)return{bytesValue:ba(t.R,e._byteString)};if(e instanceof Yf){n=t.databaseId;var r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ia(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Lc("Unsupported field value: "+zf(e))}(e,t)}function Oh(e,t){var n={};return Wr(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):zr(e,(function(e,r){var i=Ph(r,t.kc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Nh(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof qr||e instanceof hh||e instanceof lh||e instanceof Yf||e instanceof fh)}function Rh(e,t,n){if(!Nh(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=zf(n);throw"an object"===r?t.Lc(e+" a custom object"):t.Lc(e+" "+r)}}function Dh(e,t,n){if((t=(0,o.getModularInstance)(t))instanceof ch)return t._internalPath;if("string"==typeof t)return Lh(e,t);throw jh("Field path arguments must be of type string or FieldPath.",e,!1,void 0,n)}var Mh=new RegExp("[~\\*/\\[\\]]");function Lh(e,t,n){if(t.search(Mh)>=0)throw jh("Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'",e,!1,void 0,n);try{return(new(ch.bind.apply(ch,(0,i.__spreadArray)([void 0],t.split(".")))))._internalPath}catch(Vd){throw jh("Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",e,!1,void 0,n)}}function jh(e,t,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+t+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Tr(Sr.INVALID_ARGUMENT,(s+=". ")+e+u)}function Fh(e,t){return e.some((function(e){return e.isEqual(t)}))}var Uh=function(){function e(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(e.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ref",{get:function(){return new Yf(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),e.prototype.exists=function(){return null!==this._document},e.prototype.data=function(){if(this._document){if(this._converter){var e=new qh(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}},e.prototype.get=function(e){if(this._document){var t=this._document.data.field(Bh("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}},e}(),qh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype.data=function(){return e.prototype.data.call(this)},t}(Uh);function Bh(e,t){return"string"==typeof t?Lh(e,t):t instanceof ch?t._internalPath:t._delegate._internalPath}var Vh=function(){function e(e,t){this.hasPendingWrites=e,this.fromCache=t}return e.prototype.isEqual=function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache},e}(),zh=function(e){function t(t,n,r,i,o,a){var s=this;return(s=e.call(this,t,n,r,i,a)||this)._firestore=t,s._firestoreImpl=t,s.metadata=o,s}return(0,i.__extends)(t,e),t.prototype.exists=function(){return e.prototype.exists.call(this)},t.prototype.data=function(e){if(void 0===e&&(e={}),this._document){if(this._converter){var t=new Wh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}},t.prototype.get=function(e,t){if(void 0===t&&(t={}),this._document){var n=this._document.data.field(Bh("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}},t}(Uh),Wh=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype.data=function(t){return void 0===t&&(t={}),e.prototype.data.call(this,t)},t}(zh),Kh=function(){function e(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Vh(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(e.prototype,"docs",{get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new Wh(n._firestore,n._userDataWriter,r.key,r,new Vh(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},e.prototype.docChanges=function(e){void 0===e&&(e={});var t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Tr(Sr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new Wh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Vh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new Wh(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Vh(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,o=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(o=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:Gh(t.type),doc:n,oldIndex:i,newIndex:o}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges},e}();function Gh(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nr()}}function Hh(e,t){return e instanceof zh&&t instanceof zh?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof Kh&&t instanceof Kh&&e._firestore===t._firestore&&eh(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function Yh(e){if($i(e)&&0===e.explicitOrderBy.length)throw new Tr(Sr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var $h=function(){};function Xh(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];e=o._apply(e)}return e}var Qh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).jc=t,i.Wc=n,i.Gc=r,i.type="where",i}return(0,i.__extends)(t,e),t.prototype._apply=function(e){var t=_h(e.firestore),n=function(e,t,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Tr(Sr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){id(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var f=l[c];u.push(rd(r,e,f))}s={arrayValue:{values:u}}}else s=rd(r,e,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||id(a,o),s=Ah(n,"where",a,"in"===o||"not-in"===o);var h=Pi.create(i,o,s);return function(e,t){if(t.g()){var n=Qi(e);if(null!==n&&!n.isEqual(t.field))throw new Tr(Sr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+t.field.toString()+"'");var r=Xi(e);null!==r&&od(e,t.field,r)}var i=function(e,t){for(var n=0,r=e.filters;n<r.length;n++){var i=r[n];if(t.indexOf(i.op)>=0)return i.op}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Tr(Sr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+t.op.toString()+"' filter."):new Tr(Sr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+t.op.toString()+"' filters with '"+i.toString()+"' filters.")}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.jc,this.Wc,this.Gc);return new $f(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Ki(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))},t}($h),Zh=function(e){function t(t,n){var r=this;return(r=e.call(this)||this).jc=t,r.zc=n,r.type="orderBy",r}return(0,i.__extends)(t,e),t.prototype._apply=function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Tr(Sr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Tr(Sr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Bi(t,n);return function(e,t){if(null===Xi(e)){var n=Qi(e);null!==n&&od(e,n,t.field)}}(e,r),r}(e._query,this.jc,this.zc);return new $f(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Ki(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))},t}($h),Jh=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Hc=n,i.Jc=r,i}return(0,i.__extends)(t,e),t.prototype._apply=function(e){return new $f(e.firestore,e.converter,to(e._query,this.Hc,this.Jc))},t}($h),ed=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,i.__extends)(t,e),t.prototype._apply=function(e){var t=nd(e,this.type,this.Yc,this.Xc);return new $f(e.firestore,e.converter,function(e,t){return new Ki(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))},t}($h),td=function(e){function t(t,n,r){var i=this;return(i=e.call(this)||this).type=t,i.Yc=n,i.Xc=r,i}return(0,i.__extends)(t,e),t.prototype._apply=function(e){var t=nd(e,this.type,this.Yc,this.Xc);return new $f(e.firestore,e.converter,function(e,t){return new Ki(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))},t}($h);function nd(e,t,n,r){if(n[0]=(0,o.getModularInstance)(n[0]),n[0]instanceof Uh)return function(e,t,n,r,i){if(!r)throw new Tr(Sr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=Ji(e);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(vi(t,r.key));else{var c=r.data.field(u.field);if(ti(c))throw new Tr(Sr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Tr(Sr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Ui(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=_h(e.firestore);return function(e,t,n,r,i,o){var a=e.explicitOrderBy;if(i.length>a.length)throw new Tr(Sr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Tr(Sr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Zi(e)&&-1!==c.indexOf("/"))throw new Tr(Sr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=e.path.child(Gr.fromString(c));if(!si.isDocumentKey(l))throw new Tr(Sr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var f=new si(l);s.push(vi(t,f))}else{var h=Ah(n,r,c);s.push(h)}}return new Ui(s,o)}(e._query,e.firestore._databaseId,i,t,n,r)}function rd(e,t,n){if("string"==typeof(n=(0,o.getModularInstance)(n))){if(""===n)throw new Tr(Sr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zi(t)&&-1!==n.indexOf("/"))throw new Tr(Sr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=t.path.child(Gr.fromString(n));if(!si.isDocumentKey(r))throw new Tr(Sr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return vi(e,new si(r))}if(n instanceof Yf)return vi(e,n._key);throw new Tr(Sr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+zf(n)+".")}function id(e,t){if(!Array.isArray(e)||0===e.length)throw new Tr(Sr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+t.toString()+"' filters.");if(e.length>10)throw new Tr(Sr.INVALID_ARGUMENT,"Invalid Query. '"+t.toString()+"' filters support a maximum of 10 elements in the value array.")}function od(e,t,n){if(!n.isEqual(t))throw new Tr(Sr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var ad=function(){function e(){}return e.prototype.convertValue=function(e,t){switch(void 0===t&&(t="none"),ui(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Jr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ei(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Nr()}},e.prototype.convertObject=function(e,t){var n=this,r={};return zr(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r},e.prototype.convertGeoPoint=function(e){return new hh(Jr(e.latitude),Jr(e.longitude))},e.prototype.convertArray=function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))},e.prototype.convertServerTimestamp=function(e,t){switch(t){case"previous":var n=ni(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ri(e));default:return null}},e.prototype.convertTimestamp=function(e){var t=Zr(e);return new qr(t.seconds,t.nanos)},e.prototype.convertDocumentKey=function(e,t){var n=Gr.fromString(e);Rr(Ya(n));var r=new Pf(n.get(1),n.get(3)),i=new si(n.popFirst(5));return r.isEqual(t)||Ar("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+t.projectId+"/"+t.database+") instead."),i},e}();function sd(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var ud=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,i.__extends)(t,e),t.prototype.convertBytes=function(e){return new lh(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yf(this.firestore,null,t)},t}(ad),cd=function(){function e(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=_h(e)}return e.prototype.set=function(e,t,n){this._verifyNotCommitted();var r=ld(e,this._firestore),i=sd(r.converter,t,n),o=bh(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,Eo.none())),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var a,s=ld(e,this._firestore);return a="string"==typeof(t=(0,o.getModularInstance)(t))||t instanceof ch?xh(this._dataReader,"WriteBatch.update",s._key,t,n,r):Ch(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(a.toMutation(s._key,Eo.exists(!0))),this},e.prototype.delete=function(e){this._verifyNotCommitted();var t=ld(e,this._firestore);return this._mutations=this._mutations.concat(new Bo(t._key,Eo.none())),this},e.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},e.prototype._verifyNotCommitted=function(){if(this._committed)throw new Tr(Sr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},e}();function ld(e,t){if((e=(0,o.getModularInstance)(e)).firestore!==t)throw new Tr(Sr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var fd=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,i.__extends)(t,e),t.prototype.convertBytes=function(e){return new lh(e)},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yf(this.firestore,null,t)},t}(ad);function hd(e,t,n){e=Wf(e,Yf);var r=Wf(e.firestore,ih),i=sd(e.converter,t,n);return vd(r,[bh(_h(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Eo.none())])}function dd(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];e=Wf(e,Yf);var a=Wf(e.firestore,ih),s=_h(a);return vd(a,[("string"==typeof(t=(0,o.getModularInstance)(t))||t instanceof ch?xh(s,"updateDoc",e._key,t,n,r):Ch(s,"updateDoc",e._key,t)).toMutation(e._key,Eo.exists(!0))])}function pd(e){for(var t,n,r,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];e=(0,o.getModularInstance)(e);var u={includeMetadataChanges:!1},c=0;"object"!=typeof a[c]||nh(a[c])||(u=a[c],c++);var l,f,h,d={includeMetadataChanges:u.includeMetadataChanges};if(nh(a[c])){var p=a[c];a[c]=null===(t=p.next)||void 0===t?void 0:t.bind(p),a[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),a[c+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(e instanceof Yf)f=Wf(e.firestore,ih),h=Hi(e._key.path),l={next:function(t){a[c]&&a[c](gd(f,e,t))},error:a[c+1],complete:a[c+2]};else{var v=Wf(e,$f);f=Wf(v.firestore,ih),h=v._query;var g=new fd(f);l={next:function(e){a[c]&&a[c](new Kh(f,g,v,e))},error:a[c+1],complete:a[c+2]},Yh(e._query)}return function(e,t,n,r){var o=this,a=new df(r),s=new yl(t,a,n);return e.asyncQueue.enqueueAndForget((function(){return(0,i.__awaiter)(o,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return t=dl,[4,Ef(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))})),function(){a.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,i.__awaiter)(o,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return t=pl,[4,Ef(e)];case 1:return[2,t.apply(void 0,[n.sent(),s])]}}))}))}))}}(oh(f),h,d,l)}function vd(e,t){return function(e,t){var n=this,r=new ys;return e.asyncQueue.enqueueAndForget((function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=Nl,[4,Tf(e)];case 1:return[2,n.apply(void 0,[i.sent(),t,r])]}}))}))})),r.promise}(oh(e),t)}function gd(e,t,n){var r=n.docs.get(t._key),i=new fd(e);return new zh(e,i,t._key,r,new Vh(n.hasPendingWrites,n.fromCache),t.converter)}var md=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this)._firestore=t,r}return(0,i.__extends)(t,e),t.prototype.get=function(t){var n=this,r=ld(t,this._firestore),i=new fd(this._firestore);return e.prototype.get.call(this,t).then((function(e){return new zh(n._firestore,i,r._key,e._document,new Vh(!1,!1),r.converter)}))},t}(function(){function e(e,t){this._firestore=e,this._transaction=t,this._dataReader=_h(e)}return e.prototype.get=function(e){var t=this,n=ld(e,this._firestore),r=new ud(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Nr();var i=e[0];if(i.isFoundDocument())return new Uh(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Uh(t._firestore,r,n._key,null,n.converter);throw Nr()}))},e.prototype.set=function(e,t,n){var r=ld(e,this._firestore),i=sd(r.converter,t,n),o=bh(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},e.prototype.update=function(e,t,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var a,s=ld(e,this._firestore);return a="string"==typeof(t=(0,o.getModularInstance)(t))||t instanceof ch?xh(this._dataReader,"Transaction.update",s._key,t,n,r):Ch(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,a),this},e.prototype.delete=function(e){var t=ld(e,this._firestore);return this._transaction.delete(t._key),this},e}());function yd(){if("undefined"==typeof Uint8Array)throw new Tr(Sr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function _d(){if("undefined"==typeof atob)throw new Tr(Sr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var bd=function(){function e(e){this._delegate=e}return e.fromBase64String=function(t){return _d(),new e(lh.fromBase64String(t))},e.fromUint8Array=function(t){return yd(),new e(lh.fromUint8Array(t))},e.prototype.toBase64=function(){return _d(),this._delegate.toBase64()},e.prototype.toUint8Array=function(){return yd(),this._delegate.toUint8Array()},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(),wd=function(){function e(){}return e.prototype.enableIndexedDbPersistence=function(e,t){return function(e,t){uh(e=Wf(e,ih));var n=oh(e),r=e._freezeSettings(),i=new ff;return sh(n,i,new cf(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})},e.prototype.enableMultiTabIndexedDbPersistence=function(e){return function(e){uh(e=Wf(e,ih));var t=oh(e),n=e._freezeSettings(),r=new ff;return sh(t,r,new lf(r,n.cacheSizeBytes))}(e._delegate)},e.prototype.clearIndexedDbPersistence=function(e){return function(e){var t=this;if(e._initialized&&!e._terminated)throw new Tr(Sr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new ys;return e._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,i.__awaiter)(t,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return ws.yt()?(t=e+"main",[4,ws.delete(t)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Nu(e._databaseId,e._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return t=r.sent(),n.reject(t),[3,3];case 3:return[2]}}))}))})),n.promise}(e._delegate)},e}(),kd=function(){function e(e,t,n){var r=this;this._delegate=t,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},e instanceof Pf||(this.tu=e)}return Object.defineProperty(e.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),e.prototype.settings=function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Pr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),function(e,t,n,r){var i;void 0===r&&(r={});var a=(e=Wf(e,Hf))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Pr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:t+":"+n,ssl:!1})),r.mockUserToken){var s,u;if("string"==typeof r.mockUserToken)s=r.mockUserToken,u=cc.MOCK_USER;else{s=(0,o.createMockUserToken)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Tr(Sr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new cc(c)}e._credentials=new Df(new Nf(s,u))}}(this._delegate,e,t,n)},e.prototype.enableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,i.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,kf(e)];case 1:return t=r.sent(),[4,Sf(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!0),function(e){var t=Dr(e);return t.Or.delete(0),Mc(t)}(n))]}}))}))}))}(oh(Wf(this._delegate,ih)))},e.prototype.disableNetwork=function(){return function(e){var t=this;return e.asyncQueue.enqueue((function(){return(0,i.__awaiter)(t,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,kf(e)];case 1:return t=r.sent(),[4,Sf(e)];case 2:return n=r.sent(),[2,(t.setNetworkEnabled(!1),function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return(t=Dr(e)).Or.add(0),[4,Lc(t)];case 1:return n.sent(),t.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}(oh(Wf(this._delegate,ih)))},e.prototype.enablePersistence=function(e){var t=!1,n=!1;return e&&qf("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},e.prototype.waitForPendingWrites=function(){return function(e){var t=this,n=new ys;return e.asyncQueue.enqueueAndForget((function(){return(0,i.__awaiter)(t,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return t=Fl,[4,Tf(e)];case 1:return[2,t.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}(oh(Wf(this._delegate,ih)))},e.prototype.onSnapshotsInSync=function(e){return function(e,t){return function(e,t){var n=this,r=new df(t);return e.asyncQueue.enqueueAndForget((function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Dr(e).Gr.add(t),t.next()},[4,Ef(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),e.asyncQueue.enqueueAndForget((function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return t=function(e,t){Dr(e).Gr.delete(t)},[4,Ef(e)];case 1:return[2,t.apply(void 0,[n.sent(),r])]}}))}))}))}}(oh(e=Wf(e,ih)),nh(t)?t:{next:t})}(this._delegate,e)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.tu)throw new Tr(Sr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Ld(this,Qf(this._delegate,e))}catch(e){throw xd(e,"collection()","Firestore.collection()")}},e.prototype.doc=function(e){try{return new Cd(this,Zf(this._delegate,e))}catch(e){throw xd(e,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(e){try{return new Rd(this,function(e,t){if(e=Wf(e,Hf),Ff("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Tr(Sr.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new $f(e,null,function(e){return new Ki(Gr.emptyPath(),e)}(t))}(this._delegate,e))}catch(e){throw xd(e,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(e){var t=this;return function(e,t){return function(e,t){var n=this,r=new ys;return e.asyncQueue.enqueueAndForget((function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,function(e){return wf(e).then((function(e){return e.datastore}))}(e)];case 1:return n=i.sent(),new gf(e.asyncQueue,n,t,r).run(),[2]}}))}))})),r.promise}(oh(e),(function(n){return t(new md(e,n))}))}(this._delegate,(function(n){return e(new Sd(t,n))}))},e.prototype.batch=function(){var e=this;return oh(this._delegate),new Td(new cd(this._delegate,(function(t){return vd(e._delegate,t)})))},e.prototype.loadBundle=function(e){throw new Tr(Sr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(e){throw new Tr(Sr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(),Id=function(e){function t(t){var n=this;return(n=e.call(this)||this).firestore=t,n}return(0,i.__extends)(t,e),t.prototype.convertBytes=function(e){return new bd(new lh(e))},t.prototype.convertReference=function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return Cd.eu(t,this.firestore,null)},t}(ad);var Sd=function(){function e(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Id(e)}return e.prototype.get=function(e){var t=this,n=jd(e);return this._delegate.get(n).then((function(e){return new Od(t._firestore,new zh(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))},e.prototype.set=function(e,t,n){var r=jd(e);return n?(Uf("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=jd(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,(0,i.__spreadArray)([s,t,n],o)),this},e.prototype.delete=function(e){var t=jd(e);return this._delegate.delete(t),this},e}(),Td=function(){function e(e){this._delegate=e}return e.prototype.set=function(e,t,n){var r=jd(e);return n?(Uf("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this},e.prototype.update=function(e,t,n){for(var r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=jd(e);return 2===arguments.length?this._delegate.update(s,t):(r=this._delegate).update.apply(r,(0,i.__spreadArray)([s,t,n],o)),this},e.prototype.delete=function(e){var t=jd(e);return this._delegate.delete(t),this},e.prototype.commit=function(){return this._delegate.commit()},e}(),Ed=function(){function e(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}return e.prototype.fromFirestore=function(e,t){var n=new Wh(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Nd(this._firestore,n),null!=t?t:{})},e.prototype.toFirestore=function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)},e.nu=function(t,n){var r=e.su,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var o=i.get(n);return o||(o=new e(t,new Id(t),n),i.set(n,o)),o},e}();Ed.su=new WeakMap;var Cd=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Id(e)}return e.iu=function(t,n,r){if(t.length%2!=0)throw new Tr(Sr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.canonicalString()+" has "+t.length);return new e(n,new Yf(n._delegate,r,new si(t)))},e.eu=function(t,n,r){return new e(n,new Yf(n._delegate,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new Ld(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(e){try{return new Ld(this.firestore,Qf(this._delegate,e))}catch(e){throw xd(e,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(e){return(e=(0,o.getModularInstance)(e))instanceof Yf&&Jf(this._delegate,e)},e.prototype.set=function(e,t){t=Uf("DocumentReference.set",t);try{return t?hd(this._delegate,e,t):hd(this._delegate,e)}catch(e){throw xd(e,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?dd(this._delegate,e):dd.apply(void 0,(0,i.__spreadArray)([this._delegate,e,t],n))}catch(e){throw xd(e,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return vd(Wf((e=this._delegate).firestore,ih),[new Bo(e._key,Eo.none())]);var e},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ad(t),i=Pd(t,(function(t){return new Od(e.firestore,new zh(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return pd(this._delegate,r,i)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Wf(e,Yf);var t=Wf(e.firestore,ih),n=oh(t),r=new fd(t);return function(e,t){var n=this,r=new ys;return e.asyncQueue.enqueueAndForget((function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return n=function(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(e,t){var n=Dr(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.Mn.mn(e,t)}))}(e,t)];case 1:return(o=i.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new Tr(Sr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),o=sl(r,"Failed to get document '"+t+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,If(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,r])]}}))}))})),r.promise}(n,e._key).then((function(n){return new zh(t,r,e._key,n,new Vh(null!==n&&n.hasLocalMutations,!0),e.converter)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Wf(e,Yf);var t=Wf(e.firestore,ih);return Cf(oh(t),e._key,{source:"server"}).then((function(n){return gd(t,e,n)}))}(this._delegate):function(e){e=Wf(e,Yf);var t=Wf(e.firestore,ih);return Cf(oh(t),e._key).then((function(n){return gd(t,e,n)}))}(this._delegate)).then((function(e){return new Od(t.firestore,new zh(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}))},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ed.nu(this.firestore,t)):this._delegate.withConverter(null))},e}();function xd(e,t,n){return e.message=e.message.replace(t,n),e}function Ad(e){for(var t=0,n=e;t<n.length;t++){var r=n[t];if("object"==typeof r&&!nh(r))return r}return{}}function Pd(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=nh(e[0])?e[0]:nh(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Od=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"ref",{get:function(){return new Cd(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(e){return this._delegate.data(e)},e.prototype.get=function(e,t){return this._delegate.get(e,t)},e.prototype.isEqual=function(e){return Hh(this._delegate,e._delegate)},e}(),Nd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype.data=function(e){return this._delegate.data(e)},t}(Od),Rd=function(){function e(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Id(e)}return e.prototype.where=function(t,n,r){try{return new e(this.firestore,Xh(this._delegate,function(e,t,n){var r=t,i=Bh("where",e);return new Qh(i,r,n)}(t,n,r)))}catch(t){throw xd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Xh(this._delegate,function(e,t){void 0===t&&(t="asc");var n=t,r=Bh("orderBy",e);return new Zh(r,n)}(t,n)))}catch(t){throw xd(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Xh(this._delegate,function(e){return Kf("limit",e),new Jh("limit",e,"F")}(t)))}catch(t){throw xd(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Xh(this._delegate,function(e){return Kf("limitToLast",e),new Jh("limitToLast",e,"L")}(t)))}catch(t){throw xd(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Xh(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ed("startAt",e,!0)}.apply(void 0,t)))}catch(t){throw xd(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Xh(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new ed("startAfter",e,!1)}.apply(void 0,t)))}catch(t){throw xd(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Xh(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new td("endBefore",e,!0)}.apply(void 0,t)))}catch(t){throw xd(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Xh(this._delegate,function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new td("endAt",e,!1)}.apply(void 0,t)))}catch(t){throw xd(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(e){return eh(this._delegate,e._delegate)},e.prototype.get=function(e){var t=this;return("cache"===(null==e?void 0:e.source)?function(e){e=Wf(e,$f);var t=Wf(e.firestore,ih),n=oh(t),r=new fd(t);return function(e,t){var n=this,r=new ys;return e.asyncQueue.enqueueAndForget((function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return n=function(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,Hu(e,t,!0)];case 1:return u=i.sent(),r=new Tl(t,u.Bn),o=r._o(u.documents),a=r.applyChanges(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=i.sent(),u=sl(s,"Failed to execute query '"+t+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,If(e)];case 1:return[2,n.apply(void 0,[o.sent(),t,r])]}}))}))})),r.promise}(n,e._query).then((function(n){return new Kh(t,r,e,n)}))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=Wf(e,$f);var t=Wf(e.firestore,ih),n=oh(t),r=new fd(t);return xf(n,e._query,{source:"server"}).then((function(n){return new Kh(t,r,e,n)}))}(this._delegate):function(e){e=Wf(e,$f);var t=Wf(e.firestore,ih),n=oh(t),r=new fd(t);return Yh(e._query),xf(n,e._query).then((function(n){return new Kh(t,r,e,n)}))}(this._delegate)).then((function(e){return new Md(t.firestore,new Kh(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}))},e.prototype.onSnapshot=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Ad(t),i=Pd(t,(function(t){return new Md(e.firestore,new Kh(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return pd(this._delegate,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(Ed.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(),Dd=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new Nd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),e}(),Md=function(){function e(e,t){this._firestore=e,this._delegate=t}return Object.defineProperty(e.prototype,"query",{get:function(){return new Rd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var e=this;return this._delegate.docs.map((function(t){return new Nd(e._firestore,t)}))},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new Dd(t._firestore,e)}))},e.prototype.forEach=function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new Nd(n._firestore,r))}))},e.prototype.isEqual=function(e){return Hh(this._delegate,e._delegate)},e}(),Ld=function(e){function t(t,n){var r=this;return(r=e.call(this,t,n)||this).firestore=t,r._delegate=n,r}return(0,i.__extends)(t,e),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return e?new Cd(this.firestore,e):null},enumerable:!1,configurable:!0}),t.prototype.doc=function(e){try{return new Cd(this.firestore,void 0===e?Zf(this._delegate):Zf(this._delegate,e))}catch(e){throw xd(e,"doc()","CollectionReference.doc()")}},t.prototype.add=function(e){var t=this;return function(e,t){var n=Wf(e.firestore,ih),r=Zf(e),i=sd(e.converter,t);return vd(n,[bh(_h(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Eo.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new Cd(t.firestore,e)}))},t.prototype.isEqual=function(e){return Jf(this._delegate,e._delegate)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(Ed.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(Rd);function jd(e){return Wf(e,Yf)}var Fd=function(){function e(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._delegate=new(ch.bind.apply(ch,(0,i.__spreadArray)([void 0],e)))}return e.documentId=function(){return new e(Yr.keyField().canonicalString())},e.prototype.isEqual=function(e){return(e=(0,o.getModularInstance)(e))instanceof ch&&this._delegate._internalPath.isEqual(e._internalPath)},e}(),Ud=function(){function e(e){this._delegate=e}return e.serverTimestamp=function(){var t=new Ih("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new wh("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Sh("arrayUnion",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new Th("arrayRemove",e)}.apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(e){return new Eh("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(e){return this._delegate.isEqual(e._delegate)},e}();function qd(e){return function(e,t){var n=oh(e=Wf(e,ih)),r=new rh;return function(e,t,n,r){var o=this,a=function(e,t){return function(e,t){return new pf(e,t)}(function(e,t){if(e instanceof Uint8Array)return hf(e,t);if(e instanceof ArrayBuffer)return hf(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,Cc(t));e.asyncQueue.enqueueAndForget((function(){return(0,i.__awaiter)(o,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return t=sf,[4,Tf(e)];case 1:return t.apply(void 0,[n.sent(),a,r]),[2]}}))}))}))}(n,e._databaseId,t,r),r}(this._delegate,e)}function Bd(e){var t,n,r=this;return(t=this._delegate,n=e,function(e,t){var n=this;return e.asyncQueue.enqueue((function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e,t){var n=Dr(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n.Ke.getNamedQuery(e,t)}))},[4,If(e)];case 1:return[2,n.apply(void 0,[r.sent(),t])]}}))}))}))}(oh(t=Wf(t,ih)),n).then((function(e){return e?new $f(t,null,e.query):null}))).then((function(e){return e?new Rd(r,e):null}))}var Vd,zd,Wd=n(909),Kd={Firestore:kd,GeoPoint:hh,Timestamp:qr,Blob:bd,Transaction:Sd,WriteBatch:Td,DocumentReference:Cd,DocumentSnapshot:Od,Query:Rd,QueryDocumentSnapshot:Nd,QuerySnapshot:Md,CollectionReference:Ld,FieldPath:Fd,FieldValue:Ud,setLogLevel:function(e){var t;t=e,Er.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(e,t){e.INTERNAL.registerComponent(new Wd.Component("firestore",(function(e){return function(e,t){return new kd(e,new ih(e,t),new wd)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Kd)))})(Vd=r.default),Vd.registerVersion("@firebase/firestore","2.4.1"),(zd=kd).prototype.loadBundle=qd,zd.prototype.namedQuery=Bd;var Gd={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Hd=function(e){function t(n,r,i){var o=e.call(this,r)||this;return Object.setPrototypeOf(o,t.prototype),o.code=n,o.details=i,o}return(0,i.__extends)(t,e),t}(Error);var Yd=function(){function e(e,t){var n=this;this.auth=null,this.messaging=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then((function(e){return n.auth=e}),(function(){})),this.messaging||t.get().then((function(e){return n.messaging=e}),(function(){}))}return e.prototype.getAuthToken=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:if(!this.auth)return[2,void 0];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(e=t.sent())?[2,e.accessToken]:[2,void 0];case 3:return t.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getInstanceIdToken=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.messaging.getToken()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},e.prototype.getContext=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return e=n.sent(),[4,this.getInstanceIdToken()];case 2:return t=n.sent(),[2,{authToken:e,instanceIdToken:t}]}}))}))},e}();function $d(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}var Xd=function(){function e(){}return e.prototype.encode=function(e){var t=this;if(null==e)return null;if(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&isFinite(e))return e;if(!0===e||!1===e)return e;if("[object String]"===Object.prototype.toString.call(e))return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map((function(e){return t.encode(e)}));if("function"===typeof e||"object"===typeof e)return $d(e,(function(e){return t.encode(e)}));throw new Error("Data cannot be encoded in JSON: "+e)},e.prototype.decode=function(e){var t=this;if(null==e)return e;if(e["@type"])switch(e["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(e.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+e);return n;default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map((function(e){return t.decode(e)})):"function"===typeof e||"object"===typeof e?$d(e,(function(e){return t.decode(e)})):e},e}();var Qd=function(){function e(e,t,n,r,i,o){var a=this;void 0===i&&(i="us-central1"),this.app_=e,this.appCheckProvider=r,this.fetchImpl=o,this.serializer=new Xd,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return Promise.resolve(a.deleteService())}},this.contextProvider=new Yd(t,n),this.cancelAllRequests=new Promise((function(e){a.deleteService=function(){return e()}}));try{var s=new URL(i);this.customDomain=s.origin,this.region="us-central1"}catch(Vd){this.customDomain=null,this.region=i}}return Object.defineProperty(e.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),e.prototype._url=function(e){var t=this.app_.options.projectId;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+t+"/"+this.region+"/"+e:null!==this.customDomain?this.customDomain+"/"+e:"https://"+this.region+"-"+t+".cloudfunctions.net/"+e},e.prototype.useEmulator=function(e,t){this.emulatorOrigin="http://"+e+":"+t},e.prototype.useFunctionsEmulator=function(e){this.emulatorOrigin=e},e.prototype.httpsCallable=function(e,t){var n=this;return function(r){return n.call(e,r,t||{})}},e.prototype.postJSON=function(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n["Content-Type"]="application/json",[4,this.getAppCheckToken()];case 1:null!==(r=i.sent())&&(n["X-Firebase-AppCheck"]=r),i.label=2;case 2:return i.trys.push([2,4,,5]),[4,this.fetchImpl(e,{method:"POST",body:JSON.stringify(t),headers:n})];case 3:return o=i.sent(),[3,5];case 4:return i.sent(),[2,{status:0,json:null}];case 5:a=null,i.label=6;case 6:return i.trys.push([6,8,,9]),[4,o.json()];case 7:return a=i.sent(),[3,9];case 8:return i.sent(),[3,9];case 9:return[2,{status:o.status,json:a}]}}))}))},e.prototype.getAppCheckToken=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return(e=this.appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype.call=function(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s,u,c,l,f,h,d,p;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r=this._url(e),t=this.serializer.encode(t),o={data:t},a={},[4,this.contextProvider.getContext()];case 1:return(s=i.sent()).authToken&&(a.Authorization="Bearer "+s.authToken),s.instanceIdToken&&(a["Firebase-Instance-ID-Token"]=s.instanceIdToken),u=n.timeout||7e4,c=function(e){var t,n=new Promise((function(n,r){t=setTimeout((function(){r(new Hd("deadline-exceeded","deadline-exceeded"))}),e)}));return{timer:t,promise:n}}(u),l=c.timer,f=c.promise,[4,Promise.race([Zd(l,this.postJSON(r,o,a)),f,Zd(l,this.cancelAllRequests)])];case 2:if(!(h=i.sent()))throw new Hd("cancelled","Firebase Functions instance was deleted.");if(d=function(e,t,n){var r=function(e){if(e>=200&&e<300)return"ok";switch(e){case 0:case 500:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(e),i=r,o=void 0;try{var a=t&&t.error;if(a){var s=a.status;if("string"===typeof s){if(!Gd[s])return new Hd("internal","internal");r=Gd[s],i=s}var u=a.message;"string"===typeof u&&(i=u),void 0!==(o=a.details)&&(o=n.decode(o))}}catch(Vd){}return"ok"===r?null:new Hd(r,i,o)}(h.status,h.json,this.serializer),d)throw d;if(!h.json)throw new Hd("internal","Response is not valid JSON object.");if("undefined"===typeof(p=h.json.data)&&(p=h.json.result),"undefined"===typeof p)throw new Hd("internal","Response is missing data field.");return[2,{data:this.serializer.decode(p)}]}}))}))},e}();function Zd(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,t];case 1:return n=r.sent(),clearTimeout(e),[2,n]}}))}))}!function(e,t){var n={Functions:Qd};e.INTERNAL.registerComponent(new Wd.Component("functions",(function(e,n){var r=n.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal"),s=e.getProvider("messaging");return new Qd(i,o,s,a,r,t)}),"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}(r.default,fetch.bind(self)),r.default.registerVersion("@firebase/functions","0.6.16");var Jd,ep=n(8676),tp="0.4.32",np=1e4,rp="w:0.4.32",ip="FIS_v2",op=36e5,ap=((Jd={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Jd["not-registered"]="Firebase Installation is not registered.",Jd["installation-not-found"]="Firebase Installation not found.",Jd["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',Jd["app-offline"]="Could not process request. Application offline.",Jd["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",Jd),sp=new o.ErrorFactory("installations","Installations",ap);function up(e){return e instanceof o.FirebaseError&&e.code.includes("request-failed")}function cp(e){return"https://firebaseinstallations.googleapis.com/v1/projects/"+e.projectId+"/installations"}function lp(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function fp(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,t.json()];case 1:return n=i.sent(),r=n.error,[2,sp.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function hp(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function dp(e,t){var n=t.refreshToken,r=hp(e);return r.append("Authorization",function(e){return"FIS_v2 "+e}(n)),r}function pp(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,e()];case 1:return(t=n.sent()).status>=500&&t.status<600?[2,e()]:[2,t]}}))}))}function vp(e,t){var n=t.fid;return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,r,o,a,s,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=cp(e),r=hp(e),o={fid:n,authVersion:ip,appId:e.appId,sdkVersion:rp},a={method:"POST",headers:r,body:JSON.stringify(o)},[4,pp((function(){return fetch(t,a)}))];case 1:return(s=i.sent()).ok?[4,s.json()]:[3,3];case 2:return u=i.sent(),[2,{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:lp(u.authToken)}];case 3:return[4,fp("Create Installation",s)];case 4:throw i.sent()}}))}))}function gp(e){return new Promise((function(t){setTimeout(t,e)}))}var mp=/^[cdef][\w-]{21}$/;function yp(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){return(t=e,btoa(String.fromCharCode.apply(String,(0,i.__spreadArray)([],(0,i.__read)(t)))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return mp.test(t)?t:""}catch(bh){return""}}function _p(e){return e.appName+"!"+e.appId}var bp=new Map;function wp(e,t){var n=_p(e);kp(n,t),function(e,t){var n=Sp();n&&n.postMessage({key:e,fid:t});Tp()}(n,t)}function kp(e,t){var n,r,o=bp.get(e);if(o)try{for(var a=(0,i.__values)(o),s=a.next();!s.done;s=a.next()){(0,s.value)(t)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}var Ip=null;function Sp(){return!Ip&&"BroadcastChannel"in self&&((Ip=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){kp(e.data.key,e.data.fid)}),Ip}function Tp(){0===bp.size&&Ip&&(Ip.close(),Ip=null)}var Ep,Cp,xp="firebase-installations-store",Ap=null;function Pp(){return Ap||(Ap=(0,ep.openDb)("firebase-installations-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(xp)}))),Ap}function Op(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=_p(e),[4,Pp()];case 1:return r=i.sent(),o=r.transaction(xp,"readwrite"),[4,(a=o.objectStore(xp)).get(n)];case 2:return s=i.sent(),[4,a.put(t,n)];case 3:return i.sent(),[4,o.complete];case 4:return i.sent(),s&&s.fid===t.fid||wp(e,t.fid),[2,t]}}))}))}function Np(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=_p(e),[4,Pp()];case 1:return n=i.sent(),[4,(r=n.transaction(xp,"readwrite")).objectStore(xp).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function Rp(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=_p(e),[4,Pp()];case 1:return r=i.sent(),o=r.transaction(xp,"readwrite"),[4,(a=o.objectStore(xp)).get(n)];case 2:return s=i.sent(),void 0!==(u=t(s))?[3,4]:[4,a.delete(n)];case 3:return i.sent(),[3,6];case 4:return[4,a.put(u,n)];case 5:i.sent(),i.label=6;case 6:return[4,o.complete];case 7:return i.sent(),!u||s&&s.fid===u.fid||wp(e,u.fid),[2,u]}}))}))}function Dp(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,i.__generator)(this,(function(o){switch(o.label){case 0:return[4,Rp(e,(function(n){var r=function(e){return jp(e||{fid:yp(),registrationStatus:0})}(n),o=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(sp.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,vp(e,t)];case 1:return n=i.sent(),[2,Op(e,n)];case 2:return up(r=i.sent())&&409===r.customData.serverCode?[4,Np(e)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,Op(e,{fid:t.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Mp(e)}:{installationEntry:t}}(e,r);return t=o.registrationPromise,o.installationEntry}))];case 1:return""!==(n=o.sent()).fid?[3,3]:(r={},[4,t]);case 2:return[2,(r.installationEntry=o.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:t}]}}))}))}function Mp(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Lp(e)];case 1:t=i.sent(),i.label=2;case 2:return 1!==t.registrationStatus?[3,5]:[4,gp(100)];case 3:return i.sent(),[4,Lp(e)];case 4:return t=i.sent(),[3,2];case 5:return 0!==t.registrationStatus?[3,7]:[4,Dp(e)];case 6:return n=i.sent(),r=n.installationEntry,(o=n.registrationPromise)?[2,o]:[2,r];case 7:return[2,t]}}))}))}function Lp(e){return Rp(e,(function(e){if(!e)throw sp.create("installation-not-found");return jp(e)}))}function jp(e){return 1===(t=e).registrationStatus&&t.registrationTime+np<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function Fp(e,t){var n=e.appConfig,r=e.platformLoggerProvider;return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,o,a,s,u,c,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=function(e,t){var n=t.fid;return cp(e)+"/"+n+"/authTokens:generate"}(n,t),o=dp(n,t),(a=r.getImmediate({optional:!0}))&&o.append("x-firebase-client",a.getPlatformInfoString()),s={installation:{sdkVersion:rp}},u={method:"POST",headers:o,body:JSON.stringify(s)},[4,pp((function(){return fetch(e,u)}))];case 1:return(c=i.sent()).ok?[4,c.json()]:[3,3];case 2:return l=i.sent(),[2,lp(l)];case 3:return[4,fp("Generate Auth Token",c)];case 4:throw i.sent()}}))}))}function Up(e,t){return void 0===t&&(t=!1),(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return[4,Rp(e.appConfig,(function(r){if(!Bp(r))throw sp.create("not-registered");var o=r.authToken;if(!t&&function(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+op}(e)}(o))return r;if(1===o.requestStatus)return n=function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,qp(e.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,gp(100)];case 3:return i.sent(),[4,qp(e.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,Up(e,t)]:[2,r]}}))}))}(e,t),r;if(!navigator.onLine)throw sp.create("app-offline");var a=function(e){var t={requestStatus:1,requestTime:Date.now()};return(0,i.__assign)((0,i.__assign)({},e),{authToken:t})}(r);return n=function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return a.trys.push([0,3,,8]),[4,Fp(e,t)];case 1:return n=a.sent(),o=(0,i.__assign)((0,i.__assign)({},t),{authToken:n}),[4,Op(e.appConfig,o)];case 2:return a.sent(),[2,n];case 3:return!up(r=a.sent())||401!==r.customData.serverCode&&404!==r.customData.serverCode?[3,5]:[4,Np(e.appConfig)];case 4:return a.sent(),[3,7];case 5:return o=(0,i.__assign)((0,i.__assign)({},t),{authToken:{requestStatus:0}}),[4,Op(e.appConfig,o)];case 6:a.sent(),a.label=7;case 7:throw r;case 8:return[2]}}))}))}(e,a),a}))];case 1:return r=a.sent(),n?[4,n]:[3,3];case 2:return o=a.sent(),[3,4];case 3:o=r.authToken,a.label=4;case 4:return[2,o]}}))}))}function qp(e){return Rp(e,(function(e){if(!Bp(e))throw sp.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+np<Date.now()?(0,i.__assign)((0,i.__assign)({},e),{authToken:{requestStatus:0}}):e}))}function Bp(e){return void 0!==e&&2===e.registrationStatus}function Vp(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,Dp(e)];case 1:return(t=n.sent().registrationPromise)?[4,t]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}function zp(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=function(e,t){var n=t.fid;return cp(e)+"/"+n}(e,t),r=dp(e,t),o={method:"DELETE",headers:r},[4,pp((function(){return fetch(n,o)}))];case 1:return(a=i.sent()).ok?[3,3]:[4,fp("Delete Installation",a)];case 2:throw i.sent();case 3:return[2]}}))}))}function Wp(e,t){var n=e.appConfig;return function(e,t){Sp();var n=_p(e),r=bp.get(n);r||(r=new Set,bp.set(n,r)),r.add(t)}(n,t),function(){!function(e,t){var n=_p(e),r=bp.get(n);r&&(r.delete(t),0===r.size&&bp.delete(n),Tp())}(n,t)}}function Kp(e){return sp.create("missing-app-config-values",{valueName:e})}(Ep=r.default).INTERNAL.registerComponent(new Wd.Component("installations",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Kp("App Configuration");if(!e.name)throw Kp("App Name");try{for(var r=(0,i.__values)(["projectId","apiKey","appId"]),o=r.next();!o.done;o=r.next()){var a=o.value;if(!e.options[a])throw Kp(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),r={appConfig:n,platformLoggerProvider:e.getProvider("platform-logger")},o={app:t,getId:function(){return function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Dp(e.appConfig)];case 1:return t=i.sent(),n=t.installationEntry,(r=t.registrationPromise)?r.catch(console.error):Up(e).catch(console.error),[2,n.fid]}}))}))}(r)},getToken:function(e){return function(e,t){return void 0===t&&(t=!1),(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,Vp(e.appConfig)];case 1:return n.sent(),[4,Up(e,t)];case 2:return[2,n.sent().token]}}))}))}(r,e)},delete:function(){return function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,Rp(t=e.appConfig,(function(e){if(!e||0!==e.registrationStatus)return e}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw sp.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw sp.create("app-offline");case 3:return[4,zp(t,n)];case 4:return r.sent(),[4,Np(t)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(r)},onIdChange:function(e){return Wp(r,e)}};return o}),"PUBLIC")),Ep.registerVersion("@firebase/installations",tp);var Gp,Hp=((Cp={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',Cp["only-available-in-window"]="This method is available in a Window context.",Cp["only-available-in-sw"]="This method is available in a service worker context.",Cp["permission-default"]="The notification permission was not granted and dismissed instead.",Cp["permission-blocked"]="The notification permission was not granted and blocked instead.",Cp["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",Cp["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",Cp["token-subscribe-failed"]="A problem occurred while subscribing the user to FCM: {$errorInfo}",Cp["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",Cp["token-unsubscribe-failed"]="A problem occurred while unsubscribing the user from FCM: {$errorInfo}",Cp["token-update-failed"]="A problem occurred while updating the user from FCM: {$errorInfo}",Cp["token-update-no-token"]="FCM returned no token when updating the user to push.",Cp["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",Cp["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",Cp["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",Cp["invalid-vapid-key"]="The public VAPID key must be a string.",Cp["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",Cp),Yp=new o.ErrorFactory("messaging","Messaging",Hp),$p="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Xp="google.c.a.c_id";function Qp(e){var t=new Uint8Array(e);return btoa(String.fromCharCode.apply(String,(0,i.__spreadArray)([],(0,i.__read)(t)))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Zp(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}!function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Gp||(Gp={}));var Jp="fcm_token_details_db",ev="fcm_token_object_Store";function tv(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o=this;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(t=a.sent(),n=t.map((function(e){return e.name})),!n.includes(Jp))return[2,null];a.label=2;case 2:return r=null,[4,(0,ep.openDb)(Jp,5,(function(t){return(0,i.__awaiter)(o,void 0,void 0,(function(){var n,o,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t.oldVersion<2?[2]:t.objectStoreNames.contains(ev)?[4,(n=t.transaction.objectStore(ev)).index("fcmSenderId").get(e)]:[2];case 1:return o=i.sent(),[4,n.clear()];case 2:if(i.sent(),!o)return[2];if(2===t.oldVersion){if(!(a=o).auth||!a.p256dh||!a.endpoint)return[2];r={token:a.fcmToken,createTime:null!==(s=a.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:a.auth,p256dh:a.p256dh,endpoint:a.endpoint,swScope:a.swScope,vapidKey:"string"===typeof a.vapidKey?a.vapidKey:Qp(a.vapidKey)}}}else(3===t.oldVersion||4===t.oldVersion)&&(r={token:(a=o).fcmToken,createTime:a.createTime,subscriptionOptions:{auth:Qp(a.auth),p256dh:Qp(a.p256dh),endpoint:a.endpoint,swScope:a.swScope,vapidKey:Qp(a.vapidKey)}});return[2]}}))}))}))];case 3:return a.sent().close(),[4,(0,ep.deleteDb)(Jp)];case 4:return a.sent(),[4,(0,ep.deleteDb)("fcm_vapid_details_db")];case 5:return a.sent(),[4,(0,ep.deleteDb)("undefined")];case 6:return a.sent(),[2,nv(r)?r:null]}}))}))}function nv(e){if(!e||!e.subscriptionOptions)return!1;var t=e.subscriptionOptions;return"number"===typeof e.createTime&&e.createTime>0&&"string"===typeof e.token&&e.token.length>0&&"string"===typeof t.auth&&t.auth.length>0&&"string"===typeof t.p256dh&&t.p256dh.length>0&&"string"===typeof t.endpoint&&t.endpoint.length>0&&"string"===typeof t.swScope&&t.swScope.length>0&&"string"===typeof t.vapidKey&&t.vapidKey.length>0}var rv="firebase-messaging-store",iv=null;function ov(){return iv||(iv=(0,ep.openDb)("firebase-messaging-database",1,(function(e){if(0===e.oldVersion)e.createObjectStore(rv)}))),iv}function av(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=cv(e),[4,ov()];case 1:return[4,i.sent().transaction(rv).objectStore(rv).get(t)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,tv(e.appConfig.senderId)];case 4:return(r=i.sent())?[4,sv(e,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function sv(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=cv(e),[4,ov()];case 1:return r=i.sent(),[4,(o=r.transaction(rv,"readwrite")).objectStore(rv).put(t,n)];case 2:return i.sent(),[4,o.complete];case 3:return i.sent(),[2,t]}}))}))}function uv(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=cv(e),[4,ov()];case 1:return n=i.sent(),[4,(r=n.transaction(rv,"readwrite")).objectStore(rv).delete(t)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function cv(e){return e.appConfig.appId}function lv(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,pv(e)];case 1:n=i.sent(),r=vv(t),o={method:"POST",headers:n,body:JSON.stringify(r)},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(dv(e.appConfig),o)];case 3:return[4,i.sent().json()];case 4:return a=i.sent(),[3,6];case 5:throw s=i.sent(),Yp.create("token-subscribe-failed",{errorInfo:s});case 6:if(a.error)throw u=a.error.message,Yp.create("token-subscribe-failed",{errorInfo:u});if(!a.token)throw Yp.create("token-subscribe-no-token");return[2,a.token]}}))}))}function fv(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,pv(e)];case 1:n=i.sent(),r=vv(t.subscriptionOptions),o={method:"PATCH",headers:n,body:JSON.stringify(r)},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(dv(e.appConfig)+"/"+t.token,o)];case 3:return[4,i.sent().json()];case 4:return a=i.sent(),[3,6];case 5:throw s=i.sent(),Yp.create("token-update-failed",{errorInfo:s});case 6:if(a.error)throw u=a.error.message,Yp.create("token-update-failed",{errorInfo:u});if(!a.token)throw Yp.create("token-update-no-token");return[2,a.token]}}))}))}function hv(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,pv(e)];case 1:n=i.sent(),r={method:"DELETE",headers:n},i.label=2;case 2:return i.trys.push([2,5,,6]),[4,fetch(dv(e.appConfig)+"/"+t,r)];case 3:return[4,i.sent().json()];case 4:if((o=i.sent()).error)throw a=o.error.message,Yp.create("token-unsubscribe-failed",{errorInfo:a});return[3,6];case 5:throw s=i.sent(),Yp.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}}))}))}function dv(e){return"https://fcmregistrations.googleapis.com/v1/projects/"+e.projectId+"/registrations"}function pv(e){var t=e.appConfig,n=e.installations;return(0,i.__awaiter)(this,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return e=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":"FIS "+e})]}}))}))}function vv(e){var t=e.p256dh,n=e.auth,r=e.endpoint,i=e.vapidKey,o={web:{endpoint:r,auth:n,p256dh:t}};return i!==$p&&(o.web.applicationPubKey=i),o}function gv(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if("granted"!==Notification.permission)throw Yp.create("permission-blocked");return[4,bv(t,n)];case 1:return r=i.sent(),[4,av(e)];case 2:return o=i.sent(),a={vapidKey:n,swScope:t.scope,endpoint:r.endpoint,auth:Qp(r.getKey("auth")),p256dh:Qp(r.getKey("p256dh"))},o?[3,3]:[2,_v(e,a)];case 3:if(function(e,t){var n=t.vapidKey===e.vapidKey,r=t.endpoint===e.endpoint,i=t.auth===e.auth,o=t.p256dh===e.p256dh;return n&&r&&i&&o}(o.subscriptionOptions,a))return[3,8];i.label=4;case 4:return i.trys.push([4,6,,7]),[4,hv(e,o.token)];case 5:return i.sent(),[3,7];case 6:return s=i.sent(),console.warn(s),[3,7];case 7:return[2,_v(e,a)];case 8:return Date.now()>=o.createTime+6048e5?[2,yv({token:o.token,createTime:Date.now(),subscriptionOptions:a},e,t)]:[2,o.token];case 9:return[2]}}))}))}function mv(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,av(e)];case 1:return(n=i.sent())?[4,hv(e,n.token)]:[3,4];case 2:return i.sent(),[4,uv(e)];case 3:i.sent(),i.label=4;case 4:return[4,t.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function yv(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a;return(0,i.__generator)(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,fv(t,e)];case 1:return r=s.sent(),o=(0,i.__assign)((0,i.__assign)({},e),{token:r,createTime:Date.now()}),[4,sv(t,o)];case 2:return s.sent(),[2,r];case 3:return a=s.sent(),[4,mv(t,n)];case 4:throw s.sent(),a;case 5:return[2]}}))}))}function _v(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,lv(e,t)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:t},[4,sv(e,r)];case 2:return i.sent(),[2,r.token]}}))}))}function bv(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,e.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Zp(t)})]}}))}))}function wv(e){return"object"===typeof e&&!!e&&Xp in e}function kv(e){return new Promise((function(t){setTimeout(t,e)}))}var Iv=function(){function e(e){var t=this;this.firebaseDependencies=e,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(e){e.waitUntil(t.onPush(e))})),self.addEventListener("pushsubscriptionchange",(function(e){e.waitUntil(t.onSubChange(e))})),self.addEventListener("notificationclick",(function(e){e.waitUntil(t.onNotificationClick(e))}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.setBackgroundMessageHandler=function(e){if(this.isOnBackgroundMessageUsed=!1,!e||"function"!==typeof e)throw Yp.create("invalid-bg-handler");this.bgMessageHandler=e},e.prototype.onBackgroundMessage=function(e){var t=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=e,function(){t.bgMessageHandler=null}},e.prototype.getToken=function(){var e,t;return(0,i.__awaiter)(this,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,av(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(t=null===(e=null===n||void 0===n?void 0:n.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==t?t:$p,r.label=2;case 2:return[2,gv(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},e.prototype.deleteToken=function(){return mv(this.firebaseDependencies,self.registration)},e.prototype.requestPermission=function(){throw Yp.create("only-available-in-window")},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Yp.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Yp.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(){throw Yp.create("only-available-in-window")},e.prototype.onMessage=function(){throw Yp.create("only-available-in-window")},e.prototype.onTokenRefresh=function(){throw Yp.create("only-available-in-window")},e.prototype.onPush=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return t=function(e){var t=e.data;if(!t)return null;try{return t.json()}catch(n){return null}}(e),t?[4,Cv()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(e){return e.some((function(e){return"visible"===e.visibilityState&&!e.url.startsWith("chrome-extension://")}))}(n=i.sent())?[2,Ev(n,t)]:(r=!1,t.notification?[4,xv(Sv(t))]:[3,3]);case 2:i.sent(),r=!0,i.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed?[2]:(this.bgMessageHandler&&(o=function(e){var t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcm_message_id};return function(e,t){if(t.notification){e.notification={};var n=t.notification.title;n&&(e.notification.title=n);var r=t.notification.body;r&&(e.notification.body=r);var i=t.notification.image;i&&(e.notification.image=i)}}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){if(t.fcmOptions){e.fcmOptions={};var n=t.fcmOptions.link;n&&(e.fcmOptions.link=n);var r=t.fcmOptions.analytics_label;r&&(e.fcmOptions.analyticsLabel=r)}}(t,e),t}(t),"function"===typeof this.bgMessageHandler?this.bgMessageHandler(o):this.bgMessageHandler.next(o)),[4,kv(1e3)]);case 4:return i.sent(),[2]}}))}))},e.prototype.onSubChange=function(e){var t,n;return(0,i.__awaiter)(this,void 0,void 0,(function(){var r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e.newSubscription?[3,2]:[4,mv(this.firebaseDependencies,self.registration)];case 1:case 5:return i.sent(),[2];case 2:return[4,av(this.firebaseDependencies)];case 3:return r=i.sent(),[4,mv(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,gv(this.firebaseDependencies,self.registration,null!==(n=null===(t=null===r||void 0===r?void 0:r.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==n?n:$p)]}}))}))},e.prototype.onNotificationClick=function(e){var t,n;return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(r=null===(n=null===(t=e.notification)||void 0===t?void 0:t.data)||void 0===n?void 0:n.FCM_MSG)?e.action?[2]:(e.stopImmediatePropagation(),e.notification.close(),o=function(e){var t,n,r,i=null!==(n=null===(t=e.fcmOptions)||void 0===t?void 0:t.link)&&void 0!==n?n:null===(r=e.notification)||void 0===r?void 0:r.click_action;if(i)return i;return wv(e.data)?self.location.origin:null}(r),o?(a=new URL(o,self.location.href),s=new URL(self.location.origin),a.host!==s.host?[2]:[4,Tv(a)]):[2]):[2];case 1:return(u=i.sent())?[3,4]:[4,self.clients.openWindow(o)];case 2:return u=i.sent(),[4,kv(3e3)];case 3:return i.sent(),[3,6];case 4:return[4,u.focus()];case 5:u=i.sent(),i.label=6;case 6:return u?(r.messageType=Gp.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,u.postMessage(r)]):[2]}}))}))},e}();function Sv(e){var t,n=(0,i.__assign)({},e.notification);return n.data=((t={}).FCM_MSG=e,t),n}function Tv(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,a,s,u;return(0,i.__generator)(this,(function(c){switch(c.label){case 0:return[4,Cv()];case 1:t=c.sent();try{for(n=(0,i.__values)(t),r=n.next();!r.done;r=n.next())if(o=r.value,a=new URL(o.url,self.location.href),e.host===a.host)return[2,o]}catch(l){s={error:l}}finally{try{r&&!r.done&&(u=n.return)&&u.call(n)}finally{if(s)throw s.error}}return[2,null]}}))}))}function Ev(e,t){var n,r;t.isFirebaseMessaging=!0,t.messageType=Gp.PUSH_RECEIVED;try{for(var o=(0,i.__values)(e),a=o.next();!a.done;a=o.next()){a.value.postMessage(t)}}catch(s){n={error:s}}finally{try{a&&!a.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function Cv(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function xv(e){var t,n=e.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(t=e.title)&&void 0!==t?t:"",e)}var Av=function(){function e(e){var t=this;this.firebaseDependencies=e,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(e){return t.messageEventListener(e)}))}return Object.defineProperty(e.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),e.prototype.messageEventListener=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return(t=e.data).isFirebaseMessaging?(this.onMessageCallback&&t.messageType===Gp.PUSH_RECEIVED&&("function"===typeof this.onMessageCallback?this.onMessageCallback(function(e){return delete e.messageType,delete e.isFirebaseMessaging,e}(Object.assign({},t))):this.onMessageCallback.next(Object.assign({},t))),wv(n=t.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(t.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},e.prototype.getVapidKey=function(){return this.vapidKey},e.prototype.getSwReg=function(){return this.swRegistration},e.prototype.getToken=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:t.sent(),t.label=2;case 2:if("granted"!==Notification.permission)throw Yp.create("permission-blocked");return[4,this.updateVapidKey(null===e||void 0===e?void 0:e.vapidKey)];case 3:return t.sent(),[4,this.updateSwReg(null===e||void 0===e?void 0:e.serviceWorkerRegistration)];case 4:return t.sent(),[2,gv(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},e.prototype.updateVapidKey=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return e?this.vapidKey=e:this.vapidKey||(this.vapidKey=$p),[2]}))}))},e.prototype.updateSwReg=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return e||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:if(!e&&this.swRegistration)return[2];if(!(e instanceof ServiceWorkerRegistration))throw Yp.create("invalid-sw-registration");return this.swRegistration=e,[2]}}))}))},e.prototype.registerDefaultSw=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),e=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return e.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw t=n.sent(),Yp.create("failed-service-worker-registration",{browserErrorMessage:t.message});case 3:return[2]}}))}))},e.prototype.deleteToken=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:return[2,mv(this.firebaseDependencies,this.swRegistration)]}}))}))},e.prototype.requestPermission=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(e=t.sent()))return[2];throw"denied"===e?Yp.create("permission-blocked"):Yp.create("permission-default")}}))}))},e.prototype.usePublicVapidKey=function(e){if(null!==this.vapidKey)throw Yp.create("use-vapid-key-after-get-token");if("string"!==typeof e||0===e.length)throw Yp.create("invalid-vapid-key");this.vapidKey=e},e.prototype.useServiceWorker=function(e){if(!(e instanceof ServiceWorkerRegistration))throw Yp.create("invalid-sw-registration");if(this.swRegistration)throw Yp.create("use-sw-after-get-token");this.swRegistration=e},e.prototype.onMessage=function(e){var t=this;return this.onMessageCallback=e,function(){t.onMessageCallback=null}},e.prototype.setBackgroundMessageHandler=function(){throw Yp.create("only-available-in-sw")},e.prototype.onBackgroundMessage=function(){throw Yp.create("only-available-in-sw")},e.prototype.onTokenRefresh=function(){return function(){}},e.prototype.logEvent=function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return n=function(e){switch(e){case Gp.NOTIFICATION_CLICKED:return"notification_open";case Gp.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:t["google.c.a.c_id"],message_name:t["google.c.a.c_l"],message_time:t["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},e}();function Pv(e){return Yp.create("missing-app-config-values",{valueName:e})}var Ov={isSupported:Nv};function Nv(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}r.default.INTERNAL.registerComponent(new Wd.Component("messaging",(function(e){var t=e.getProvider("app").getImmediate(),n=function(e){var t,n;if(!e||!e.options)throw Pv("App Configuration Object");if(!e.name)throw Pv("App Name");var r=e.options;try{for(var o=(0,i.__values)(["projectId","apiKey","appId","messagingSenderId"]),a=o.next();!a.done;a=o.next()){var s=a.value;if(!r[s])throw Pv(s)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return{appName:e.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(t),r={app:t,appConfig:n,installations:e.getProvider("installations").getImmediate(),analyticsProvider:e.getProvider("analytics-internal")};if(!Nv())throw Yp.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new Iv(r):new Av(r)}),"PUBLIC").setServiceProps(Ov));var Rv="firebasestorage.googleapis.com",Dv=function(e){function t(n,r){var i=e.call(this,Mv(n),"Firebase Storage: "+r+" ("+Mv(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,t.prototype),i}return(0,i.__extends)(t,e),t.prototype._codeEquals=function(e){return Mv(e)===this.code},Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),t}(o.FirebaseError);function Mv(e){return"storage/"+e}function Lv(){return new Dv("unknown","An unknown error occurred, please check the error payload for server response.")}function jv(){return new Dv("canceled","User canceled the upload/download.")}function Fv(){return new Dv("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Uv(e){return new Dv("invalid-argument",e)}function qv(){return new Dv("app-deleted","The Firebase app was deleted.")}function Bv(e){return new Dv("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Vv(e,t){return new Dv("invalid-format","String does not match format '"+e+"': "+t)}function zv(e){throw new Dv("internal-error","Internal error: "+e)}var Wv={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Kv=function(e,t){this.data=e,this.contentType=t||null};function Gv(e,t){switch(e){case Wv.RAW:return new Kv(Hv(t));case Wv.BASE64:case Wv.BASE64URL:return new Kv(Yv(e,t));case Wv.DATA_URL:return new Kv(function(e){var t=new $v(e);return t.base64?Yv(Wv.BASE64,t.rest):function(e){var t;try{t=decodeURIComponent(e)}catch(Vd){throw Vv(Wv.DATA_URL,"Malformed data URL.")}return Hv(t)}(t.rest)}(t),new $v(t).contentType)}throw Lv()}function Hv(e){for(var t=[],n=0;n<e.length;n++){var r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else t.push(239,191,189);else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Yv(e,t){switch(e){case Wv.BASE64:var n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Vv(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Wv.BASE64URL:var i=-1!==t.indexOf("+"),o=-1!==t.indexOf("/");if(i||o)throw Vv(e,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(t)}catch(Vd){throw Vv(e,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var $v=function(e){this.base64=!1,this.contentType=null;var t=e.match(/^data:([^,]+)?,/);if(null===t)throw Vv(Wv.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=t[1]||null;null!=n&&(this.base64=function(e,t){return e.length>=t.length&&e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)};var Xv,Qv={STATE_CHANGED:"state_changed"},Zv={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Jv(e){switch(e){case"running":case"pausing":case"canceling":return Zv.RUNNING;case"paused":return Zv.PAUSED;case"success":return Zv.SUCCESS;case"canceled":return Zv.CANCELED;default:return Zv.ERROR}}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Xv||(Xv={}));var eg=function(){function e(){var e=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Xv.NO_ERROR,this.sendPromise_=new Promise((function(t){e.xhr_.addEventListener("abort",(function(){e.errorCode_=Xv.ABORT,t()})),e.xhr_.addEventListener("error",(function(){e.errorCode_=Xv.NETWORK_ERROR,t()})),e.xhr_.addEventListener("load",(function(){t()}))}))}return e.prototype.send=function(e,t,n,r){if(this.sent_)throw zv("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},e.prototype.getErrorCode=function(){if(!this.sent_)throw zv("cannot .getErrorCode() before sending");return this.errorCode_},e.prototype.getStatus=function(){if(!this.sent_)throw zv("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Vd){return-1}},e.prototype.getResponseText=function(){if(!this.sent_)throw zv("cannot .getResponseText() before sending");return this.xhr_.responseText},e.prototype.abort=function(){this.xhr_.abort()},e.prototype.getResponseHeader=function(e){return this.xhr_.getResponseHeader(e)},e.prototype.addUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)},e.prototype.removeUploadProgressListener=function(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)},e}();var tg=function(){function e(){}return e.prototype.createConnection=function(){return new eg},e}(),ng=function(){function e(e,t){this.bucket=e,this.path_=t}return Object.defineProperty(e.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),e.prototype.fullServerUrl=function(){var e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)},e.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},e.makeFromBucketSpec=function(t,n){var r;try{r=e.makeFromUrl(t,n)}catch(Vd){return new e(t,"")}if(""===r.path)return r;throw new Dv("invalid-default-bucket","Invalid default bucket '"+t+"'.")},e.makeFromUrl=function(t,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(e){e.path_=decodeURIComponent(e.path)}for(var s=n.replace(/[.]/g,"\\."),u=[{regex:o,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+s+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===Rv?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],c=0;c<u.length;c++){var l=u[c],f=l.regex.exec(t);if(f){var h=f[l.indices.bucket],d=f[l.indices.path];d||(d=""),r=new e(h,d),l.postModify(r);break}}if(null==r)throw function(e){return new Dv("invalid-url","Invalid URL '"+e+"'.")}(t);return r},e}(),rg=function(){function e(e){this.promise_=Promise.reject(e)}return e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){},e}();function ig(e){return"string"===typeof e||e instanceof String}function og(e){return ag()&&e instanceof Blob}function ag(){return"undefined"!==typeof Blob}function sg(e,t,n,r){if(r<t)throw Uv("Invalid value for '"+e+"'. Expected "+t+" or greater.");if(r>n)throw Uv("Invalid value for '"+e+"'. Expected "+n+" or less.")}function ug(e,t){var n=t.match(/^(\w+):\/\/.+/),r=t;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+t),r+"/v0"+e}function cg(e){var t=encodeURIComponent,n="?";for(var r in e){if(e.hasOwnProperty(r))n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1)}var lg=function(){function e(e,t,n,r,i,o,a,s,u,c,l){var f=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(e,t){f.resolve_=e,f.reject_=t,f.start_()}))}return e.prototype.start_=function(){var e=this;function t(t,n){var r,i=e.resolve_,o=e.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=e.callback_(a,a.getResponseText());!function(e){return void 0!==e}(s)?i():i(s)}catch(Vd){o(Vd)}else null!==a?((r=Lv()).serverResponse=a.getResponseText(),e.errorCallback_?o(e.errorCallback_(a,r)):o(r)):n.canceled?o(r=e.appDelete_?qv():jv()):o(r=new Dv("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?t(0,new fg(!1,null,!0)):this.backoffId_=function(e,t,n){var r=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];c||(c=!0,t.apply(null,e))}function f(t){o=setTimeout((function(){o=null,e(h,u())}),t)}function h(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!c)if(e)l.call.apply(l,(0,i.__spreadArray)([null,e],t));else{var o;u()||a?l.call.apply(l,(0,i.__spreadArray)([null,e],t)):(r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),f(o))}}var d=!1;function p(e){d||(d=!0,c||(null!==o?(e||(s=2),clearTimeout(o),f(0)):e||(s=1)))}return f(0),setTimeout((function(){a=!0,p(!0)}),n),p}((function(t,n){if(n)t(!1,new fg(!1,null,!0));else{var r=e.pool_.createConnection();e.pendingConnection_=r,null!==e.progressCallback_&&r.addUploadProgressListener(i),r.send(e.url_,e.method_,e.body_,e.headers_).then((function(){null!==e.progressCallback_&&r.removeUploadProgressListener(i),e.pendingConnection_=null;var n=r.getErrorCode()===Xv.NO_ERROR,o=r.getStatus();if(n&&!e.isRetryStatusCode_(o)){var a=-1!==e.successCodes_.indexOf(o);t(!0,new fg(a,r))}else{var s=r.getErrorCode()===Xv.ABORT;t(!1,new fg(!1,null,s))}}))}function i(t){var n=t.loaded,r=t.lengthComputable?t.total:-1;null!==e.progressCallback_&&e.progressCallback_(n,r)}}),t,this.timeout_)},e.prototype.getPromise=function(){return this.promise_},e.prototype.cancel=function(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()},e.prototype.isRetryStatusCode_=function(e){var t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r},e}(),fg=function(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n};function hg(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function dg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=hg();if(void 0!==n){for(var r=new n,i=0;i<e.length;i++)r.append(e[i]);return r.getBlob()}if(ag())return new Blob(e);throw new Dv("unsupported-environment","This browser doesn't seem to support creating Blobs")}var pg=function(){function e(e,t){var n=0,r="";og(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}return e.prototype.size=function(){return this.size_},e.prototype.type=function(){return this.type_},e.prototype.slice=function(t,n){if(og(this.data_)){var r=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,t,n);return null===r?null:new e(r)}return new e(new Uint8Array(this.data_.buffer,t,n-t),!0)},e.getBlob=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(ag()){var r=t.map((function(t){return t instanceof e?t.data_:t}));return new e(dg.apply(null,r))}var i=t.map((function(e){return ig(e)?Gv(Wv.RAW,e).data:e.data_})),o=0;i.forEach((function(e){o+=e.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(e){for(var t=0;t<e.length;t++)a[s++]=e[t]})),new e(a,!0)},e.prototype.uploadData=function(){return this.data_},e}();function vg(e){var t;try{t=JSON.parse(e)}catch(Vd){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function gg(e){var t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function mg(e,t){return t}var yg=function(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||mg},_g=null;function bg(){if(_g)return _g;var e=[];e.push(new yg("bucket")),e.push(new yg("generation")),e.push(new yg("metageneration")),e.push(new yg("name","fullPath",!0));var t=new yg("name");t.xform=function(e,t){return function(e){return!ig(e)||e.length<2?e:gg(e)}(t)},e.push(t);var n=new yg("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new yg("timeCreated")),e.push(new yg("updated")),e.push(new yg("md5Hash",null,!0)),e.push(new yg("cacheControl",null,!0)),e.push(new yg("contentDisposition",null,!0)),e.push(new yg("contentEncoding",null,!0)),e.push(new yg("contentLanguage",null,!0)),e.push(new yg("contentType",null,!0)),e.push(new yg("metadata","customMetadata",!0)),_g=e}function wg(e,t,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,t[a.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){var n=e.bucket,r=e.fullPath,i=new ng(n,r);return t._makeStorageReference(i)}})}(r,e),r}function kg(e,t,n){var r=vg(t);return null===r?null:wg(e,r,n)}function Ig(e,t){for(var n={},r=t.length,i=0;i<r;i++){var o=t[i];o.writable&&(n[o.server]=e[o.local])}return JSON.stringify(n)}function Sg(e,t,n){var r=vg(n);return null===r?null:function(e,t,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=e._makeStorageReference(new ng(t,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=e._makeStorageReference(new ng(t,l.name)),r.items.push(s)}return r}(e,t,r)}var Tg=function(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function Eg(e){if(!e)throw Lv()}function Cg(e,t){return function(n,r){var i=kg(e,r,t);return Eg(null!==i),i}}function xg(e,t){return function(n,r){var i=kg(e,r,t);return Eg(null!==i),function(e,t,n){var r=vg(t);if(null===r)return null;if(!ig(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(t){var r=e.bucket,i=e.fullPath;return ug("/b/"+o(r)+"/o/"+o(i),n)+cg({alt:"media",token:t})}))[0]}(i,r,e.host)}}function Ag(e){return function(t,n){var r,i,o;return 401===t.getStatus()?r=t.getResponseText().includes("Firebase App Check token is invalid")?new Dv("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Dv("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(o=e.bucket,r=new Dv("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Dv("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function Pg(e){var t=Ag(e);return function(n,r){var i,o=t(n,r);return 404===n.getStatus()&&(i=e.path,o=new Dv("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function Og(e,t,n){var r=ug(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Tg(r,"GET",Cg(e,n),i);return o.errorHandler=Pg(t),o}function Ng(e,t,n,r,i){var o={};t.isRoot?o.prefix="":o.prefix=t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=ug(t.bucketOnlyServerUrl(),e.host),s=e.maxOperationRetryTime,u=new Tg(a,"GET",function(e,t){return function(n,r){var i=Sg(e,t,r);return Eg(null!==i),i}}(e,t.bucket),s);return u.urlParams=o,u.errorHandler=Ag(t),u}function Rg(e,t,n){var r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}var Dg=function(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null};function Mg(e,t){var n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(Vd){Eg(!1)}return Eg(!!n&&-1!==(t||["active"]).indexOf(n)),n}var Lg=262144;function jg(e,t,n,r,i,o,a,s){var u=new Dg(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Dv("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var f=u.current,h=f+l,d={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":""+u.current},p=r.slice(f,h);if(null===p)throw Fv();var v=t.maxUploadRetryTime,g=new Tg(n,"POST",(function(e,n){var i,a=Mg(e,["active","final"]),s=u.current+l,c=r.size();return i="final"===a?Cg(t,o)(e,n):null,new Dg(s,c,"final"===a,i)}),v);return g.headers=d,g.body=p.uploadData(),g.progressCallback=s||null,g.errorHandler=Ag(e),g}var Fg=function(e,t,n){var r=function(e){return"function"===typeof e}(e)||null!=t||null!=n;if(r)this.next=e,this.error=t,this.complete=n;else{var i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}};function Ug(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];Promise.resolve().then((function(){return e.apply(void 0,t)}))}}var qg=function(){function e(e,t,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=bg(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(e){r._request=void 0,r._chunkMultiplier=1,e._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=e,r._transition("error"))},this._metadataErrorHandler=function(e){r._request=void 0,e._codeEquals("canceled")?r.completeTransitions_():(r._error=e,r._transition("error"))},this._promise=new Promise((function(e,t){r._resolve=e,r._reject=t,r._start()})),this._promise.then(null,(function(){}))}return e.prototype._makeProgressCallback=function(){var e=this,t=this._transferred;return function(n){return e._updateProgress(t+n)}},e.prototype._shouldDoResumable=function(e){return e.size()>262144},e.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},e.prototype._resolveToken=function(e){var t=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(t._state){case"running":e(r,i);break;case"canceling":t._transition("canceled");break;case"pausing":t._transition("paused")}}))},e.prototype._createResumable=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a=Rg(t,r,i),s={name:a.fullPath},u=ug(o,e.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Ig(a,n),f=e.maxUploadRetryTime,h=new Tg(u,"POST",(function(e){var t;Mg(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(Vd){Eg(!1)}return Eg(ig(t)),t}),f);return h.urlParams=s,h.headers=c,h.body=l,h.errorHandler=Ag(t),h}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._uploadUrl=t,e._needToFetchStatus=!1,e.completeTransitions_()}),e._errorHandler)}))},e.prototype._fetchStatus=function(){var e=this,t=this._uploadUrl;this._resolveToken((function(n,r){var i=function(e,t,n,r){var i=e.maxUploadRetryTime,o=new Tg(n,"POST",(function(e){var t=Mg(e,["active","final"]),n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Vd){Eg(!1)}n||Eg(!1);var i=Number(n);return Eg(!isNaN(i)),new Dg(i,r.size(),"final"===t)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Ag(t),o}(e._ref.storage,e._ref._location,t,e._blob),o=e._ref.storage._makeRequest(i,n,r);e._request=o,o.getPromise().then((function(t){t=t,e._request=void 0,e._updateProgress(t.current),e._needToFetchStatus=!1,t.finalized&&(e._needToFetchMetadata=!0),e.completeTransitions_()}),e._errorHandler)}))},e.prototype._continueUpload=function(){var e=this,t=Lg*this._chunkMultiplier,n=new Dg(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=jg(e._ref._location,e._ref.storage,r,e._blob,t,e._mappings,n,e._makeProgressCallback())}catch(Vd){return e._error=Vd,void e._transition("error")}var s=e._ref.storage._makeRequest(a,i,o);e._request=s,s.getPromise().then((function(t){e._increaseMultiplier(),e._request=void 0,e._updateProgress(t.current),t.finalized?(e._metadata=t.metadata,e._transition("success")):e.completeTransitions_()}),e._errorHandler)}))},e.prototype._increaseMultiplier=function(){Lg*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},e.prototype._fetchMetadata=function(){var e=this;this._resolveToken((function(t,n){var r=Og(e._ref.storage,e._ref._location,e._mappings),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._transition("success")}),e._metadataErrorHandler)}))},e.prototype._oneShotUpload=function(){var e=this;this._resolveToken((function(t,n){var r=function(e,t,n,r,i){var o=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var e="",t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+s;var u=Rg(t,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Ig(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",f=pg.getBlob(c,r,l);if(null===f)throw Fv();var h={name:u.fullPath},d=ug(o,e.host),p=e.maxUploadRetryTime,v=new Tg(d,"POST",Cg(e,n),p);return v.urlParams=h,v.headers=a,v.body=f.uploadData(),v.errorHandler=Ag(t),v}(e._ref.storage,e._ref._location,e._mappings,e._blob,e._metadata),i=e._ref.storage._makeRequest(r,t,n);e._request=i,i.getPromise().then((function(t){e._request=void 0,e._metadata=t,e._updateProgress(e._blob.size()),e._transition("success")}),e._errorHandler)}))},e.prototype._updateProgress=function(e){var t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()},e.prototype._transition=function(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":var t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=jv(),this._state=e,this._notifyObservers()}},e.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(e.prototype,"snapshot",{get:function(){var e=Jv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),e.prototype.on=function(e,t,n,r){var i=this,o=new Fg(t,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},e.prototype.then=function(e,t){return this._promise.then(e,t)},e.prototype.catch=function(e){return this.then(null,e)},e.prototype._addObserver=function(e){this._observers.push(e),this._notifyObserver(e)},e.prototype._removeObserver=function(e){var t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)},e.prototype._notifyObservers=function(){var e=this;this._finishPromise(),this._observers.slice().forEach((function(t){e._notifyObserver(t)}))},e.prototype._finishPromise=function(){if(void 0!==this._resolve){var e=!0;switch(Jv(this._state)){case Zv.SUCCESS:Ug(this._resolve.bind(null,this.snapshot))();break;case Zv.CANCELED:case Zv.ERROR:Ug(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}},e.prototype._notifyObserver=function(e){switch(Jv(this._state)){case Zv.RUNNING:case Zv.PAUSED:e.next&&Ug(e.next.bind(e,this.snapshot))();break;case Zv.SUCCESS:e.complete&&Ug(e.complete.bind(e))();break;default:e.error&&Ug(e.error.bind(e,this._error))()}},e.prototype.resume=function(){var e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e},e.prototype.pause=function(){var e="running"===this._state;return e&&this._transition("pausing"),e},e.prototype.cancel=function(){var e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e},e}(),Bg=function(){function e(e,t){this._service=e,this._location=t instanceof ng?t:ng.makeFromUrl(t,e.host)}return e.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},e.prototype._newRef=function(t,n){return new e(t,n)},Object.defineProperty(e.prototype,"root",{get:function(){var e=new ng(this._location.bucket,"");return this._newRef(this._service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return gg(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=function(e){if(0===e.length)return null;var t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===t)return null;var n=new ng(this._location.bucket,t);return new e(this._service,n)},enumerable:!1,configurable:!0}),e.prototype._throwIfRoot=function(e){if(""===this._location.path)throw Bv(e)},e}();function Vg(e){var t={prefixes:[],items:[]};return zg(e,t).then((function(){return t}))}function zg(e,t,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Wg(e,{pageToken:n})];case 1:return r=i.sent(),(o=t.prefixes).push.apply(o,r.prefixes),(a=t.items).push.apply(a,r.items),null==r.nextPageToken?[3,3]:[4,zg(e,t,r.nextPageToken)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function Wg(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return null!=t&&"number"===typeof t.maxResults&&sg("options.maxResults",1,1e3,t.maxResults),n=t||{},r=Ng(e.storage,e._location,"/",n.pageToken,n.maxResults),[4,e.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function Kg(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return e._throwIfRoot("updateMetadata"),n=function(e,t,n,r){var i=ug(t.fullServerUrl(),e.host),o=Ig(n,r),a=e.maxOperationRetryTime,s=new Tg(i,"PATCH",Cg(e,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=Pg(t),s}(e.storage,e._location,t,bg()),[4,e.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function Gg(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getDownloadURL"),t=function(e,t,n){var r=ug(t.fullServerUrl(),e.host),i=e.maxOperationRetryTime,o=new Tg(r,"GET",xg(e,n),i);return o.errorHandler=Pg(t),o}(e.storage,e._location,bg()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise().then((function(e){if(null===e)throw new Dv("no-download-url","The given file does not have any download URLs.");return e}))]}}))}))}function Hg(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("deleteObject"),t=function(e,t){var n=ug(t.fullServerUrl(),e.host),r=e.maxOperationRetryTime,i=new Tg(n,"DELETE",(function(e,t){}),r);return i.successCodes=[200,204],i.errorHandler=Pg(t),i}(e.storage,e._location),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}function Yg(e,t){var n=function(e,t){var n=t.split("/").filter((function(e){return e.length>0})).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new ng(e._location.bucket,n);return new Bg(e.storage,r)}function $g(e){return/^[A-Za-z]+:\/\//.test(e)}function Xg(e,t){if(e instanceof Jg){var n=e;if(null==n._bucket)throw new Dv("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new Bg(n,n._bucket);return null!=t?Xg(r,t):r}return void 0!==t?Yg(e,t):e}function Qg(e,t){if(t&&$g(t)){if(e instanceof Jg)return new Bg(e,t);throw Uv("To use ref(service, url), the first argument must be a Storage instance.")}return Xg(e,t)}function Zg(e,t){var n=null===t||void 0===t?void 0:t.storageBucket;return null==n?null:ng.makeFromBucketSpec(n,e)}var Jg=function(){function e(e,t,n,r,i,o){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=Rv,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ng.makeFromBucketSpec(i,this._host):Zg(this._host,this.app.options)}return Object.defineProperty(e.prototype,"host",{get:function(){return this._host},set:function(e){this._host=e,null!=this._url?this._bucket=ng.makeFromBucketSpec(this._url,e):this._bucket=Zg(e,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(e){sg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(e){sg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e},enumerable:!1,configurable:!0}),e.prototype._getAuthToken=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(e=this._authProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:if(null!==(t=n.sent()))return[2,t.accessToken];n.label=2;case 2:return[2,null]}}))}))},e.prototype._getAppCheckToken=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return(e=this._appCheckProvider.getImmediate({optional:!0}))?[4,e.getToken()]:[3,2];case 1:return[2,t.sent().token];case 2:return[2,null]}}))}))},e.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(e){return e.cancel()})),this._requests.clear()),Promise.resolve()},e.prototype._makeStorageReference=function(e){return new Bg(this,e)},e.prototype._makeRequest=function(e,t,n){var r=this;if(this._deleted)return new rg(qv());var i=function(e,t,n,r,i,o){var a=cg(e.urlParams),s=e.url+a,u=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(u,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(u,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(u,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(u,r),new lg(s,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,t,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},e.prototype.makeRequestWithTokens=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return t=i.sent(),n=t[0],r=t[1],[2,this._makeRequest(e,n,r)]}}))}))},e}();function em(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new qg(e,new pg(t),n)}(e=(0,o.getModularInstance)(e),t,n)}function tm(e){return function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return e._throwIfRoot("getMetadata"),t=Og(e.storage,e._location,bg()),[4,e.storage.makeRequestWithTokens(t)];case 1:return[2,n.sent().getPromise()]}}))}))}(e=(0,o.getModularInstance)(e))}function nm(e,t){return Qg(e=(0,o.getModularInstance)(e),t)}function rm(e,t,n,r){void 0===r&&(r={}),function(e,t,n,r){void 0===r&&(r={}),e.host="http://"+t+":"+n;var i=r.mockUserToken;i&&(e._overrideAuthToken="string"===typeof i?i:(0,o.createMockUserToken)(i,e.app.options.projectId))}(e,t,n,r)}var im=function(){function e(e,t,n){this._delegate=e,this.task=t,this.ref=n}return Object.defineProperty(e.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),e}(),om=function(){function e(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(e.prototype,"snapshot",{get:function(){return new im(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),e.prototype.then=function(e,t){var n=this;return this._delegate.then((function(t){if(e)return e(new im(t,n,n._ref))}),t)},e.prototype.on=function(e,t,n,r){var i=this,o=void 0;return t&&(o="function"===typeof t?function(e){return t(new im(e,i,i._ref))}:{next:t.next?function(e){return t.next(new im(e,i,i._ref))}:void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,o,n||void 0,r||void 0)},e}(),am=function(){function e(e,t){this._delegate=e,this._service=t}return Object.defineProperty(e.prototype,"prefixes",{get:function(){var e=this;return this._delegate.prefixes.map((function(t){return new sm(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"items",{get:function(){var e=this;return this._delegate.items.map((function(t){return new sm(t,e._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),e}(),sm=function(){function e(e,t){this._delegate=e,this.storage=t}return Object.defineProperty(e.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return this._delegate.toString()},e.prototype.child=function(t){var n=function(e,t){return Yg(e,t)}(this._delegate,t);return new e(n,this.storage)},Object.defineProperty(e.prototype,"root",{get:function(){return new e(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return null==t?null:new e(t,this.storage)},enumerable:!1,configurable:!0}),e.prototype.put=function(e,t){return this._throwIfRoot("put"),new om(em(this._delegate,e,t),this)},e.prototype.putString=function(e,t,n){void 0===t&&(t=Wv.RAW),this._throwIfRoot("putString");var r=Gv(t,e),o=(0,i.__assign)({},n);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new om(new qg(this._delegate,new pg(r.data,!0),o),this)},e.prototype.listAll=function(){var e=this;return function(e){return Vg(e=(0,o.getModularInstance)(e))}(this._delegate).then((function(t){return new am(t,e.storage)}))},e.prototype.list=function(e){var t=this;return function(e,t){return Wg(e=(0,o.getModularInstance)(e),t)}(this._delegate,e||void 0).then((function(e){return new am(e,t.storage)}))},e.prototype.getMetadata=function(){return tm(this._delegate)},e.prototype.updateMetadata=function(e){return function(e,t){return Kg(e=(0,o.getModularInstance)(e),t)}(this._delegate,e)},e.prototype.getDownloadURL=function(){return function(e){return Gg(e=(0,o.getModularInstance)(e))}(this._delegate)},e.prototype.delete=function(){return this._throwIfRoot("delete"),function(e){return Hg(e=(0,o.getModularInstance)(e))}(this._delegate)},e.prototype._throwIfRoot=function(e){if(""===this._delegate._location.path)throw Bv(e)},e}(),um=function(){function e(e,t){this.app=e,this._delegate=t}return Object.defineProperty(e.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),e.prototype.ref=function(e){if($g(e))throw Uv("ref() expected a child path but got a URL, use refFromURL instead.");return new sm(nm(this._delegate,e),this)},e.prototype.refFromURL=function(e){if(!$g(e))throw Uv("refFromURL() expected a full URL but got a child path, use ref() instead.");try{ng.makeFromUrl(e,this._delegate.host)}catch(Vd){throw Uv("refFromUrl() expected a valid full URL but got an invalid one.")}return new sm(nm(this._delegate,e),this)},e.prototype.setMaxUploadRetryTime=function(e){this._delegate.maxUploadRetryTime=e},e.prototype.setMaxOperationRetryTime=function(e){this._delegate.maxOperationRetryTime=e},e.prototype.useEmulator=function(e,t,n){void 0===n&&(n={}),rm(this._delegate,e,t,n)},e}();function cm(e,t){var n=t.instanceIdentifier,i=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),a=e.getProvider("app-check-internal");return new um(i,new Jg(i,o,a,new tg,n,r.default.SDK_VERSION))}!function(e){var t={TaskState:Zv,TaskEvent:Qv,StringFormat:Wv,Storage:Jg,Reference:sm};e.INTERNAL.registerComponent(new Wd.Component("storage",cm,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage","0.7.1")}(r.default);var lm,fm,hm,dm="0.4.18",pm=dm,vm="FB-PERF-TRACE-MEASURE",gm="_wt_",mm="_fcp",ym="_fid",_m="@firebase/performance/config",bm="@firebase/performance/configexpire",wm="Performance",km=((lm={})["trace started"]="Trace {$traceName} was started before.",lm["trace stopped"]="Trace {$traceName} is not running.",lm["nonpositive trace startTime"]="Trace {$traceName} startTime should be positive.",lm["nonpositive trace duration"]="Trace {$traceName} duration should be positive.",lm["no window"]="Window is not available.",lm["no app id"]="App id is not available.",lm["no project id"]="Project id is not available.",lm["no api key"]="Api key is not available.",lm["invalid cc log"]="Attempted to queue invalid cc event",lm["FB not default"]="Performance can only start when Firebase app instance is the default one.",lm["RC response not ok"]="RC response is not ok",lm["invalid attribute name"]="Attribute name {$attributeName} is invalid.",lm["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",lm["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",lm["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",lm),Im=new o.ErrorFactory("performance",wm,km),Sm=new a.Logger(wm);Sm.logLevel=a.LogLevel.INFO;var Tm,Em=function(){function e(e){if(this.window=e,!e)throw Im.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}return e.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},e.prototype.mark=function(e){this.performance&&this.performance.mark&&this.performance.mark(e)},e.prototype.measure=function(e,t,n){this.performance&&this.performance.measure&&this.performance.measure(e,t,n)},e.prototype.getEntriesByType=function(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]},e.prototype.getEntriesByName=function(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]},e.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},e.prototype.requiredApisAvailable=function(){return fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled?!!(0,o.isIndexedDBAvailable)()||(Sm.info("IndexedDB is not supported by current browswer"),!1):(Sm.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)},e.prototype.setupObserver=function(e,t){if(this.PerformanceObserver){var n=new this.PerformanceObserver((function(e){for(var n=0,r=e.getEntries();n<r.length;n++){var i=r[n];t(i)}}));n.observe({entryTypes:[e]})}},e.getInstance=function(){return void 0===fm&&(fm=new e(hm)),fm},e}();function Cm(e,t){var n=e.length-t.length;if(n<0||n>1)throw Im.create("invalid String merger input");for(var r=[],i=0;i<e.length;i++)r.push(e.charAt(i)),t.length>i&&r.push(t.charAt(i));return r.join("")}var xm,Am,Pm=function(){function e(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Cm("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Cm("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return e.prototype.getAppId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!e)throw Im.create("no app id");return e},e.prototype.getProjectId=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!e)throw Im.create("no project id");return e},e.prototype.getApiKey=function(){var e=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!e)throw Im.create("no api key");return e},e.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},e.getInstance=function(){return void 0===Tm&&(Tm=new e),Tm},e}();function Om(){return xm}!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.VISIBLE=1]="VISIBLE",e[e.HIDDEN=2]="HIDDEN"}(Am||(Am={}));var Nm=["firebase_","google_","ga_"],Rm=new RegExp("^[a-zA-Z]\\w*$");function Dm(){var e=Em.getInstance().navigator;return"serviceWorker"in e?e.serviceWorker.controller?2:3:1}function Mm(){switch(Em.getInstance().document.visibilityState){case"visible":return Am.VISIBLE;case"hidden":return Am.HIDDEN;default:return Am.UNKNOWN}}function Lm(){var e=Em.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}var jm="0.0.1",Fm=!0,Um="FIREBASE_INSTALLATIONS_AUTH";function qm(e){var t=function(){var e=Em.getInstance().localStorage;if(!e)return;var t=e.getItem(bm);if(!t||(n=t,!(Number(n)>Date.now())))return;var n;var r=e.getItem(_m);if(!r)return;try{return JSON.parse(r)}catch(bh){return}}();return t?(Vm(t),Promise.resolve()):function(e){return function(){var e=Pm.getInstance().installationsService.getToken();return e.then((function(e){})),e}().then((function(t){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+Pm.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+Pm.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:Um+" "+t},body:JSON.stringify({app_instance_id:e,app_instance_id_token:t,app_id:Pm.getInstance().getAppId(),app_version:pm,sdk_version:jm})});return fetch(r).then((function(e){if(e.ok)return e.json();throw Im.create("RC response not ok")}))})).catch((function(){Sm.info(Bm)}))}(e).then(Vm).then((function(e){return function(e){var t=Em.getInstance().localStorage;if(!e||!t)return;t.setItem(_m,JSON.stringify(e)),t.setItem(bm,String(Date.now()+60*Pm.getInstance().configTimeToLive*60*1e3))}(e)}),(function(){}))}var Bm="Could not fetch config, will use default configs";function Vm(e){if(!e)return e;var t=Pm.getInstance(),n=e.entries||{};return void 0!==n.fpr_enabled?t.loggingEnabled="true"===String(n.fpr_enabled):t.loggingEnabled=Fm,n.fpr_log_source&&(t.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(t.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(t.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(t.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(t.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),t.logTraceAfterSampling=zm(t.tracesSamplingRate),t.logNetworkAfterSampling=zm(t.networkRequestsSamplingRate),e}function zm(e){return Math.random()<=e}var Wm,Km=1;function Gm(){return Km=2,Wm=Wm||function(){var e=Em.getInstance().document;return new Promise((function(t){if(e&&"complete"!==e.readyState){var n=function(){"complete"===e.readyState&&(e.removeEventListener("readystatechange",n),t())};e.addEventListener("readystatechange",n)}else t()}))}().then((function(){return function(){var e=Pm.getInstance().installationsService.getId();return e.then((function(e){xm=e})),e}()})).then((function(e){return qm(e)})).then((function(){return Hm()}),(function(){return Hm()}))}function Hm(){Km=3}var Ym,$m=1e4,Xm=3,Qm=[],Zm=!1;function Jm(e){setTimeout((function(){if(0!==Xm)return Qm.length?void function(){var e=Qm.splice(0,1e3),t=e.map((function(e){return{source_extension_json_proto3:e.message,event_time_ms:String(e.eventTime)}}));(function(e,t){return function(e){var t=Pm.getInstance().getFlTransportFullUrl();return fetch(t,{method:"POST",body:JSON.stringify(e)})}(e).then((function(e){return e.ok||Sm.info("Call to Firebase backend failed."),e.json()})).then((function(e){var n=Number(e.nextRequestWaitMillis),r=$m;isNaN(n)||(r=Math.max(n,r));var o=e.logResponseDetails;Array.isArray(o)&&o.length>0&&"RETRY_REQUEST_LATER"===o[0].responseAction&&(Qm=(0,i.__spreadArray)((0,i.__spreadArray)([],t),Qm),Sm.info("Retry transport request later.")),Xm=3,Jm(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Pm.getInstance().logSource,log_event:t},e).catch((function(){Qm=(0,i.__spreadArray)((0,i.__spreadArray)([],e),Qm),Xm--,Sm.info("Tries left: "+Xm+"."),Jm($m)}))}():Jm($m)}),e)}function ey(e){if(!e.eventTime||!e.message)throw Im.create("invalid cc log");Qm=(0,i.__spreadArray)((0,i.__spreadArray)([],Qm),[e])}function ty(e,t){Ym||(Ym=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];ey({message:e.apply(void 0,t),eventTime:Date.now()})}}(iy)),Ym(e,t)}function ny(e){var t=Pm.getInstance();!t.instrumentationEnabled&&e.isAuto||(t.dataCollectionEnabled||e.isAuto)&&Em.getInstance().requiredApisAvailable()&&(e.isAuto&&Mm()!==Am.VISIBLE||(3===Km?ry(e):Gm().then((function(){return ry(e)}),(function(){return ry(e)}))))}function ry(e){if(Om()){var t=Pm.getInstance();t.loggingEnabled&&t.logTraceAfterSampling&&setTimeout((function(){return ty(e,1)}),0)}}function iy(e,t){return 0===t?function(e){var t={url:e.url,http_method:e.httpMethod||0,http_response_code:200,response_payload_bytes:e.responsePayloadBytes,client_start_time_us:e.startTimeUs,time_to_response_initiated_us:e.timeToResponseInitiatedUs,time_to_response_completed_us:e.timeToResponseCompletedUs},n={application_info:oy(),network_request_metric:t};return JSON.stringify(n)}(e):function(e){var t={name:e.name,is_auto:e.isAuto,client_start_time_us:e.startTimeUs,duration_us:e.durationUs};0!==Object.keys(e.counters).length&&(t.counters=e.counters);var n=e.getAttributes();0!==Object.keys(n).length&&(t.custom_attributes=n);var r={application_info:oy(),trace_metric:t};return JSON.stringify(r)}(e)}function oy(){return{google_app_id:Pm.getInstance().getAppId(),app_instance_id:Om(),web_app_info:{sdk_version:pm,page_url:Em.getInstance().getUrl(),service_worker_status:Dm(),visibility_state:Mm(),effective_connection_type:Lm()},application_process_state:0}}var ay=["_fp",mm,ym];var sy=function(){function e(e,t,n){void 0===t&&(t=!1),this.name=e,this.isAuto=t,this.state=1,this.customAttributes={},this.counters={},this.api=Em.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return e.prototype.start=function(){if(1!==this.state)throw Im.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},e.prototype.stop=function(){if(2!==this.state)throw Im.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),ny(this)},e.prototype.record=function(e,t,n){if(e<=0)throw Im.create("nonpositive trace startTime",{traceName:this.name});if(t<=0)throw Im.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*t),this.startTimeUs=Math.floor(1e3*e),n&&n.attributes&&(this.customAttributes=(0,i.__assign)({},n.attributes)),n&&n.metrics)for(var r=0,o=Object.keys(n.metrics);r<o.length;r++){var a=o[r];isNaN(Number(n.metrics[a]))||(this.counters[a]=Number(Math.floor(n.metrics[a])))}ny(this)},e.prototype.incrementMetric=function(e,t){void 0===t&&(t=1),void 0===this.counters[e]?this.putMetric(e,t):this.putMetric(e,this.counters[e]+t)},e.prototype.putMetric=function(e,t){if(n=e,r=this.name,0===n.length||n.length>100||!(r&&r.startsWith(gm)&&ay.indexOf(n)>-1)&&n.startsWith("_"))throw Im.create("invalid custom metric name",{customMetricName:e});var n,r;this.counters[e]=function(e){var t=Math.floor(e);return t<e&&Sm.info("Metric value should be an Integer, setting the value as : "+t+"."),t}(t)},e.prototype.getMetric=function(e){return this.counters[e]||0},e.prototype.putAttribute=function(e,t){var n,r=!(0===(n=e).length||n.length>40)&&!Nm.some((function(e){return n.startsWith(e)}))&&!!n.match(Rm),i=function(e){return 0!==e.length&&e.length<=100}(t);if(r&&i)this.customAttributes[e]=t;else{if(!r)throw Im.create("invalid attribute name",{attributeName:e});if(!i)throw Im.create("invalid attribute value",{attributeValue:t})}},e.prototype.getAttribute=function(e){return this.customAttributes[e]},e.prototype.removeAttribute=function(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]},e.prototype.getAttributes=function(){return(0,i.__assign)({},this.customAttributes)},e.prototype.setStartTime=function(e){this.startTimeUs=e},e.prototype.setDuration=function(e){this.durationUs=e},e.prototype.calculateTraceMetrics=function(){var e=this.api.getEntriesByName(this.traceMeasure),t=e&&e[0];t&&(this.durationUs=Math.floor(1e3*t.duration),this.startTimeUs=Math.floor(1e3*(t.startTime+this.api.getTimeOrigin())))},e.createOobTrace=function(t,n,r){var i=Em.getInstance().getUrl();if(i){var o=new e(gm+i,!0),a=Math.floor(1e3*Em.getInstance().getTimeOrigin());o.setStartTime(a),t&&t[0]&&(o.setDuration(Math.floor(1e3*t[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*t[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*t[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*t[0].loadEventEnd)));if(n){var s=n.find((function(e){return"first-paint"===e.name}));s&&s.startTime&&o.putMetric("_fp",Math.floor(1e3*s.startTime));var u=n.find((function(e){return"first-contentful-paint"===e.name}));u&&u.startTime&&o.putMetric(mm,Math.floor(1e3*u.startTime)),r&&o.putMetric(ym,Math.floor(1e3*r))}ny(o)}},e.createUserTimingTrace=function(t){ny(new e(t,!1,t))},e}();function uy(e){var t=e;if(t&&void 0!==t.responseStart){var n=Em.getInstance().getTimeOrigin(),r=Math.floor(1e3*(t.startTime+n)),i=t.responseStart?Math.floor(1e3*(t.responseStart-t.startTime)):void 0,o=Math.floor(1e3*(t.responseEnd-t.startTime));!function(e){var t=Pm.getInstance();if(t.instrumentationEnabled){var n=e.url,r=t.logEndPointUrl.split("?")[0],i=t.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&t.loggingEnabled&&t.logNetworkAfterSampling&&setTimeout((function(){return ty(e,0)}),0)}}({url:t.name&&t.name.split("?")[0],responsePayloadBytes:t.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}function cy(){Om()&&(setTimeout((function(){return function(){var e=Em.getInstance(),t=e.getEntriesByType("navigation"),n=e.getEntriesByType("paint");if(e.onFirstInputDelay){var r=setTimeout((function(){sy.createOobTrace(t,n),r=void 0}),5e3);e.onFirstInputDelay((function(e){r&&(clearTimeout(r),sy.createOobTrace(t,n,e))}))}else sy.createOobTrace(t,n)}()}),0),setTimeout((function(){return function(){for(var e=Em.getInstance(),t=e.getEntriesByType("resource"),n=0,r=t;n<r.length;n++){uy(r[n])}e.setupObserver("resource",uy)}()}),0),setTimeout((function(){return function(){for(var e=Em.getInstance(),t=e.getEntriesByType("measure"),n=0,r=t;n<r.length;n++){ly(r[n])}e.setupObserver("measure",ly)}()}),0))}function ly(e){var t=e.name;t.substring(0,vm.length)!==vm&&sy.createUserTimingTrace(t)}var fy=function(){function e(e){this.app=e,Em.getInstance().requiredApisAvailable()&&(0,o.validateIndexedDBOpenable)().then((function(e){e&&(Zm||(Jm(5500),Zm=!0),Gm().then(cy,cy))})).catch((function(e){Sm.info("Environment doesn't support IndexedDB: "+e)}))}return e.prototype.trace=function(e){return new sy(e)},Object.defineProperty(e.prototype,"instrumentationEnabled",{get:function(){return Pm.getInstance().instrumentationEnabled},set:function(e){Pm.getInstance().instrumentationEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dataCollectionEnabled",{get:function(){return Pm.getInstance().dataCollectionEnabled},set:function(e){Pm.getInstance().dataCollectionEnabled=e},enumerable:!1,configurable:!0}),e}();!function(e){var t=function(e,t){if("[DEFAULT]"!==e.name)throw Im.create("FB not default");if("undefined"===typeof window)throw Im.create("no window");return function(e){hm=e}(window),Pm.getInstance().firebaseAppInstance=e,Pm.getInstance().installationsService=t,new fy(e)};e.INTERNAL.registerComponent(new Wd.Component("performance",(function(e){var n=e.getProvider("app").getImmediate(),r=e.getProvider("installations").getImmediate();return t(n,r)}),"PUBLIC")),e.registerVersion("@firebase/performance",dm)}(r.default);var hy,dy,py="https://www.googletagmanager.com/gtag/js";!function(e){e.EVENT="event",e.SET="set",e.CONFIG="config"}(hy||(hy={})),function(e){e.ADD_SHIPPING_INFO="add_shipping_info",e.ADD_PAYMENT_INFO="add_payment_info",e.ADD_TO_CART="add_to_cart",e.ADD_TO_WISHLIST="add_to_wishlist",e.BEGIN_CHECKOUT="begin_checkout",e.CHECKOUT_PROGRESS="checkout_progress",e.EXCEPTION="exception",e.GENERATE_LEAD="generate_lead",e.LOGIN="login",e.PAGE_VIEW="page_view",e.PURCHASE="purchase",e.REFUND="refund",e.REMOVE_FROM_CART="remove_from_cart",e.SCREEN_VIEW="screen_view",e.SEARCH="search",e.SELECT_CONTENT="select_content",e.SELECT_ITEM="select_item",e.SELECT_PROMOTION="select_promotion",e.SET_CHECKOUT_OPTION="set_checkout_option",e.SHARE="share",e.SIGN_UP="sign_up",e.TIMING_COMPLETE="timing_complete",e.VIEW_CART="view_cart",e.VIEW_ITEM="view_item",e.VIEW_ITEM_LIST="view_item_list",e.VIEW_PROMOTION="view_promotion",e.VIEW_SEARCH_RESULTS="view_search_results"}(dy||(dy={}));var vy,gy=new a.Logger("@firebase/analytics");function my(e,t,n,r,o,a){return(0,i.__awaiter)(this,void 0,void 0,(function(){var s,u,c,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:s=r[o],i.label=1;case 1:return i.trys.push([1,7,,8]),s?[4,t[s]]:[3,3];case 2:return i.sent(),[3,6];case 3:return[4,Promise.all(n)];case 4:return u=i.sent(),(c=u.find((function(e){return e.measurementId===o})))?[4,t[c.appId]]:[3,6];case 5:i.sent(),i.label=6;case 6:return[3,8];case 7:return l=i.sent(),gy.error(l),[3,8];case 8:return e(hy.CONFIG,o,a),[2]}}))}))}function yy(e,t,n,r,o){return(0,i.__awaiter)(this,void 0,void 0,(function(){var a,s,u,c,l,f,h,d;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,4,,5]),a=[],o&&o.send_to?(s=o.send_to,Array.isArray(s)||(s=[s]),[4,Promise.all(n)]):[3,2];case 1:for(u=i.sent(),c=function(e){var n=u.find((function(t){return t.measurementId===e})),r=n&&t[n.appId];if(!r)return a=[],"break";a.push(r)},l=0,f=s;l<f.length&&(h=f[l],"break"!==c(h));l++);i.label=2;case 2:return 0===a.length&&(a=Object.values(t)),[4,Promise.all(a)];case 3:return i.sent(),e(hy.EVENT,r,o||{}),[3,5];case 4:return d=i.sent(),gy.error(d),[3,5];case 5:return[2]}}))}))}function _y(e,t,n,r,o){var a=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];window[r].push(arguments)};return window[o]&&"function"===typeof window[o]&&(a=window[o]),window[o]=function(e,t,n,r){return function(o,a,s){return(0,i.__awaiter)(this,void 0,void 0,(function(){var u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,6,,7]),o!==hy.EVENT?[3,2]:[4,yy(e,t,n,a,s)];case 1:return i.sent(),[3,5];case 2:return o!==hy.CONFIG?[3,4]:[4,my(e,t,n,r,a,s)];case 3:return i.sent(),[3,5];case 4:e(hy.SET,a),i.label=5;case 5:return[3,7];case 6:return u=i.sent(),gy.error(u),[3,7];case 7:return[2]}}))}))}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[o]}}var by=((vy={})["already-exists"]="A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",vy["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",vy["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate: {$reason}",vy["invalid-analytics-context"]="Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",vy["indexeddb-unavailable"]="IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",vy["fetch-throttle"]="The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",vy["config-fetch-failed"]="Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",vy["no-api-key"]='The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',vy["no-app-id"]='The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',vy),wy=new o.ErrorFactory("analytics","Analytics",by),ky=new(function(){function e(e,t){void 0===e&&(e={}),void 0===t&&(t=1e3),this.throttleMetadata=e,this.intervalMillis=t}return e.prototype.getThrottleMetadata=function(e){return this.throttleMetadata[e]},e.prototype.setThrottleMetadata=function(e,t){this.throttleMetadata[e]=t},e.prototype.deleteThrottleMetadata=function(e){delete this.throttleMetadata[e]},e}());function Iy(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Sy(e){var t;return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=e.appId,r=e.apiKey,o={method:"GET",headers:Iy(r)},a="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),[4,fetch(a,o)];case 1:if(200===(s=i.sent()).status||304===s.status)return[3,6];u="",i.label=2;case 2:return i.trys.push([2,4,,5]),[4,s.json()];case 3:return c=i.sent(),(null===(t=c.error)||void 0===t?void 0:t.message)&&(u=c.error.message),[3,5];case 4:return i.sent(),[3,5];case 5:throw wy.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 6:return[2,s.json()]}}))}))}function Ty(e,t,n,r){var a=t.throttleEndTimeMillis,s=t.backoffCount;return void 0===r&&(r=ky),(0,i.__awaiter)(this,void 0,void 0,(function(){var t,u,c,l,f,h,d;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:t=e.appId,u=e.measurementId,i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Ey(n,a)];case 2:return i.sent(),[3,4];case 3:if(c=i.sent(),u)return gy.warn("Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID "+u+' provided in the "measurementId" field in the local Firebase config. ['+c.message+"]"),[2,{appId:t,measurementId:u}];throw c;case 4:return i.trys.push([4,6,,7]),[4,Sy(e)];case 5:return l=i.sent(),r.deleteThrottleMetadata(t),[2,l];case 6:if(!function(e){if(!(e instanceof o.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(f=i.sent())){if(r.deleteThrottleMetadata(t),u)return gy.warn("Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID "+u+' provided in the "measurementId" field in the local Firebase config. ['+f.message+"]"),[2,{appId:t,measurementId:u}];throw f}return h=503===Number(f.customData.httpStatus)?(0,o.calculateBackoffMillis)(s,r.intervalMillis,30):(0,o.calculateBackoffMillis)(s,r.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:s+1},r.setThrottleMetadata(t,d),gy.debug("Calling attemptFetch again in "+h+" millis"),[2,Ty(e,d,n,r)];case 7:return[2]}}))}))}function Ey(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(wy.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var Cy=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}();function xy(e,t,n,r,a,s){return(0,i.__awaiter)(this,void 0,void 0,(function(){var u,c,l,f,h,d,p;return(0,i.__generator)(this,(function(v){switch(v.label){case 0:return u=function(e,t,n){return void 0===t&&(t=ky),(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o,a,s,u,c,l=this;return(0,i.__generator)(this,(function(f){if(r=e.options,o=r.appId,a=r.apiKey,s=r.measurementId,!o)throw wy.create("no-app-id");if(!a){if(s)return[2,{measurementId:s,appId:o}];throw wy.create("no-api-key")}return u=t.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new Cy,setTimeout((function(){return(0,i.__awaiter)(l,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){return c.abort(),[2]}))}))}),void 0!==n?n:6e4),[2,Ty({appId:o,apiKey:a,measurementId:s},u,c,t)]}))}))}(e),u.then((function(t){n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&gy.warn("The measurement ID in the local Firebase config ("+e.options.measurementId+") does not match the measurement ID fetched from the server ("+t.measurementId+"). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return gy.error(e)})),t.push(u),c=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return(0,o.isIndexedDBAvailable)()?[3,1]:(gy.warn(wy.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),[2,!1]);case 1:return t.trys.push([1,3,,4]),[4,(0,o.validateIndexedDBOpenable)()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),gy.warn(wy.create("indexeddb-unavailable",{errorInfo:e}).message),[2,!1];case 4:return[2,!0]}}))}))}().then((function(e){return e?r.getId():void 0})),[4,Promise.all([u,c])];case 1:return l=v.sent(),f=l[0],h=l[1],function(){for(var e=window.document.getElementsByTagName("script"),t=0,n=Object.values(e);t<n.length;t++){var r=n[t];if(r.src&&r.src.includes(py))return r}return null}()||function(e,t){var n=document.createElement("script");n.src=py+"?l="+e+"&id="+t,n.async=!0,document.head.appendChild(n)}(s,f.measurementId),a("js",new Date),(p={}).origin="firebase",p.update=!0,d=p,null!=h&&(d.firebase_id=h),a(hy.CONFIG,f.measurementId,d),[2,f.measurementId]}}))}))}var Ay,Py,Oy={},Ny=[],Ry={},Dy="dataLayer",My="gtag",Ly=!1;function jy(e){if(Ly)throw wy.create("already-initialized");e.dataLayerName&&(Dy=e.dataLayerName),e.gtagName&&(My=e.gtagName)}function Fy(e,t){!function(){var e=[];if((0,o.isBrowserExtension)()&&e.push("This is a browser extension environment."),(0,o.areCookiesEnabled)()||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"("+(t+1)+") "+e})).join(" "),n=wy.create("invalid-analytics-context",{errorInfo:t});gy.warn(n.message)}}();var n=e.options.appId;if(!n)throw wy.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw wy.create("no-api-key");gy.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID '+e.options.measurementId+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Oy[n])throw wy.create("already-exists",{id:n});if(!Ly){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Dy);var r=_y(Oy,Ny,Ry,Dy,My),a=r.wrappedGtag,s=r.gtagCore;Py=a,Ay=s,Ly=!0}Oy[n]=xy(e,Ny,Ry,t,Ay,Dy);var u={app:e,logEvent:function(e,t,r){(function(e,t,n,r,o){return(0,i.__awaiter)(this,void 0,void 0,(function(){var a,s;return(0,i.__generator)(this,(function(u){switch(u.label){case 0:return o&&o.global?(e(hy.EVENT,n,r),[2]):[3,1];case 1:return[4,t];case 2:a=u.sent(),s=(0,i.__assign)((0,i.__assign)({},r),{send_to:a}),e(hy.EVENT,n,s),u.label=3;case 3:return[2]}}))}))})(Py,Oy[n],e,t,r).catch((function(e){return gy.error(e)}))},setCurrentScreen:function(e,t){(function(e,t,n,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r&&r.global?(e(hy.SET,{screen_name:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:o=i.sent(),e(hy.CONFIG,o,{update:!0,screen_name:n}),i.label=3;case 3:return[2]}}))}))})(Py,Oy[n],e,t).catch((function(e){return gy.error(e)}))},setUserId:function(e,t){(function(e,t,n,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return r&&r.global?(e(hy.SET,{user_id:n}),[2,Promise.resolve()]):[3,1];case 1:return[4,t];case 2:o=i.sent(),e(hy.CONFIG,o,{update:!0,user_id:n}),i.label=3;case 3:return[2]}}))}))})(Py,Oy[n],e,t).catch((function(e){return gy.error(e)}))},setUserProperties:function(e,t){(function(e,t,n,r){return(0,i.__awaiter)(this,void 0,void 0,(function(){var o,a,s,u,c;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(!r||!r.global)return[3,1];for(o={},a=0,s=Object.keys(n);a<s.length;a++)u=s[a],o["user_properties."+u]=n[u];return e(hy.SET,o),[2,Promise.resolve()];case 1:return[4,t];case 2:c=i.sent(),e(hy.CONFIG,c,{update:!0,user_properties:n}),i.label=3;case 3:return[2]}}))}))})(Py,Oy[n],e,t).catch((function(e){return gy.error(e)}))},setAnalyticsCollectionEnabled:function(e){(function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),window["ga-disable-"+n]=!t,[2]}}))}))})(Oy[n],e).catch((function(e){return gy.error(e)}))},INTERNAL:{delete:function(){return delete Oy[n],Promise.resolve()}}};return u}var Uy="analytics";function qy(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:if((0,o.isBrowserExtension)())return[2,!1];if(!(0,o.areCookiesEnabled)())return[2,!1];if(!(0,o.isIndexedDBAvailable)())return[2,!1];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,(0,o.validateIndexedDBOpenable)()];case 2:return[2,e.sent()];case 3:return e.sent(),[2,!1];case 4:return[2]}}))}))}!function(e){e.INTERNAL.registerComponent(new Wd.Component(Uy,(function(e){return Fy(e.getProvider("app").getImmediate(),e.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:jy,EventName:dy,isSupported:qy})),e.INTERNAL.registerComponent(new Wd.Component("analytics-internal",(function(e){try{return{logEvent:e.getProvider(Uy).getImmediate().logEvent}}catch(Vd){throw wy.create("interop-component-reg-failed",{reason:Vd})}}),"PRIVATE")),e.registerVersion("@firebase/analytics","0.6.18")}(r.default);var By,Vy=function(){function e(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}return e.prototype.isCachedDataFresh=function(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-t,r=n<=e;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+e+". Is cache hit: "+r+"."),r},e.prototype.fetch=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return t=i.sent(),n=t[0],(r=t[1])&&this.isCachedDataFresh(e.cacheMaxAgeMillis,n)?[2,r]:(e.eTag=r&&r.eTag,[4,this.client.fetch(e)]);case 2:return o=i.sent(),a=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===o.status&&a.push(this.storage.setLastSuccessfulFetchResponse(o)),[4,Promise.all(a)];case 3:return i.sent(),[2,o]}}))}))},e}(),zy=((By={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",By["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",By["registration-api-key"]="Undefined API key. Check Firebase app initialization.",By["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",By["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",By["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",By["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",By["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",By["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",By["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',By["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',By["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",By["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",By),Wy=new o.ErrorFactory("remoteconfig","Remote Config",zy);var Ky=function(){function e(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return e.prototype.fetch=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n,r,o,a,s,u,c,l,f,h,d,p,v,g,m,y,_,b;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:t=i.sent(),n=t[0],r=t[1],o=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",a=o+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},u={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===w&&(w=navigator),w.languages&&w.languages[0]||w.language)},c={method:"POST",headers:s,body:JSON.stringify(u)},l=fetch(a,c),f=new Promise((function(t,n){e.signal.addEventListener((function(){var e=new Error("The operation was aborted.");e.name="AbortError",n(e)}))})),i.label=2;case 2:return i.trys.push([2,5,,6]),[4,Promise.race([l,f])];case 3:return i.sent(),[4,l];case 4:return h=i.sent(),[3,6];case 5:throw d=i.sent(),p="fetch-client-network","AbortError"===d.name&&(p="fetch-timeout"),Wy.create(p,{originalErrorMessage:d.message});case 6:if(v=h.status,g=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];_=void 0,i.label=7;case 7:return i.trys.push([7,9,,10]),[4,h.json()];case 8:return _=i.sent(),[3,10];case 9:throw b=i.sent(),Wy.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:m=_.entries,y=_.state,i.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===y?v=500:"NO_CHANGE"===y?v=304:"NO_TEMPLATE"!==y&&"EMPTY_CONFIG"!==y||(m={}),304!==v&&200!==v)throw Wy.create("fetch-status",{httpStatus:v});return[2,{status:v,eTag:g,config:m}]}var w}))}))},e}(),Gy=function(){function e(){this.listeners=[]}return e.prototype.addEventListener=function(e){this.listeners.push(e)},e.prototype.abort=function(){this.listeners.forEach((function(e){return e()}))},e}(),Hy=["1","true","t","yes","y","on"],Yy=function(){function e(e,t){void 0===t&&(t=""),this._source=e,this._value=t}return e.prototype.asString=function(){return this._value},e.prototype.asBoolean=function(){return"static"!==this._source&&Hy.indexOf(this._value.toLowerCase())>=0},e.prototype.asNumber=function(){if("static"===this._source)return 0;var e=Number(this._value);return isNaN(e)&&(e=0),e},e.prototype.getSource=function(){return this._source},e}(),$y=function(){function e(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return e.prototype.setLogLevel=function(e){switch(e){case"debug":this._logger.logLevel=a.LogLevel.DEBUG;break;case"silent":this._logger.logLevel=a.LogLevel.SILENT;break;default:this._logger.logLevel=a.LogLevel.ERROR}},Object.defineProperty(e.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),e.prototype.activate=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return e=r.sent(),t=e[0],n=e[1],t&&t.config&&t.eTag&&t.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(t.config),this._storage.setActiveConfigEtag(t.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},e.prototype.ensureInitialized=function(){var e=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){e._isInitializationComplete=!0}))),this._initializePromise},e.prototype.fetch=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r=this;return(0,i.__generator)(this,(function(a){switch(a.label){case 0:e=new Gy,setTimeout((function(){return(0,i.__awaiter)(r,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return e.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),a.label=1;case 1:return a.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:e})];case 2:return a.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return a.sent(),[3,6];case 4:return t=a.sent(),n=function(e,t){return e instanceof o.FirebaseError&&-1!==e.code.indexOf(t)}(t,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw a.sent(),t;case 6:return[2]}}))}))},e.prototype.fetchAndActivate=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.fetch()];case 1:return e.sent(),[2,this.activate()]}}))}))},e.prototype.getAll=function(){var e=this;return function(e,t){void 0===e&&(e={});void 0===t&&(t={});return Object.keys((0,i.__assign)((0,i.__assign)({},e),t))}(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(t,n){return t[n]=e.getValue(n),t}),{})},e.prototype.getBoolean=function(e){return this.getValue(e).asBoolean()},e.prototype.getNumber=function(e){return this.getValue(e).asNumber()},e.prototype.getString=function(e){return this.getValue(e).asString()},e.prototype.getValue=function(e){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+e+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var t=this._storageCache.getActiveConfig();return t&&void 0!==t[e]?new Yy("remote",t[e]):this.defaultConfig&&void 0!==this.defaultConfig[e]?new Yy("default",String(this.defaultConfig[e])):(this._logger.debug('Returning static value for key "'+e+'". Define a default or remote value if this is unintentional.'),new Yy("static"))},e}();function Xy(e,t){var n=e.target.error||void 0;return Wy.create(t,{originalErrorMessage:n&&n.message})}var Qy="app_namespace_store";var Zy=function(){function e(e,t,n,r){void 0===r&&(r=new Promise((function(e,t){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(e){t(Xy(e,"storage-open"))},n.onsuccess=function(t){e(t.target.result)},n.onupgradeneeded=function(e){var t=e.target.result;0===e.oldVersion&&t.createObjectStore(Qy,{keyPath:"compositeKey"})}}))),this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}return e.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},e.prototype.setLastFetchStatus=function(e){return this.set("last_fetch_status",e)},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.set("last_successful_fetch_timestamp_millis",e)},e.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},e.prototype.setLastSuccessfulFetchResponse=function(e){return this.set("last_successful_fetch_response",e)},e.prototype.getActiveConfig=function(){return this.get("active_config")},e.prototype.setActiveConfig=function(e){return this.set("active_config",e)},e.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},e.prototype.setActiveConfigEtag=function(e){return this.set("active_config_etag",e)},e.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},e.prototype.setThrottleMetadata=function(e){return this.set("throttle_metadata",e)},e.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},e.prototype.get=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Qy],"readonly").objectStore(Qy),a=n.createCompositeKey(e);try{var s=o.get(a);s.onerror=function(e){i(Xy(e,"storage-get"))},s.onsuccess=function(e){var t=e.target.result;r(t?t.value:void 0)}}catch(Vd){i(Wy.create("storage-get",{originalErrorMessage:Vd&&Vd.message}))}}))]}}))}))},e.prototype.set=function(e,t){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,r=this;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var a=n.transaction([Qy],"readwrite").objectStore(Qy),s=r.createCompositeKey(e);try{var u=a.put({compositeKey:s,value:t});u.onerror=function(e){o(Xy(e,"storage-set"))},u.onsuccess=function(){i()}}catch(Vd){o(Wy.create("storage-set",{originalErrorMessage:Vd&&Vd.message}))}}))]}}))}))},e.prototype.delete=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,n=this;return(0,i.__generator)(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return t=r.sent(),[2,new Promise((function(r,i){var o=t.transaction([Qy],"readwrite").objectStore(Qy),a=n.createCompositeKey(e);try{var s=o.delete(a);s.onerror=function(e){i(Xy(e,"storage-delete"))},s.onsuccess=function(){r()}}catch(Vd){i(Wy.create("storage-delete",{originalErrorMessage:Vd&&Vd.message}))}}))]}}))}))},e.prototype.createCompositeKey=function(e){return[this.appId,this.appName,this.namespace,e].join()},e}(),Jy=function(){function e(e){this.storage=e}return e.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},e.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},e.prototype.getActiveConfig=function(){return this.activeConfig},e.prototype.loadFromStorage=function(){return(0,i.__awaiter)(this,void 0,void 0,(function(){var e,t,n,r,o,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=this.storage.getLastFetchStatus(),t=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,e];case 1:return(r=i.sent())&&(this.lastFetchStatus=r),[4,t];case 2:return(o=i.sent())&&(this.lastSuccessfulFetchTimestampMillis=o),[4,n];case 3:return(a=i.sent())&&(this.activeConfig=a),[2]}}))}))},e.prototype.setLastFetchStatus=function(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)},e.prototype.setLastSuccessfulFetchTimestampMillis=function(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)},e.prototype.setActiveConfig=function(e){return this.activeConfig=e,this.storage.setActiveConfig(e)},e}();function e_(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener((function(){clearTimeout(o),r(Wy.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}var t_,n_=function(){function e(e,t){this.client=e,this.storage=t}return e.prototype.fetch=function(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return t=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(e,t)]}}))}))},e.prototype.attemptFetch=function(e,t){var n=t.throttleEndTimeMillis,r=t.backoffCount;return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,a,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,e_(e.signal,n)];case 1:i.sent(),i.label=2;case 2:return i.trys.push([2,5,,7]),[4,this.client.fetch(e)];case 3:return t=i.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return i.sent(),[2,t];case 5:if(!function(e){if(!(e instanceof o.FirebaseError)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(a=i.sent()))throw a;return s={throttleEndTimeMillis:Date.now()+(0,o.calculateBackoffMillis)(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(s)];case 6:return i.sent(),[2,this.attemptFetch(e,s)];case 7:return[2]}}))}))},e}(),r_="@firebase/remote-config";(t_=r.default).INTERNAL.registerComponent(new Wd.Component("remoteConfig",(function(e,t){var n=t.instanceIdentifier,r=e.getProvider("app").getImmediate(),i=e.getProvider("installations").getImmediate();if("undefined"===typeof window)throw Wy.create("registration-window");var o=r.options,s=o.projectId,u=o.apiKey,c=o.appId;if(!s)throw Wy.create("registration-project-id");if(!u)throw Wy.create("registration-api-key");if(!c)throw Wy.create("registration-app-id");n=n||"firebase";var l=new Zy(c,r.name,n),f=new Jy(l),h=new a.Logger(r_);h.logLevel=a.LogLevel.ERROR;var d=new Ky(i,t_.SDK_VERSION,n,s,u,c),p=new n_(d,l),v=new Vy(p,l,f,h),g=new $y(r,v,f,l,h);return g.ensureInitialized(),g}),"PUBLIC").setMultipleInstances(!0)),t_.registerVersion(r_,"0.1.43");n(2224);var i_="8.10.1";r.default.registerVersion("firebase",i_,"app"),r.default.SDK_VERSION=i_;console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),r.default.registerVersion("firebase","8.10.1")},8679:function(e,t,n){"use strict";var r=n(9864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),g=0;g<a.length;++g){var m=a[g];if(!o[m]&&(!r||!r[m])&&(!v||!v[m])&&(!s||!s[m])){var y=h(n,m);try{c(t,m,y)}catch(_){}}}}return t}},5477:function(e,t,n){"use strict";n.r(t);var r=/[A-Z]/g,i=/^ms-/,o={};function a(e){return"-"+e.toLowerCase()}t.default=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(r,a);return o[e]=i.test(t)?"-"+t:t}},8676:function(e,t){!function(e){"use strict";function t(e){return Array.prototype.slice.call(e)}function n(e){return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function r(e,t,r){var i,o=new Promise((function(o,a){n(i=e[t].apply(e,r)).then(o,a)}));return o.request=i,o}function i(e,t,n){var i=r(e,t,n);return i.then((function(e){if(e)return new l(e,i.request)}))}function o(e,t,n){n.forEach((function(n){Object.defineProperty(e.prototype,n,{get:function(){return this[t][n]},set:function(e){this[t][n]=e}})}))}function a(e,t,n,i){i.forEach((function(i){i in n.prototype&&(e.prototype[i]=function(){return r(this[t],i,arguments)})}))}function s(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return this[t][r].apply(this[t],arguments)})}))}function u(e,t,n,r){r.forEach((function(r){r in n.prototype&&(e.prototype[r]=function(){return i(this[t],r,arguments)})}))}function c(e){this._index=e}function l(e,t){this._cursor=e,this._request=t}function f(e){this._store=e}function h(e){this._tx=e,this.complete=new Promise((function(t,n){e.oncomplete=function(){t()},e.onerror=function(){n(e.error)},e.onabort=function(){n(e.error)}}))}function d(e,t,n){this._db=e,this.oldVersion=t,this.transaction=new h(n)}function p(e){this._db=e}function v(e,t,n){var i=r(indexedDB,"open",[e,t]),o=i.request;return o&&(o.onupgradeneeded=function(e){n&&n(new d(o.result,e.oldVersion,o.transaction))}),i.then((function(e){return new p(e)}))}function g(e){return r(indexedDB,"deleteDatabase",[e])}o(c,"_index",["name","keyPath","multiEntry","unique"]),a(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),o(l,"_cursor",["direction","key","primaryKey","value"]),a(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(e){e in IDBCursor.prototype&&(l.prototype[e]=function(){var t=this,r=arguments;return Promise.resolve().then((function(){return t._cursor[e].apply(t._cursor,r),n(t._request).then((function(e){if(e)return new l(e,t._request)}))}))})})),f.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},f.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},o(f,"_store",["name","keyPath","indexNames","autoIncrement"]),a(f,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(f,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),s(f,"_store",IDBObjectStore,["deleteIndex"]),h.prototype.objectStore=function(){return new f(this._tx.objectStore.apply(this._tx,arguments))},o(h,"_tx",["objectStoreNames","mode"]),s(h,"_tx",IDBTransaction,["abort"]),d.prototype.createObjectStore=function(){return new f(this._db.createObjectStore.apply(this._db,arguments))},o(d,"_db",["name","version","objectStoreNames"]),s(d,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new h(this._db.transaction.apply(this._db,arguments))},o(p,"_db",["name","version","objectStoreNames"]),s(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(e){[f,c].forEach((function(n){e in n.prototype&&(n.prototype[e.replace("open","iterate")]=function(){var n=t(arguments),r=n[n.length-1],i=this._store||this._index,o=i[e].apply(i,n.slice(0,-1));o.onsuccess=function(){r(o.result)}})}))})),[c,f].forEach((function(e){e.prototype.getAll||(e.prototype.getAll=function(e,t){var n=this,r=[];return new Promise((function(i){n.iterateCursor(e,(function(e){e?(r.push(e.value),void 0===t||r.length!=t?e.continue():i(r)):i(r)}))}))})})),e.openDb=v,e.deleteDb=g,Object.defineProperty(e,"__esModule",{value:!0})}(t)},1008:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=e.prefixMap,n=e.plugins,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){return e};return function(){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};f(this,e);var r="undefined"!==typeof navigator?navigator.userAgent:void 0;if(this._userAgent=n.userAgent||r,this._keepUnprefixed=n.keepUnprefixed||!1,this._userAgent&&(this._browserInfo=(0,i.default)(this._userAgent)),!this._browserInfo||!this._browserInfo.cssPrefix)return this._useFallback=!0,!1;this.prefixedKeyframes=(0,o.default)(this._browserInfo.browserName,this._browserInfo.browserVersion,this._browserInfo.cssPrefix);var a=this._browserInfo.browserName&&t[this._browserInfo.browserName];if(a){for(var s in this._requiresPrefix={},a)a[s]>=this._browserInfo.browserVersion&&(this._requiresPrefix[s]=!0);this._hasPropsRequiringPrefix=Object.keys(this._requiresPrefix).length>0}else this._useFallback=!0;this._metaData={browserVersion:this._browserInfo.browserVersion,browserName:this._browserInfo.browserName,cssPrefix:this._browserInfo.cssPrefix,jsPrefix:this._browserInfo.jsPrefix,keepUnprefixed:this._keepUnprefixed,requiresPrefix:this._requiresPrefix}}return r(e,[{key:"prefix",value:function(e){return this._useFallback?l(e):this._hasPropsRequiringPrefix?this._prefixStyle(e):e}},{key:"_prefixStyle",value:function(e){for(var t in e){var r=e[t];if((0,u.default)(r))e[t]=this.prefix(r);else if(Array.isArray(r)){for(var i=[],o=0,l=r.length;o<l;++o){var f=(0,c.default)(n,t,r[o],e,this._metaData);(0,s.default)(i,f||r[o])}i.length>0&&(e[t]=i)}else{var h=(0,c.default)(n,t,r,e,this._metaData);h&&(e[t]=h),this._requiresPrefix.hasOwnProperty(t)&&(e[this._browserInfo.jsPrefix+(0,a.default)(t)]=r,this._keepUnprefixed||delete e[t])}}return e}}],[{key:"prefixAll",value:function(e){return l(e)}}]),e}()};var i=l(n(6586)),o=l(n(7217)),a=l(n(2160)),s=l(n(55)),u=l(n(3369)),c=l(n(1745));function l(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=t.default},6280:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={plugins:[],prefixMap:{chrome:{appearance:64,userSelect:53,textEmphasisPosition:64,textEmphasis:64,textEmphasisStyle:64,textEmphasisColor:64,boxDecorationBreak:64,clipPath:54,maskImage:64,maskMode:64,maskRepeat:64,maskPosition:64,maskClip:64,maskOrigin:64,maskSize:64,maskComposite:64,mask:64,maskBorderSource:64,maskBorderMode:64,maskBorderSlice:64,maskBorderWidth:64,maskBorderOutset:64,maskBorderRepeat:64,maskBorder:64,maskType:64,textDecorationStyle:56,textDecorationSkip:56,textDecorationLine:56,textDecorationColor:56,filter:52,fontFeatureSettings:47,breakAfter:49,breakBefore:49,breakInside:49,columnCount:49,columnFill:49,columnGap:49,columnRule:49,columnRuleColor:49,columnRuleStyle:49,columnRuleWidth:49,columns:49,columnSpan:49,columnWidth:49,writingMode:47},safari:{flex:8,flexBasis:8,flexDirection:8,flexGrow:8,flexFlow:8,flexShrink:8,flexWrap:8,alignContent:8,alignItems:8,alignSelf:8,justifyContent:8,order:8,transform:8,transformOrigin:8,transformOriginX:8,transformOriginY:8,backfaceVisibility:8,perspective:8,perspectiveOrigin:8,transformStyle:8,transformOriginZ:8,animation:8,animationDelay:8,animationDirection:8,animationFillMode:8,animationDuration:8,animationIterationCount:8,animationName:8,animationPlayState:8,animationTimingFunction:8,appearance:11,userSelect:11,backdropFilter:11,fontKerning:9,scrollSnapType:10.1,scrollSnapPointsX:10.1,scrollSnapPointsY:10.1,scrollSnapDestination:10.1,scrollSnapCoordinate:10.1,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8,breakAfter:8,breakInside:8,regionFragment:11,columnCount:8,columnFill:8,columnGap:8,columnRule:8,columnRuleColor:8,columnRuleStyle:8,columnRuleWidth:8,columns:8,columnSpan:8,columnWidth:8,writingMode:11},firefox:{appearance:58,userSelect:58,textAlignLast:48,tabSize:58,hyphens:42,breakAfter:51,breakBefore:51,breakInside:51,columnCount:51,columnFill:51,columnGap:51,columnRule:51,columnRuleColor:51,columnRuleStyle:51,columnRuleWidth:51,columns:51,columnSpan:51,columnWidth:51},opera:{flex:16,flexBasis:16,flexDirection:16,flexGrow:16,flexFlow:16,flexShrink:16,flexWrap:16,alignContent:16,alignItems:16,alignSelf:16,justifyContent:16,order:16,transform:22,transformOrigin:22,transformOriginX:22,transformOriginY:22,backfaceVisibility:22,perspective:22,perspectiveOrigin:22,transformStyle:22,transformOriginZ:22,animation:29,animationDelay:29,animationDirection:29,animationFillMode:29,animationDuration:29,animationIterationCount:29,animationName:29,animationPlayState:29,animationTimingFunction:29,appearance:49,userSelect:40,fontKerning:19,textEmphasisPosition:49,textEmphasis:49,textEmphasisStyle:49,textEmphasisColor:49,boxDecorationBreak:49,clipPath:41,maskImage:49,maskMode:49,maskRepeat:49,maskPosition:49,maskClip:49,maskOrigin:49,maskSize:49,maskComposite:49,mask:49,maskBorderSource:49,maskBorderMode:49,maskBorderSlice:49,maskBorderWidth:49,maskBorderOutset:49,maskBorderRepeat:49,maskBorder:49,maskType:49,textDecorationStyle:43,textDecorationSkip:43,textDecorationLine:43,textDecorationColor:43,filter:39,fontFeatureSettings:34,breakAfter:36,breakBefore:36,breakInside:36,columnCount:36,columnFill:36,columnGap:36,columnRule:36,columnRuleColor:36,columnRuleStyle:36,columnRuleWidth:36,columns:36,columnSpan:36,columnWidth:36,writingMode:34},ie:{userSelect:11,wrapFlow:11,wrapThrough:11,wrapMargin:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,hyphens:11,flowInto:11,flowFrom:11,breakBefore:11,breakAfter:11,breakInside:11,regionFragment:11,gridTemplateColumns:11,gridTemplateRows:11,gridTemplateAreas:11,gridTemplate:11,gridAutoColumns:11,gridAutoRows:11,gridAutoFlow:11,grid:11,gridRowStart:11,gridColumnStart:11,gridRowEnd:11,gridRow:11,gridColumn:11,gridColumnEnd:11,gridColumnGap:11,gridRowGap:11,gridArea:11,gridGap:11,textSizeAdjust:11,writingMode:11},edge:{userSelect:16,wrapFlow:16,wrapThrough:16,wrapMargin:16,scrollSnapType:16,scrollSnapPointsX:16,scrollSnapPointsY:16,scrollSnapDestination:16,scrollSnapCoordinate:16,hyphens:16,flowInto:16,flowFrom:16,breakBefore:16,breakAfter:16,breakInside:16,regionFragment:16,gridTemplateColumns:15,gridTemplateRows:15,gridTemplateAreas:15,gridTemplate:15,gridAutoColumns:15,gridAutoRows:15,gridAutoFlow:15,grid:15,gridRowStart:15,gridColumnStart:15,gridRowEnd:15,gridRow:15,gridColumn:15,gridColumnEnd:15,gridColumnGap:15,gridRowGap:15,gridArea:15,gridGap:15},ios_saf:{flex:8.1,flexBasis:8.1,flexDirection:8.1,flexGrow:8.1,flexFlow:8.1,flexShrink:8.1,flexWrap:8.1,alignContent:8.1,alignItems:8.1,alignSelf:8.1,justifyContent:8.1,order:8.1,transform:8.1,transformOrigin:8.1,transformOriginX:8.1,transformOriginY:8.1,backfaceVisibility:8.1,perspective:8.1,perspectiveOrigin:8.1,transformStyle:8.1,transformOriginZ:8.1,animation:8.1,animationDelay:8.1,animationDirection:8.1,animationFillMode:8.1,animationDuration:8.1,animationIterationCount:8.1,animationName:8.1,animationPlayState:8.1,animationTimingFunction:8.1,appearance:11,userSelect:11,backdropFilter:11,fontKerning:11,scrollSnapType:11,scrollSnapPointsX:11,scrollSnapPointsY:11,scrollSnapDestination:11,scrollSnapCoordinate:11,boxDecorationBreak:11,clipPath:11,maskImage:11,maskMode:11,maskRepeat:11,maskPosition:11,maskClip:11,maskOrigin:11,maskSize:11,maskComposite:11,mask:11,maskBorderSource:11,maskBorderMode:11,maskBorderSlice:11,maskBorderWidth:11,maskBorderOutset:11,maskBorderRepeat:11,maskBorder:11,maskType:11,textSizeAdjust:11,textDecorationStyle:11,textDecorationSkip:11,textDecorationLine:11,textDecorationColor:11,shapeImageThreshold:10,shapeImageMargin:10,shapeImageOutside:10,filter:9,hyphens:11,flowInto:11,flowFrom:11,breakBefore:8.1,breakAfter:8.1,breakInside:8.1,regionFragment:11,columnCount:8.1,columnFill:8.1,columnGap:8.1,columnRule:8.1,columnRuleColor:8.1,columnRuleStyle:8.1,columnRuleWidth:8.1,columns:8.1,columnSpan:8.1,columnWidth:8.1,writingMode:11},android:{borderImage:4.2,borderImageOutset:4.2,borderImageRepeat:4.2,borderImageSlice:4.2,borderImageSource:4.2,borderImageWidth:4.2,flex:4.2,flexBasis:4.2,flexDirection:4.2,flexGrow:4.2,flexFlow:4.2,flexShrink:4.2,flexWrap:4.2,alignContent:4.2,alignItems:4.2,alignSelf:4.2,justifyContent:4.2,order:4.2,transition:4.2,transitionDelay:4.2,transitionDuration:4.2,transitionProperty:4.2,transitionTimingFunction:4.2,transform:4.4,transformOrigin:4.4,transformOriginX:4.4,transformOriginY:4.4,backfaceVisibility:4.4,perspective:4.4,perspectiveOrigin:4.4,transformStyle:4.4,transformOriginZ:4.4,animation:4.4,animationDelay:4.4,animationDirection:4.4,animationFillMode:4.4,animationDuration:4.4,animationIterationCount:4.4,animationName:4.4,animationPlayState:4.4,animationTimingFunction:4.4,appearance:56,userSelect:4.4,fontKerning:4.4,textEmphasisPosition:56,textEmphasis:56,textEmphasisStyle:56,textEmphasisColor:56,boxDecorationBreak:56,clipPath:4.4,maskImage:56,maskMode:56,maskRepeat:56,maskPosition:56,maskClip:56,maskOrigin:56,maskSize:56,maskComposite:56,mask:56,maskBorderSource:56,maskBorderMode:56,maskBorderSlice:56,maskBorderWidth:56,maskBorderOutset:56,maskBorderRepeat:56,maskBorder:56,maskType:56,filter:4.4,fontFeatureSettings:4.4,breakAfter:4.4,breakBefore:4.4,breakInside:4.4,columnCount:4.4,columnFill:4.4,columnGap:4.4,columnRule:4.4,columnRuleColor:4.4,columnRuleStyle:4.4,columnRuleWidth:4.4,columns:4.4,columnSpan:4.4,columnWidth:4.4,writingMode:4.4},and_chr:{appearance:61,textEmphasisPosition:61,textEmphasis:61,textEmphasisStyle:61,textEmphasisColor:61,boxDecorationBreak:61,maskImage:61,maskMode:61,maskRepeat:61,maskPosition:61,maskClip:61,maskOrigin:61,maskSize:61,maskComposite:61,mask:61,maskBorderSource:61,maskBorderMode:61,maskBorderSlice:61,maskBorderWidth:61,maskBorderOutset:61,maskBorderRepeat:61,maskBorder:61,maskType:61},and_uc:{flex:11.4,flexBasis:11.4,flexDirection:11.4,flexGrow:11.4,flexFlow:11.4,flexShrink:11.4,flexWrap:11.4,alignContent:11.4,alignItems:11.4,alignSelf:11.4,justifyContent:11.4,order:11.4,transform:11.4,transformOrigin:11.4,transformOriginX:11.4,transformOriginY:11.4,backfaceVisibility:11.4,perspective:11.4,perspectiveOrigin:11.4,transformStyle:11.4,transformOriginZ:11.4,animation:11.4,animationDelay:11.4,animationDirection:11.4,animationFillMode:11.4,animationDuration:11.4,animationIterationCount:11.4,animationName:11.4,animationPlayState:11.4,animationTimingFunction:11.4,appearance:11.4,userSelect:11.4,textEmphasisPosition:11.4,textEmphasis:11.4,textEmphasisStyle:11.4,textEmphasisColor:11.4,clipPath:11.4,maskImage:11.4,maskMode:11.4,maskRepeat:11.4,maskPosition:11.4,maskClip:11.4,maskOrigin:11.4,maskSize:11.4,maskComposite:11.4,mask:11.4,maskBorderSource:11.4,maskBorderMode:11.4,maskBorderSlice:11.4,maskBorderWidth:11.4,maskBorderOutset:11.4,maskBorderRepeat:11.4,maskBorder:11.4,maskType:11.4,textSizeAdjust:11.4,filter:11.4,hyphens:11.4,fontFeatureSettings:11.4,breakAfter:11.4,breakBefore:11.4,breakInside:11.4,columnCount:11.4,columnFill:11.4,columnGap:11.4,columnRule:11.4,columnRuleColor:11.4,columnRuleStyle:11.4,columnRuleWidth:11.4,columns:11.4,columnSpan:11.4,columnWidth:11.4,writingMode:11.4},op_mini:{}}},e.exports=t.default},4422:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(1008)),i=g(n(1492)),o=g(n(9296)),a=g(n(4162)),s=g(n(4907)),u=g(n(3909)),c=g(n(4027)),l=g(n(8311)),f=g(n(3843)),h=g(n(4360)),d=g(n(4627)),p=g(n(220)),v=g(n(6280));function g(e){return e&&e.__esModule?e:{default:e}}var m=[o.default,i.default,a.default,u.default,c.default,l.default,f.default,h.default,d.default,s.default],y=(0,r.default)({prefixMap:v.default.prefixMap,plugins:m},p.default);t.default=y,e.exports=t.default},9296:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,a=r.browserVersion,s=r.cssPrefix,u=r.keepUnprefixed;if("string"===typeof t&&t.indexOf("cross-fade(")>-1&&("chrome"===i||"opera"===i||"and_chr"===i||("ios_saf"===i||"safari"===i)&&a<10))return(0,o.default)(t.replace(/cross-fade\(/g,s+"cross-fade("),t,u)};var r,i=n(4912),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},1492:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,u=r.browserVersion,c=r.cssPrefix,l=r.keepUnprefixed;if("cursor"===e&&a[t]&&("firefox"===i||"chrome"===i||"safari"===i||"opera"===i))return(0,o.default)(c+t,t,l);if("cursor"===e&&s[t]&&("firefox"===i&&u<24||"chrome"===i&&u<37||"safari"===i&&u<9||"opera"===i&&u<24))return(0,o.default)(c+t,t,l)};var r,i=n(4912),o=(r=i)&&r.__esModule?r:{default:r};var a={grab:!0,grabbing:!0},s={"zoom-in":!0,"zoom-out":!0};e.exports=t.default},4162:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,a=r.browserVersion,s=r.cssPrefix,u=r.keepUnprefixed;if("string"===typeof t&&t.indexOf("filter(")>-1&&("ios_saf"===i||"safari"===i&&a<9.1))return(0,o.default)(t.replace(/filter\(/g,s+"filter("),t,u)};var r,i=n(4912),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},4907:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,s=r.browserVersion,u=r.cssPrefix,c=r.keepUnprefixed;if("display"===e&&a[t]&&("chrome"===i&&s<29&&s>20||("safari"===i||"ios_saf"===i)&&s<9&&s>6||"opera"===i&&(15===s||16===s)))return(0,o.default)(u+t,t,c)};var r,i=n(4912),o=(r=i)&&r.__esModule?r:{default:r};var a={flex:!0,"inline-flex":!0};e.exports=t.default},3909:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,c=r.browserVersion,l=r.cssPrefix,f=r.keepUnprefixed,h=r.requiresPrefix;if((u.indexOf(e)>-1||"display"===e&&"string"===typeof t&&t.indexOf("flex")>-1)&&("firefox"===i&&c<22||"chrome"===i&&c<21||("safari"===i||"ios_saf"===i)&&c<=6.1||"android"===i&&c<4.4||"and_uc"===i)){if(delete h[e],f||Array.isArray(n[e])||delete n[e],"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?n.WebkitBoxOrient="vertical":n.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?n.WebkitBoxDirection="reverse":n.WebkitBoxDirection="normal"),"display"===e&&a.hasOwnProperty(t))return(0,o.default)(l+a[t],t,f);s.hasOwnProperty(e)&&(n[s[e]]=a[t]||t)}};var r,i=n(4912),o=(r=i)&&r.__esModule?r:{default:r};var a={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple",flex:"box","inline-flex":"inline-box"},s={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"},u=Object.keys(s).concat(["alignContent","alignSelf","order","flexGrow","flexShrink","flexBasis","flexDirection"]);e.exports=t.default},4027:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,s=r.browserVersion,u=r.cssPrefix,c=r.keepUnprefixed;if("string"===typeof t&&a.test(t)&&("firefox"===i&&s<16||"chrome"===i&&s<26||("safari"===i||"ios_saf"===i)&&s<7||("opera"===i||"op_mini"===i)&&s<12.1||"android"===i&&s<4.4||"and_uc"===i))return(0,o.default)(u+t,t,c)};var r,i=n(4912),o=(r=i)&&r.__esModule?r:{default:r};var a=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},8311:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,a=r.cssPrefix,s=r.keepUnprefixed;if("string"===typeof t&&t.indexOf("image-set(")>-1&&("chrome"===i||"opera"===i||"and_chr"===i||"and_uc"===i||"ios_saf"===i||"safari"===i))return(0,o.default)(t.replace(/image-set\(/g,a+"image-set("),t,s)};var r,i=n(4912),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},3843:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.browserName,a=r.cssPrefix,s=r.keepUnprefixed;if("position"===e&&"sticky"===t&&("safari"===i||"ios_saf"===i))return(0,o.default)(a+t,t,s)};var r,i=n(4912),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},4360:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.cssPrefix,u=r.keepUnprefixed;if(a.hasOwnProperty(e)&&s.hasOwnProperty(t))return(0,o.default)(i+t,t,u)};var r,i=n(4912),o=(r=i)&&r.__esModule?r:{default:r};var a={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},s={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},4627:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var i=r.cssPrefix,u=r.keepUnprefixed,c=r.requiresPrefix;if("string"===typeof t&&a.hasOwnProperty(e)){s||(s=Object.keys(c).map((function(e){return(0,o.default)(e)})));var l=t.split(/,(?![^()]*(?:\([^()]*\))?\))/g);return s.forEach((function(e){l.forEach((function(t,n){t.indexOf(e)>-1&&"order"!==e&&(l[n]=t.replace(e,i+e)+(u?","+t:""))}))})),l.join(",")}};var r,i=n(7320),o=(r=i)&&r.__esModule?r:{default:r};var a={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},s=void 0;e.exports=t.default},2073:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,n=e.plugins;return function e(s){for(var u in s){var c=s[u];if((0,a.default)(c))s[u]=e(c);else if(Array.isArray(c)){for(var l=[],f=0,h=c.length;f<h;++f){var d=(0,i.default)(n,u,c[f],s,t);(0,o.default)(l,d||c[f])}l.length>0&&(s[u]=l)}else{var p=(0,i.default)(n,u,c,s,t);p&&(s[u]=p),(0,r.default)(t,u,s)}}return s}};var r=s(n(7901)),i=s(n(1745)),o=s(n(55)),a=s(n(3369));function s(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},220:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=v(n(2073)),i=v(n(2633)),o=v(n(5848)),a=v(n(6230)),s=v(n(7879)),u=v(n(5716)),c=v(n(8544)),l=v(n(7551)),f=v(n(1242)),h=v(n(9686)),d=v(n(1113)),p=v(n(5152));function v(e){return e&&e.__esModule?e:{default:e}}var g=[a.default,o.default,s.default,c.default,l.default,f.default,h.default,d.default,p.default,u.default];t.default=(0,r.default)({prefixMap:i.default.prefixMap,plugins:g}),e.exports=t.default},6230:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,o.default)(t)&&t.indexOf("cross-fade(")>-1)return a.map((function(e){return t.replace(/cross-fade\(/g,e+"cross-fade(")}))};var r,i=n(638),o=(r=i)&&r.__esModule?r:{default:r};var a=["-webkit-",""];e.exports=t.default},5848:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("cursor"===e&&r.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={"zoom-in":!0,"zoom-out":!0,grab:!0,grabbing:!0};e.exports=t.default},7879:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,o.default)(t)&&t.indexOf("filter(")>-1)return a.map((function(e){return t.replace(/filter\(/g,e+"filter(")}))};var r,i=n(638),o=(r=i)&&r.__esModule?r:{default:r};var a=["-webkit-",""];e.exports=t.default},5716:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("display"===e&&n.hasOwnProperty(t))return n[t]};var n={flex:["-webkit-box","-moz-box","-ms-flexbox","-webkit-flex","flex"],"inline-flex":["-webkit-inline-box","-moz-inline-box","-ms-inline-flexbox","-webkit-inline-flex","inline-flex"]};e.exports=t.default},8544:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,i){"flexDirection"===e&&"string"===typeof t&&(t.indexOf("column")>-1?i.WebkitBoxOrient="vertical":i.WebkitBoxOrient="horizontal",t.indexOf("reverse")>-1?i.WebkitBoxDirection="reverse":i.WebkitBoxDirection="normal");r.hasOwnProperty(e)&&(i[r[e]]=n[t]||t)};var n={"space-around":"justify","space-between":"justify","flex-start":"start","flex-end":"end","wrap-reverse":"multiple",wrap:"multiple"},r={alignItems:"WebkitBoxAlign",justifyContent:"WebkitBoxPack",flexWrap:"WebkitBoxLines"};e.exports=t.default},7551:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,o.default)(t)&&s.test(t))return a.map((function(e){return e+t}))};var r,i=n(638),o=(r=i)&&r.__esModule?r:{default:r};var a=["-webkit-","-moz-",""],s=/linear-gradient|radial-gradient|repeating-linear-gradient|repeating-radial-gradient/;e.exports=t.default},1242:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,o.default)(t)&&t.indexOf("image-set(")>-1)return a.map((function(e){return t.replace(/image-set\(/g,e+"image-set(")}))};var r,i=n(638),o=(r=i)&&r.__esModule?r:{default:r};var a=["-webkit-",""];e.exports=t.default},9686:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]},e.exports=t.default},1113:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(r.hasOwnProperty(e)&&i.hasOwnProperty(t))return n.map((function(e){return e+t}))};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0};e.exports=t.default},5152:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){if("string"===typeof t&&s.hasOwnProperty(e)){var c=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),o=0,a=n.length;o<a;++o){var s=n[o],c=[s];for(var l in t){var f=(0,r.default)(l);if(s.indexOf(f)>-1&&"order"!==f)for(var h=t[l],d=0,p=h.length;d<p;++d)c.unshift(s.replace(f,u[h[d]]+f))}n[o]=c.join(",")}return n.join(",")}(t,a),l=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-moz-|-ms-/.test(e)})).join(",");if(e.indexOf("Webkit")>-1)return l;var f=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter((function(e){return!/-webkit-|-ms-/.test(e)})).join(",");return e.indexOf("Moz")>-1?f:(n["Webkit"+(0,o.default)(e)]=l,n["Moz"+(0,o.default)(e)]=f,c)}};var r=a(n(7320)),i=a(n(638)),o=a(n(2160));function a(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},u={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"};e.exports=t.default},2633:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=["Webkit"],r=["Moz"],i=["ms"],o=["Webkit","Moz"],a=["Webkit","ms"],s=["Webkit","Moz","ms"];t.default={plugins:[],prefixMap:{appearance:o,userSelect:s,textEmphasisPosition:n,textEmphasis:n,textEmphasisStyle:n,textEmphasisColor:n,boxDecorationBreak:n,clipPath:n,maskImage:n,maskMode:n,maskRepeat:n,maskPosition:n,maskClip:n,maskOrigin:n,maskSize:n,maskComposite:n,mask:n,maskBorderSource:n,maskBorderMode:n,maskBorderSlice:n,maskBorderWidth:n,maskBorderOutset:n,maskBorderRepeat:n,maskBorder:n,maskType:n,textDecorationStyle:n,textDecorationSkip:n,textDecorationLine:n,textDecorationColor:n,filter:n,fontFeatureSettings:n,breakAfter:s,breakBefore:s,breakInside:s,columnCount:o,columnFill:o,columnGap:o,columnRule:o,columnRuleColor:o,columnRuleStyle:o,columnRuleWidth:o,columns:o,columnSpan:o,columnWidth:o,writingMode:a,flex:n,flexBasis:n,flexDirection:n,flexGrow:n,flexFlow:n,flexShrink:n,flexWrap:n,alignContent:n,alignItems:n,alignSelf:n,justifyContent:n,order:n,transform:n,transformOrigin:n,transformOriginX:n,transformOriginY:n,backfaceVisibility:n,perspective:n,perspectiveOrigin:n,transformStyle:n,transformOriginZ:n,animation:n,animationDelay:n,animationDirection:n,animationFillMode:n,animationDuration:n,animationIterationCount:n,animationName:n,animationPlayState:n,animationTimingFunction:n,backdropFilter:n,fontKerning:n,scrollSnapType:a,scrollSnapPointsX:a,scrollSnapPointsY:a,scrollSnapDestination:a,scrollSnapCoordinate:a,shapeImageThreshold:n,shapeImageMargin:n,shapeImageOutside:n,hyphens:s,flowInto:a,flowFrom:a,regionFragment:a,textAlignLast:r,tabSize:r,wrapFlow:i,wrapThrough:i,wrapMargin:i,gridTemplateColumns:i,gridTemplateRows:i,gridTemplateAreas:i,gridTemplate:i,gridAutoColumns:i,gridAutoRows:i,gridAutoFlow:i,grid:i,gridRowStart:i,gridColumnStart:i,gridRowEnd:i,gridRow:i,gridColumn:i,gridColumnEnd:i,gridColumnGap:i,gridRowGap:i,gridArea:i,gridGap:i,textSizeAdjust:a,borderImage:n,borderImageOutset:n,borderImageRepeat:n,borderImageSlice:n,borderImageSource:n,borderImageWidth:n,transitionDelay:n,transitionDuration:n,transitionProperty:n,transitionTimingFunction:n}},e.exports=t.default},55:function(e,t){"use strict";function n(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)},e.exports=t.default},2160:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},e.exports=t.default},6586:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=o.default._detect(e);t.yandexbrowser&&(t=o.default._detect(e.replace(/YaBrowser\/[0-9.]*/,"")));for(var n in a)if(t.hasOwnProperty(n)){var r=a[n];t.jsPrefix=r,t.cssPrefix="-"+r.toLowerCase()+"-";break}t.browserName=function(e){if(e.firefox)return"firefox";if(e.mobile||e.tablet){if(e.ios)return"ios_saf";if(e.android)return"android";if(e.opera)return"op_mini"}for(var t in s)if(e.hasOwnProperty(t))return s[t]}(t),t.version?t.browserVersion=parseFloat(t.version):t.browserVersion=parseInt(parseFloat(t.osversion),10);t.osVersion=parseFloat(t.osversion),"ios_saf"===t.browserName&&t.browserVersion>t.osVersion&&(t.browserVersion=t.osVersion);"android"===t.browserName&&t.chrome&&t.browserVersion>37&&(t.browserName="and_chr");"android"===t.browserName&&t.osVersion<5&&(t.browserVersion=t.osVersion);"android"===t.browserName&&t.samsungBrowser&&(t.browserName="and_chr",t.browserVersion=44);return t};var r,i=n(5470),o=(r=i)&&r.__esModule?r:{default:r};var a={chrome:"Webkit",safari:"Webkit",ios:"Webkit",android:"Webkit",phantom:"Webkit",opera:"Webkit",webos:"Webkit",blackberry:"Webkit",bada:"Webkit",tizen:"Webkit",chromium:"Webkit",vivaldi:"Webkit",firefox:"Moz",seamoney:"Moz",sailfish:"Moz",msie:"ms",msedge:"ms"},s={chrome:"chrome",chromium:"chrome",safari:"safari",firfox:"firefox",msedge:"edge",opera:"opera",vivaldi:"opera",msie:"ie"};e.exports=t.default},7217:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r="keyframes";if("chrome"===e&&t<43||("safari"===e||"ios_saf"===e)&&t<9||"opera"===e&&t<30||"android"===e&&t<=4.4||"and_uc"===e)return n+r;return r},e.exports=t.default},4912:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(n)return[e,t];return e},e.exports=t.default},3369:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)},e.exports=t.default},7901:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){if(e.hasOwnProperty(t))for(var r=e[t],i=0,a=r.length;i<a;++i)n[r[i]+(0,o.default)(t)]=n[t]};var r,i=n(2160),o=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},1745:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var o=0,a=e.length;o<a;++o){var s=e[o](t,n,r,i);if(s)return s}},e.exports=t.default},6486:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,c=32,l=64,f=128,h=256,d=1/0,p=9007199254740991,v=NaN,g=4294967295,m=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",l],["rearg",h]],y="[object Arguments]",_="[object Array]",b="[object Boolean]",w="[object Date]",k="[object Error]",I="[object Function]",S="[object GeneratorFunction]",T="[object Map]",E="[object Number]",C="[object Object]",x="[object Promise]",A="[object RegExp]",P="[object Set]",O="[object String]",N="[object Symbol]",R="[object WeakMap]",D="[object ArrayBuffer]",M="[object DataView]",L="[object Float32Array]",j="[object Float64Array]",F="[object Int8Array]",U="[object Int16Array]",q="[object Int32Array]",B="[object Uint8Array]",V="[object Uint8ClampedArray]",z="[object Uint16Array]",W="[object Uint32Array]",K=/\b__p \+= '';/g,G=/\b(__p \+=) '' \+/g,H=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Y=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,X=RegExp(Y.source),Q=RegExp($.source),Z=/<%-([\s\S]+?)%>/g,J=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,he=/[()=,{}\[\]\/\s]/,de=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,me=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,_e=/^0o[0-7]+$/i,be=/^(?:0|[1-9]\d*)$/,we=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ke=/($^)/,Ie=/['\n\r\u2028\u2029\\]/g,Se="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Te="\\u2700-\\u27bf",Ee="a-z\\xdf-\\xf6\\xf8-\\xff",Ce="A-Z\\xc0-\\xd6\\xd8-\\xde",xe="\\ufe0e\\ufe0f",Ae="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Pe="['\u2019]",Oe="[\\ud800-\\udfff]",Ne="["+Ae+"]",Re="["+Se+"]",De="\\d+",Me="[\\u2700-\\u27bf]",Le="["+Ee+"]",je="[^\\ud800-\\udfff"+Ae+De+Te+Ee+Ce+"]",Fe="\\ud83c[\\udffb-\\udfff]",Ue="[^\\ud800-\\udfff]",qe="(?:\\ud83c[\\udde6-\\uddff]){2}",Be="[\\ud800-\\udbff][\\udc00-\\udfff]",Ve="["+Ce+"]",ze="(?:"+Le+"|"+je+")",We="(?:"+Ve+"|"+je+")",Ke="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ge="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",He="(?:"+Re+"|"+Fe+")"+"?",Ye="[\\ufe0e\\ufe0f]?",$e=Ye+He+("(?:\\u200d(?:"+[Ue,qe,Be].join("|")+")"+Ye+He+")*"),Xe="(?:"+[Me,qe,Be].join("|")+")"+$e,Qe="(?:"+[Ue+Re+"?",Re,qe,Be,Oe].join("|")+")",Ze=RegExp(Pe,"g"),Je=RegExp(Re,"g"),et=RegExp(Fe+"(?="+Fe+")|"+Qe+$e,"g"),tt=RegExp([Ve+"?"+Le+"+"+Ke+"(?="+[Ne,Ve,"$"].join("|")+")",We+"+"+Ge+"(?="+[Ne,Ve+ze,"$"].join("|")+")",Ve+"?"+ze+"+"+Ke,Ve+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",De,Xe].join("|"),"g"),nt=RegExp("[\\u200d\\ud800-\\udfff"+Se+xe+"]"),rt=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,it=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ot=-1,at={};at[L]=at[j]=at[F]=at[U]=at[q]=at[B]=at[V]=at[z]=at[W]=!0,at[y]=at[_]=at[D]=at[b]=at[M]=at[w]=at[k]=at[I]=at[T]=at[E]=at[C]=at[A]=at[P]=at[O]=at[R]=!1;var st={};st[y]=st[_]=st[D]=st[M]=st[b]=st[w]=st[L]=st[j]=st[F]=st[U]=st[q]=st[T]=st[E]=st[C]=st[A]=st[P]=st[O]=st[N]=st[B]=st[V]=st[z]=st[W]=!0,st[k]=st[I]=st[R]=!1;var ut={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ct=parseFloat,lt=parseInt,ft="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ht="object"==typeof self&&self&&self.Object===Object&&self,dt=ft||ht||Function("return this")(),pt=t&&!t.nodeType&&t,vt=pt&&e&&!e.nodeType&&e,gt=vt&&vt.exports===pt,mt=gt&&ft.process,yt=function(){try{var e=vt&&vt.require&&vt.require("util").types;return e||mt&&mt.binding&&mt.binding("util")}catch(t){}}(),_t=yt&&yt.isArrayBuffer,bt=yt&&yt.isDate,wt=yt&&yt.isMap,kt=yt&&yt.isRegExp,It=yt&&yt.isSet,St=yt&&yt.isTypedArray;function Tt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function Et(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function xt(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function At(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Pt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Ot(e,t){return!!(null==e?0:e.length)&&Bt(e,t,0)>-1}function Nt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function Dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Mt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Lt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function jt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ft=Kt("length");function Ut(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function qt(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function Bt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):qt(e,zt,n)}function Vt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function zt(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Yt(e,t)/n:v}function Kt(e){return function(t){return null==t?i:t[e]}}function Gt(e){return function(t){return null==e?i:e[t]}}function Ht(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Yt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function $t(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,vn(e)+1).replace(ae,""):e}function Qt(e){return function(t){return e(t)}}function Zt(e,t){return Rt(t,(function(t){return e[t]}))}function Jt(e,t){return e.has(t)}function en(e,t){for(var n=-1,r=e.length;++n<r&&Bt(t,e[n],0)>-1;);return n}function tn(e,t){for(var n=e.length;n--&&Bt(t,e[n],0)>-1;);return n}function nn(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var rn=Gt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),on=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function an(e){return"\\"+ut[e]}function sn(e){return nt.test(e)}function un(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function cn(e,t){return function(n){return e(t(n))}}function ln(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function fn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function dn(e){return sn(e)?function(e){var t=et.lastIndex=0;for(;et.test(e);)++t;return t}(e):Ft(e)}function pn(e){return sn(e)?function(e){return e.match(et)||[]}(e):function(e){return e.split("")}(e)}function vn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var gn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var mn=function e(t){var n=(t=null==t?dt:mn.defaults(dt.Object(),t,mn.pick(dt,it))).Array,r=t.Date,se=t.Error,Se=t.Function,Te=t.Math,Ee=t.Object,Ce=t.RegExp,xe=t.String,Ae=t.TypeError,Pe=n.prototype,Oe=Se.prototype,Ne=Ee.prototype,Re=t["__core-js_shared__"],De=Oe.toString,Me=Ne.hasOwnProperty,Le=0,je=function(){var e=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Fe=Ne.toString,Ue=De.call(Ee),qe=dt._,Be=Ce("^"+De.call(Me).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ve=gt?t.Buffer:i,ze=t.Symbol,We=t.Uint8Array,Ke=Ve?Ve.allocUnsafe:i,Ge=cn(Ee.getPrototypeOf,Ee),He=Ee.create,Ye=Ne.propertyIsEnumerable,$e=Pe.splice,Xe=ze?ze.isConcatSpreadable:i,Qe=ze?ze.iterator:i,et=ze?ze.toStringTag:i,nt=function(){try{var e=ho(Ee,"defineProperty");return e({},"",{}),e}catch(t){}}(),ut=t.clearTimeout!==dt.clearTimeout&&t.clearTimeout,ft=r&&r.now!==dt.Date.now&&r.now,ht=t.setTimeout!==dt.setTimeout&&t.setTimeout,pt=Te.ceil,vt=Te.floor,mt=Ee.getOwnPropertySymbols,yt=Ve?Ve.isBuffer:i,Ft=t.isFinite,Gt=Pe.join,yn=cn(Ee.keys,Ee),_n=Te.max,bn=Te.min,wn=r.now,kn=t.parseInt,In=Te.random,Sn=Pe.reverse,Tn=ho(t,"DataView"),En=ho(t,"Map"),Cn=ho(t,"Promise"),xn=ho(t,"Set"),An=ho(t,"WeakMap"),Pn=ho(Ee,"create"),On=An&&new An,Nn={},Rn=qo(Tn),Dn=qo(En),Mn=qo(Cn),Ln=qo(xn),jn=qo(An),Fn=ze?ze.prototype:i,Un=Fn?Fn.valueOf:i,qn=Fn?Fn.toString:i;function Bn(e){if(rs(e)&&!Ga(e)&&!(e instanceof Kn)){if(e instanceof Wn)return e;if(Me.call(e,"__wrapped__"))return Bo(e)}return new Wn(e)}var Vn=function(){function e(){}return function(t){if(!ns(t))return{};if(He)return He(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function zn(){}function Wn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Kn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Hn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Yn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function $n(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Yn;++t<n;)this.add(e[t])}function Xn(e){var t=this.__data__=new Hn(e);this.size=t.size}function Qn(e,t){var n=Ga(e),r=!n&&Ka(e),i=!n&&!r&&Xa(e),o=!n&&!r&&!i&&fs(e),a=n||r||i||o,s=a?$t(e.length,xe):[],u=s.length;for(var c in e)!t&&!Me.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||bo(c,u))||s.push(c);return s}function Zn(e){var t=e.length;return t?e[$r(0,t-1)]:i}function Jn(e,t){return jo(Pi(e),ur(t,0,e.length))}function er(e){return jo(Pi(e))}function tr(e,t,n){(n!==i&&!Va(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Me.call(e,t)&&Va(r,n)&&(n!==i||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Va(e[n][0],t))return n;return-1}function ir(e,t,n,r){return dr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Oi(t,Rs(t),e)}function ar(e,t,n){"__proto__"==t&&nt?nt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:xs(e,t[r]);return a}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,o,a){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!ns(e))return e;var f=Ga(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Pi(e,s)}else{var h=go(e),d=h==I||h==S;if(Xa(e))return Si(e,u);if(h==C||h==y||d&&!o){if(s=c||d?{}:yo(e),!u)return c?function(e,t){return Oi(e,vo(e),t)}(e,function(e,t){return e&&Oi(t,Ds(t),e)}(s,e)):function(e,t){return Oi(e,po(e),t)}(e,or(s,e))}else{if(!st[h])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case D:return Ti(e);case b:case w:return new r(+e);case M:return function(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case j:case F:case U:case q:case B:case V:case z:case W:return Ei(e,n);case T:return new r;case E:case O:return new r(e);case A:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new r;case N:return i=e,Un?Ee(Un.call(i)):{}}var i}(e,h,u)}}a||(a=new Xn);var p=a.get(e);if(p)return p;a.set(e,s),us(e)?e.forEach((function(r){s.add(cr(r,t,n,r,e,a))})):is(e)&&e.forEach((function(r,i){s.set(i,cr(r,t,n,i,e,a))}));var v=f?i:(l?c?oo:io:c?Ds:Rs)(e);return Ct(v||e,(function(r,i){v&&(r=e[i=r]),nr(s,i,cr(r,t,n,i,e,a))})),s}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ee(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Ae(o);return Ro((function(){e.apply(i,n)}),t)}function hr(e,t,n,r){var i=-1,o=Ot,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=Rt(t,Qt(n))),r?(o=Nt,a=!1):t.length>=200&&(o=Jt,a=!1,t=new $n(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f===f){for(var h=c;h--;)if(t[h]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}Bn.templateSettings={escape:Z,evaluate:J,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=zn.prototype,Bn.prototype.constructor=Bn,Wn.prototype=Vn(zn.prototype),Wn.prototype.constructor=Wn,Kn.prototype=Vn(zn.prototype),Kn.prototype.constructor=Kn,Gn.prototype.clear=function(){this.__data__=Pn?Pn(null):{},this.size=0},Gn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Gn.prototype.get=function(e){var t=this.__data__;if(Pn){var n=t[e];return n===a?i:n}return Me.call(t,e)?t[e]:i},Gn.prototype.has=function(e){var t=this.__data__;return Pn?t[e]!==i:Me.call(t,e)},Gn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Pn&&t===i?a:t,this},Hn.prototype.clear=function(){this.__data__=[],this.size=0},Hn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():$e.call(t,n,1),--this.size,!0)},Hn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},Hn.prototype.has=function(e){return rr(this.__data__,e)>-1},Hn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Yn.prototype.clear=function(){this.size=0,this.__data__={hash:new Gn,map:new(En||Hn),string:new Gn}},Yn.prototype.delete=function(e){var t=lo(this,e).delete(e);return this.size-=t?1:0,t},Yn.prototype.get=function(e){return lo(this,e).get(e)},Yn.prototype.has=function(e){return lo(this,e).has(e)},Yn.prototype.set=function(e,t){var n=lo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},$n.prototype.add=$n.prototype.push=function(e){return this.__data__.set(e,a),this},$n.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.clear=function(){this.__data__=new Hn,this.size=0},Xn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Xn.prototype.get=function(e){return this.__data__.get(e)},Xn.prototype.has=function(e){return this.__data__.has(e)},Xn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Hn){var r=n.__data__;if(!En||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Yn(r)}return n.set(e,t),this.size=n.size,this};var dr=Di(wr),pr=Di(kr,!0);function vr(e,t){var n=!0;return dr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s===s&&!ls(s):n(s,u)))var u=s,c=a}return c}function mr(e,t){var n=[];return dr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function yr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=_o),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?yr(s,t-1,n,r,i):Dt(i,s):r||(i[i.length]=s)}return i}var _r=Mi(),br=Mi(!0);function wr(e,t){return e&&_r(e,t,Rs)}function kr(e,t){return e&&br(e,t,Rs)}function Ir(e,t){return Pt(t,(function(t){return Ja(e[t])}))}function Sr(e,t){for(var n=0,r=(t=bi(t,e)).length;null!=e&&n<r;)e=e[Uo(t[n++])];return n&&n==r?e:i}function Tr(e,t,n){var r=t(e);return Ga(e)?r:Dt(r,n(e))}function Er(e){return null==e?e===i?"[object Undefined]":"[object Null]":et&&et in Ee(e)?function(e){var t=Me.call(e,et),n=e[et];try{e[et]=i;var r=!0}catch(a){}var o=Fe.call(e);r&&(t?e[et]=n:delete e[et]);return o}(e):function(e){return Fe.call(e)}(e)}function Cr(e,t){return e>t}function xr(e,t){return null!=e&&Me.call(e,t)}function Ar(e,t){return null!=e&&t in Ee(e)}function Pr(e,t,r){for(var o=r?Nt:Ot,a=e[0].length,s=e.length,u=s,c=n(s),l=1/0,f=[];u--;){var h=e[u];u&&t&&(h=Rt(h,Qt(t))),l=bn(h.length,l),c[u]=!r&&(t||a>=120&&h.length>=120)?new $n(u&&h):i}h=e[0];var d=-1,p=c[0];e:for(;++d<a&&f.length<l;){var v=h[d],g=t?t(v):v;if(v=r||0!==v?v:0,!(p?Jt(p,g):o(f,g,r))){for(u=s;--u;){var m=c[u];if(!(m?Jt(m,g):o(e[u],g,r)))continue e}p&&p.push(g),f.push(v)}}return f}function Or(e,t,n){var r=null==(e=Ao(e,t=bi(t,e)))?e:e[Uo(Zo(t))];return null==r?i:Tt(r,e,n)}function Nr(e){return rs(e)&&Er(e)==y}function Rr(e,t,n,r,o){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!==e&&t!==t:function(e,t,n,r,o,a){var s=Ga(e),u=Ga(t),c=s?_:go(e),l=u?_:go(t),f=(c=c==y?C:c)==C,h=(l=l==y?C:l)==C,d=c==l;if(d&&Xa(e)){if(!Xa(t))return!1;s=!0,f=!1}if(d&&!f)return a||(a=new Xn),s||fs(e)?no(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case D:return!(e.byteLength!=t.byteLength||!o(new We(e),new We(t)));case b:case w:case E:return Va(+e,+t);case k:return e.name==t.name&&e.message==t.message;case A:case O:return e==t+"";case T:var s=un;case P:var u=1&r;if(s||(s=fn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=no(s(e),s(t),r,i,o,a);return a.delete(e),l;case N:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,c,n,r,o,a);if(!(1&n)){var p=f&&Me.call(e,"__wrapped__"),v=h&&Me.call(t,"__wrapped__");if(p||v){var g=p?e.value():e,m=v?t.value():t;return a||(a=new Xn),o(g,m,n,r,a)}}if(!d)return!1;return a||(a=new Xn),function(e,t,n,r,o,a){var s=1&n,u=io(e),c=u.length,l=io(t).length;if(c!=l&&!s)return!1;var f=c;for(;f--;){var h=u[f];if(!(s?h in t:Me.call(t,h)))return!1}var d=a.get(e),p=a.get(t);if(d&&p)return d==t&&p==e;var v=!0;a.set(e,t),a.set(t,e);var g=s;for(;++f<c;){var m=e[h=u[f]],y=t[h];if(r)var _=s?r(y,m,h,t,e,a):r(m,y,h,e,t,a);if(!(_===i?m===y||o(m,y,n,r,a):_)){v=!1;break}g||(g="constructor"==h)}if(v&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(v=!1)}return a.delete(e),a.delete(t),v}(e,t,n,r,o,a)}(e,t,n,r,Rr,o))}function Dr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=Ee(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=n[o])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===i&&!(c in e))return!1}else{var h=new Xn;if(r)var d=r(l,f,c,e,t,h);if(!(d===i?Rr(f,l,3,r,h):d))return!1}}return!0}function Mr(e){return!(!ns(e)||(t=e,je&&je in t))&&(Ja(e)?Be:ye).test(qo(e));var t}function Lr(e){return"function"==typeof e?e:null==e?ou:"object"==typeof e?Ga(e)?Vr(e[0],e[1]):Br(e):pu(e)}function jr(e){if(!To(e))return yn(e);var t=[];for(var n in Ee(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Fr(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var n in Ee(e))t.push(n);return t}(e);var t=To(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function qr(e,t){var r=-1,i=Ya(e)?n(e.length):[];return dr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Br(e){var t=fo(e);return 1==t.length&&t[0][2]?Co(t[0][0],t[0][1]):function(n){return n===e||Dr(n,e,t)}}function Vr(e,t){return ko(e)&&Eo(t)?Co(Uo(e),t):function(n){var r=xs(n,e);return r===i&&r===t?As(n,e):Rr(t,r,3)}}function zr(e,t,n,r,o){e!==t&&_r(t,(function(a,s){if(o||(o=new Xn),ns(a))!function(e,t,n,r,o,a,s){var u=Oo(e,n),c=Oo(t,n),l=s.get(c);if(l)return void tr(e,n,l);var f=a?a(u,c,n+"",e,t,s):i,h=f===i;if(h){var d=Ga(c),p=!d&&Xa(c),v=!d&&!p&&fs(c);f=c,d||p||v?Ga(u)?f=u:$a(u)?f=Pi(u):p?(h=!1,f=Si(c,!0)):v?(h=!1,f=Ei(c,!0)):f=[]:as(c)||Ka(c)?(f=u,Ka(u)?f=_s(u):ns(u)&&!Ja(u)||(f=yo(c))):h=!1}h&&(s.set(c,f),o(f,c,r,a,s),s.delete(c));tr(e,n,f)}(e,t,s,n,zr,r,o);else{var u=r?r(Oo(e,s),a,s+"",e,t,o):i;u===i&&(u=a),tr(e,s,u)}}),Ds)}function Wr(e,t){var n=e.length;if(n)return bo(t+=t<0?n:0,n)?e[t]:i}function Kr(e,t,n){t=t.length?Rt(t,(function(e){return Ga(e)?function(t){return Sr(t,1===e.length?e[0]:e)}:e})):[ou];var r=-1;t=Rt(t,Qt(co()));var i=qr(e,(function(e,n,i){var o=Rt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Ci(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Gr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=Sr(e,a);n(s,a)&&ei(o,bi(a,e),s)}return o}function Hr(e,t,n,r){var i=r?Vt:Bt,o=-1,a=t.length,s=e;for(e===t&&(t=Pi(t)),n&&(s=Rt(e,Qt(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&$e.call(s,u,1),$e.call(e,u,1);return e}function Yr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;bo(i)?$e.call(e,i,1):hi(e,i)}}return e}function $r(e,t){return e+vt(In()*(t-e+1))}function Xr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=vt(t/2))&&(e+=e)}while(t);return n}function Qr(e,t){return Do(xo(e,t,ou),e+"")}function Zr(e){return Zn(Vs(e))}function Jr(e,t){var n=Vs(e);return jo(n,ur(t,0,n.length))}function ei(e,t,n,r){if(!ns(e))return e;for(var o=-1,a=(t=bi(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var c=Uo(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var f=u[c];(l=r?r(f,c,u):i)===i&&(l=ns(f)?f:bo(t[o+1])?[]:{})}nr(u,c,l),u=u[c]}return e}var ti=On?function(e,t){return On.set(e,t),e}:ou,ni=nt?function(e,t){return nt(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:ou;function ri(e){return jo(Vs(e))}function ii(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function oi(e,t){var n;return dr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ls(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return si(e,t,ou,n)}function si(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,u=null===t,c=ls(t),l=t===i;o<a;){var f=vt((o+a)/2),h=n(e[f]),d=h!==i,p=null===h,v=h===h,g=ls(h);if(s)var m=r||v;else m=l?v&&(r||d):u?v&&d&&(r||!p):c?v&&d&&!p&&(r||!g):!p&&!g&&(r?h<=t:h<t);m?o=f+1:a=f}return bn(a,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Va(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ci(e){return"number"==typeof e?e:ls(e)?v:+e}function li(e){if("string"==typeof e)return e;if(Ga(e))return Rt(e,li)+"";if(ls(e))return qn?qn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=Ot,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Nt;else if(o>=200){var c=t?null:Xi(e);if(c)return fn(c);a=!1,i=Jt,u=new $n}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f===f){for(var h=u.length;h--;)if(u[h]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function hi(e,t){return null==(e=Ao(e,t=bi(t,e)))||delete e[Uo(Zo(t))]}function di(e,t,n,r){return ei(e,t,n(Sr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function vi(e,t){var n=e;return n instanceof Kn&&(n=n.value()),Mt(t,(function(e,t){return t.func.apply(t.thisArg,Dt([e],t.args))}),n)}function gi(e,t,r){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=hr(a[o]||s,e[u],t,r));return fi(yr(a,1),t,r)}function mi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function yi(e){return $a(e)?e:[]}function _i(e){return"function"==typeof e?e:ou}function bi(e,t){return Ga(e)?e:ko(e,t)?[e]:Fo(bs(e))}var wi=Qr;function ki(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var Ii=ut||function(e){return dt.clearTimeout(e)};function Si(e,t){if(t)return e.slice();var n=e.length,r=Ke?Ke(n):new e.constructor(n);return e.copy(r),r}function Ti(e){var t=new e.constructor(e.byteLength);return new We(t).set(new We(e)),t}function Ei(e,t){var n=t?Ti(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Ci(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,a=ls(e),s=t!==i,u=null===t,c=t===t,l=ls(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function xi(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=t.length,l=_n(a-s,0),f=n(c+l),h=!i;++u<c;)f[u]=t[u];for(;++o<s;)(h||o<a)&&(f[r[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function Ai(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,f=_n(a-u,0),h=n(f+l),d=!i;++o<f;)h[o]=e[o];for(var p=o;++c<l;)h[p+c]=t[c];for(;++s<u;)(d||o<a)&&(h[p+r[s]]=e[o++]);return h}function Pi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Oi(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):i;c===i&&(c=e[u]),o?ar(n,u,c):nr(n,u,c)}return n}function Ni(e,t){return function(n,r){var i=Ga(n)?Et:ir,o=t?t():{};return i(n,e,co(r,2),o)}}function Ri(e){return Qr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&wo(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=Ee(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Di(e,t){return function(n,r){if(null==n)return n;if(!Ya(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Ee(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Mi(e){return function(t,n,r){for(var i=-1,o=Ee(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function Li(e){return function(t){var n=sn(t=bs(t))?pn(t):i,r=n?n[0]:t.charAt(0),o=n?ki(n,1).join(""):t.slice(1);return r[e]()+o}}function ji(e){return function(t){return Mt(Js(Ks(t).replace(Ze,"")),e,"")}}function Fi(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Vn(e.prototype),r=e.apply(n,t);return ns(r)?r:n}}function Ui(e){return function(t,n,r){var o=Ee(t);if(!Ya(t)){var a=co(n,3);t=Rs(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function qi(e){return ro((function(t){var n=t.length,r=n,a=Wn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Ae(o);if(a&&!u&&"wrapper"==so(s))var u=new Wn([],!0)}for(r=u?r:n;++r<n;){var c=so(s=t[r]),l="wrapper"==c?ao(s):i;u=l&&Io(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[so(l[0])].apply(u,l[3]):1==s.length&&Io(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Ga(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Bi(e,t,r,o,a,s,u,c,l,h){var d=t&f,p=1&t,v=2&t,g=24&t,m=512&t,y=v?i:Fi(e);return function i(){for(var f=arguments.length,_=n(f),b=f;b--;)_[b]=arguments[b];if(g)var w=uo(i),k=nn(_,w);if(o&&(_=xi(_,o,a,g)),s&&(_=Ai(_,s,u,g)),f-=k,g&&f<h){var I=ln(_,w);return Yi(e,t,Bi,i.placeholder,r,_,I,c,l,h-f)}var S=p?r:this,T=v?S[e]:e;return f=_.length,c?_=Po(_,c):m&&f>1&&_.reverse(),d&&l<f&&(_.length=l),this&&this!==dt&&this instanceof i&&(T=y||Fi(T)),T.apply(S,_)}}function Vi(e,t){return function(n,r){return function(e,t,n,r){return wr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function zi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ci(n),r=ci(r)),o=e(n,r)}return o}}function Wi(e){return ro((function(t){return t=Rt(t,Qt(co())),Qr((function(n){var r=this;return e(t,(function(e){return Tt(e,r,n)}))}))}))}function Ki(e,t){var n=(t=t===i?" ":li(t)).length;if(n<2)return n?Xr(t,e):t;var r=Xr(t,pt(e/dn(t)));return sn(t)?ki(pn(r),0,e).join(""):r.slice(0,e)}function Gi(e){return function(t,r,o){return o&&"number"!=typeof o&&wo(t,r,o)&&(r=o=i),t=vs(t),r===i?(r=t,t=0):r=vs(r),function(e,t,r,i){for(var o=-1,a=_n(pt((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:vs(o),e)}}function Hi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ys(t),n=ys(n)),e(t,n)}}function Yi(e,t,n,r,o,a,s,u,f,h){var d=8&t;t|=d?c:l,4&(t&=~(d?l:c))||(t&=-4);var p=[e,t,o,d?a:i,d?s:i,d?i:a,d?i:s,u,f,h],v=n.apply(i,p);return Io(e)&&No(v,p),v.placeholder=r,Mo(v,e,t)}function $i(e){var t=Te[e];return function(e,n){if(e=ys(e),(n=null==n?0:bn(gs(n),292))&&Ft(e)){var r=(bs(e)+"e").split("e");return+((r=(bs(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Xi=xn&&1/fn(new xn([,-0]))[1]==d?function(e){return new xn(e)}:lu;function Qi(e){return function(t){var n=go(t);return n==T?un(t):n==P?hn(t):function(e,t){return Rt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Zi(e,t,r,a,d,p,v,g){var m=2&t;if(!m&&"function"!=typeof e)throw new Ae(o);var y=a?a.length:0;if(y||(t&=-97,a=d=i),v=v===i?v:_n(gs(v),0),g=g===i?g:gs(g),y-=d?d.length:0,t&l){var _=a,b=d;a=d=i}var w=m?i:ao(e),k=[e,t,r,a,d,_,b,p,v,g];if(w&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==f&&8==n||r==f&&n==h&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?xi(c,u,t[4]):u,e[4]=c?ln(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Ai(c,u,t[6]):u,e[6]=c?ln(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&f&&(e[8]=null==e[8]?t[8]:bn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(k,w),e=k[0],t=k[1],r=k[2],a=k[3],d=k[4],!(g=k[9]=k[9]===i?m?0:e.length:_n(k[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)I=8==t||t==u?function(e,t,r){var o=Fi(e);return function a(){for(var s=arguments.length,u=n(s),c=s,l=uo(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:ln(u,l);return(s-=f.length)<r?Yi(e,t,Bi,a.placeholder,i,u,f,i,i,r-s):Tt(this&&this!==dt&&this instanceof a?o:e,this,u)}}(e,t,g):t!=c&&33!=t||d.length?Bi.apply(i,k):function(e,t,r,i){var o=1&t,a=Fi(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=n(l+u),h=this&&this!==dt&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return Tt(h,o?r:this,f)}}(e,t,r,a);else var I=function(e,t,n){var r=1&t,i=Fi(e);return function t(){return(this&&this!==dt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Mo((w?ti:No)(I,k),e,t)}function Ji(e,t,n,r){return e===i||Va(e,Ne[n])&&!Me.call(r,n)?t:e}function eo(e,t,n,r,o,a){return ns(e)&&ns(t)&&(a.set(t,e),zr(e,t,i,eo,a),a.delete(t)),e}function to(e){return as(e)?i:e}function no(e,t,n,r,o,a){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var h=-1,d=!0,p=2&n?new $n:i;for(a.set(e,t),a.set(t,e);++h<u;){var v=e[h],g=t[h];if(r)var m=s?r(g,v,h,t,e,a):r(v,g,h,e,t,a);if(m!==i){if(m)continue;d=!1;break}if(p){if(!jt(t,(function(e,t){if(!Jt(p,t)&&(v===e||o(v,e,n,r,a)))return p.push(t)}))){d=!1;break}}else if(v!==g&&!o(v,g,n,r,a)){d=!1;break}}return a.delete(e),a.delete(t),d}function ro(e){return Do(xo(e,i,Ho),e+"")}function io(e){return Tr(e,Rs,po)}function oo(e){return Tr(e,Ds,vo)}var ao=On?function(e){return On.get(e)}:lu;function so(e){for(var t=e.name+"",n=Nn[t],r=Me.call(Nn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function uo(e){return(Me.call(Bn,"placeholder")?Bn:e).placeholder}function co(){var e=Bn.iteratee||au;return e=e===au?Lr:e,arguments.length?e(arguments[0],arguments[1]):e}function lo(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fo(e){for(var t=Rs(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Eo(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Mr(n)?n:i}var po=mt?function(e){return null==e?[]:(e=Ee(e),Pt(mt(e),(function(t){return Ye.call(e,t)})))}:mu,vo=mt?function(e){for(var t=[];e;)Dt(t,po(e)),e=Ge(e);return t}:mu,go=Er;function mo(e,t,n){for(var r=-1,i=(t=bi(t,e)).length,o=!1;++r<i;){var a=Uo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ts(i)&&bo(a,i)&&(Ga(e)||Ka(e))}function yo(e){return"function"!=typeof e.constructor||To(e)?{}:Vn(Ge(e))}function _o(e){return Ga(e)||Ka(e)||!!(Xe&&e&&e[Xe])}function bo(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&be.test(e))&&e>-1&&e%1==0&&e<t}function wo(e,t,n){if(!ns(n))return!1;var r=typeof t;return!!("number"==r?Ya(n)&&bo(t,n.length):"string"==r&&t in n)&&Va(n[t],e)}function ko(e,t){if(Ga(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ls(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ee(t))}function Io(e){var t=so(e),n=Bn[t];if("function"!=typeof n||!(t in Kn.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(Tn&&go(new Tn(new ArrayBuffer(1)))!=M||En&&go(new En)!=T||Cn&&go(Cn.resolve())!=x||xn&&go(new xn)!=P||An&&go(new An)!=R)&&(go=function(e){var t=Er(e),n=t==C?e.constructor:i,r=n?qo(n):"";if(r)switch(r){case Rn:return M;case Dn:return T;case Mn:return x;case Ln:return P;case jn:return R}return t});var So=Re?Ja:yu;function To(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ne)}function Eo(e){return e===e&&!ns(e)}function Co(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ee(n)))}}function xo(e,t,r){return t=_n(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=_n(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),Tt(e,this,u)}}function Ao(e,t){return t.length<2?e:Sr(e,ii(t,0,-1))}function Po(e,t){for(var n=e.length,r=bn(t.length,n),o=Pi(e);r--;){var a=t[r];e[r]=bo(a,n)?o[a]:i}return e}function Oo(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var No=Lo(ti),Ro=ht||function(e,t){return dt.setTimeout(e,t)},Do=Lo(ni);function Mo(e,t,n){var r=t+"";return Do(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Ct(m,(function(n){var r="_."+n[0];t&n[1]&&!Ot(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function Lo(e){var t=0,n=0;return function(){var r=wn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function jo(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=$r(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var Fo=function(e){var t=La(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(de,"$1"):n||e)})),t}));function Uo(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function qo(e){if(null!=e){try{return De.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Bo(e){if(e instanceof Kn)return e.clone();var t=new Wn(e.__wrapped__,e.__chain__);return t.__actions__=Pi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Vo=Qr((function(e,t){return $a(e)?hr(e,yr(t,1,$a,!0)):[]})),zo=Qr((function(e,t){var n=Zo(t);return $a(n)&&(n=i),$a(e)?hr(e,yr(t,1,$a,!0),co(n,2)):[]})),Wo=Qr((function(e,t){var n=Zo(t);return $a(n)&&(n=i),$a(e)?hr(e,yr(t,1,$a,!0),i,n):[]}));function Ko(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=_n(r+i,0)),qt(e,co(t,3),i)}function Go(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=gs(n),o=n<0?_n(r+o,0):bn(o,r-1)),qt(e,co(t,3),o,!0)}function Ho(e){return(null==e?0:e.length)?yr(e,1):[]}function Yo(e){return e&&e.length?e[0]:i}var $o=Qr((function(e){var t=Rt(e,yi);return t.length&&t[0]===e[0]?Pr(t):[]})),Xo=Qr((function(e){var t=Zo(e),n=Rt(e,yi);return t===Zo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Pr(n,co(t,2)):[]})),Qo=Qr((function(e){var t=Zo(e),n=Rt(e,yi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Pr(n,i,t):[]}));function Zo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Jo=Qr(ea);function ea(e,t){return e&&e.length&&t&&t.length?Hr(e,t):e}var ta=ro((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Yr(e,Rt(t,(function(e){return bo(e,n)?+e:e})).sort(Ci)),r}));function na(e){return null==e?e:Sn.call(e)}var ra=Qr((function(e){return fi(yr(e,1,$a,!0))})),ia=Qr((function(e){var t=Zo(e);return $a(t)&&(t=i),fi(yr(e,1,$a,!0),co(t,2))})),oa=Qr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,fi(yr(e,1,$a,!0),i,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=Pt(e,(function(e){if($a(e))return t=_n(e.length,t),!0})),$t(t,(function(t){return Rt(e,Kt(t))}))}function sa(e,t){if(!e||!e.length)return[];var n=aa(e);return null==t?n:Rt(n,(function(e){return Tt(t,i,e)}))}var ua=Qr((function(e,t){return $a(e)?hr(e,t):[]})),ca=Qr((function(e){return gi(Pt(e,$a))})),la=Qr((function(e){var t=Zo(e);return $a(t)&&(t=i),gi(Pt(e,$a),co(t,2))})),fa=Qr((function(e){var t=Zo(e);return t="function"==typeof t?t:i,gi(Pt(e,$a),i,t)})),ha=Qr(aa);var da=Qr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,sa(e,n)}));function pa(e){var t=Bn(e);return t.__chain__=!0,t}function va(e,t){return t(e)}var ga=ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Kn&&bo(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:va,args:[o],thisArg:i}),new Wn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ma=Ni((function(e,t,n){Me.call(e,n)?++e[n]:ar(e,n,1)}));var ya=Ui(Ko),_a=Ui(Go);function ba(e,t){return(Ga(e)?Ct:dr)(e,co(t,3))}function wa(e,t){return(Ga(e)?xt:pr)(e,co(t,3))}var ka=Ni((function(e,t,n){Me.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Ia=Qr((function(e,t,r){var i=-1,o="function"==typeof t,a=Ya(e)?n(e.length):[];return dr(e,(function(e){a[++i]=o?Tt(t,e,r):Or(e,t,r)})),a})),Sa=Ni((function(e,t,n){ar(e,n,t)}));function Ta(e,t){return(Ga(e)?Rt:qr)(e,co(t,3))}var Ea=Ni((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Ca=Qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&wo(e,t[0],t[1])?t=[]:n>2&&wo(t[0],t[1],t[2])&&(t=[t[0]]),Kr(e,yr(t,1),[])})),xa=ft||function(){return dt.Date.now()};function Aa(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Zi(e,f,i,i,i,i,t)}function Pa(e,t){var n;if("function"!=typeof t)throw new Ae(o);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Oa=Qr((function(e,t,n){var r=1;if(n.length){var i=ln(n,uo(Oa));r|=c}return Zi(e,r,t,n,i)})),Na=Qr((function(e,t,n){var r=3;if(n.length){var i=ln(n,uo(Na));r|=c}return Zi(t,r,e,n,i)}));function Ra(e,t,n){var r,a,s,u,c,l,f=0,h=!1,d=!1,p=!0;if("function"!=typeof e)throw new Ae(o);function v(t){var n=r,o=a;return r=a=i,f=t,u=e.apply(o,n)}function g(e){return f=e,c=Ro(y,t),h?v(e):u}function m(e){var n=e-l;return l===i||n>=t||n<0||d&&e-f>=s}function y(){var e=xa();if(m(e))return _(e);c=Ro(y,function(e){var n=t-(e-l);return d?bn(n,s-(e-f)):n}(e))}function _(e){return c=i,p&&r?v(e):(r=a=i,u)}function b(){var e=xa(),n=m(e);if(r=arguments,a=this,l=e,n){if(c===i)return g(l);if(d)return Ii(c),c=Ro(y,t),v(l)}return c===i&&(c=Ro(y,t)),u}return t=ys(t)||0,ns(n)&&(h=!!n.leading,s=(d="maxWait"in n)?_n(ys(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),b.cancel=function(){c!==i&&Ii(c),f=0,r=l=a=c=i},b.flush=function(){return c===i?u:_(xa())},b}var Da=Qr((function(e,t){return fr(e,1,t)})),Ma=Qr((function(e,t,n){return fr(e,ys(t)||0,n)}));function La(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Ae(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(La.Cache||Yn),n}function ja(e){if("function"!=typeof e)throw new Ae(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}La.Cache=Yn;var Fa=wi((function(e,t){var n=(t=1==t.length&&Ga(t[0])?Rt(t[0],Qt(co())):Rt(yr(t,1),Qt(co()))).length;return Qr((function(r){for(var i=-1,o=bn(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Tt(e,this,r)}))})),Ua=Qr((function(e,t){var n=ln(t,uo(Ua));return Zi(e,c,i,t,n)})),qa=Qr((function(e,t){var n=ln(t,uo(qa));return Zi(e,l,i,t,n)})),Ba=ro((function(e,t){return Zi(e,h,i,i,i,t)}));function Va(e,t){return e===t||e!==e&&t!==t}var za=Hi(Cr),Wa=Hi((function(e,t){return e>=t})),Ka=Nr(function(){return arguments}())?Nr:function(e){return rs(e)&&Me.call(e,"callee")&&!Ye.call(e,"callee")},Ga=n.isArray,Ha=_t?Qt(_t):function(e){return rs(e)&&Er(e)==D};function Ya(e){return null!=e&&ts(e.length)&&!Ja(e)}function $a(e){return rs(e)&&Ya(e)}var Xa=yt||yu,Qa=bt?Qt(bt):function(e){return rs(e)&&Er(e)==w};function Za(e){if(!rs(e))return!1;var t=Er(e);return t==k||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function Ja(e){if(!ns(e))return!1;var t=Er(e);return t==I||t==S||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==gs(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ns(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var is=wt?Qt(wt):function(e){return rs(e)&&go(e)==T};function os(e){return"number"==typeof e||rs(e)&&Er(e)==E}function as(e){if(!rs(e)||Er(e)!=C)return!1;var t=Ge(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&De.call(n)==Ue}var ss=kt?Qt(kt):function(e){return rs(e)&&Er(e)==A};var us=It?Qt(It):function(e){return rs(e)&&go(e)==P};function cs(e){return"string"==typeof e||!Ga(e)&&rs(e)&&Er(e)==O}function ls(e){return"symbol"==typeof e||rs(e)&&Er(e)==N}var fs=St?Qt(St):function(e){return rs(e)&&ts(e.length)&&!!at[Er(e)]};var hs=Hi(Ur),ds=Hi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Ya(e))return cs(e)?pn(e):Pi(e);if(Qe&&e[Qe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Qe]());var t=go(e);return(t==T?un:t==P?fn:Vs)(e)}function vs(e){return e?(e=ys(e))===d||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function gs(e){var t=vs(e),n=t%1;return t===t?n?t-n:t:0}function ms(e){return e?ur(gs(e),0,g):0}function ys(e){if("number"==typeof e)return e;if(ls(e))return v;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=me.test(e);return n||_e.test(e)?lt(e.slice(2),n?2:8):ge.test(e)?v:+e}function _s(e){return Oi(e,Ds(e))}function bs(e){return null==e?"":li(e)}var ws=Ri((function(e,t){if(To(t)||Ya(t))Oi(t,Rs(t),e);else for(var n in t)Me.call(t,n)&&nr(e,n,t[n])})),ks=Ri((function(e,t){Oi(t,Ds(t),e)})),Is=Ri((function(e,t,n,r){Oi(t,Ds(t),e,r)})),Ss=Ri((function(e,t,n,r){Oi(t,Rs(t),e,r)})),Ts=ro(sr);var Es=Qr((function(e,t){e=Ee(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&wo(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Ds(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===i||Va(f,Ne[l])&&!Me.call(e,l))&&(e[l]=a[l])}return e})),Cs=Qr((function(e){return e.push(i,eo),Tt(Ls,i,e)}));function xs(e,t,n){var r=null==e?i:Sr(e,t);return r===i?n:r}function As(e,t){return null!=e&&mo(e,t,Ar)}var Ps=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),e[t]=n}),nu(ou)),Os=Vi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Fe.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),co),Ns=Qr(Or);function Rs(e){return Ya(e)?Qn(e):jr(e)}function Ds(e){return Ya(e)?Qn(e,!0):Fr(e)}var Ms=Ri((function(e,t,n){zr(e,t,n)})),Ls=Ri((function(e,t,n,r){zr(e,t,n,r)})),js=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Rt(t,(function(t){return t=bi(t,e),r||(r=t.length>1),t})),Oi(e,oo(e),n),r&&(n=cr(n,7,to));for(var i=t.length;i--;)hi(n,t[i]);return n}));var Fs=ro((function(e,t){return null==e?{}:function(e,t){return Gr(e,t,(function(t,n){return As(e,n)}))}(e,t)}));function Us(e,t){if(null==e)return{};var n=Rt(oo(e),(function(e){return[e]}));return t=co(t),Gr(e,n,(function(e,n){return t(e,n[0])}))}var qs=Qi(Rs),Bs=Qi(Ds);function Vs(e){return null==e?[]:Zt(e,Rs(e))}var zs=ji((function(e,t,n){return t=t.toLowerCase(),e+(n?Ws(t):t)}));function Ws(e){return Zs(bs(e).toLowerCase())}function Ks(e){return(e=bs(e))&&e.replace(we,rn).replace(Je,"")}var Gs=ji((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Hs=ji((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Ys=Li("toLowerCase");var $s=ji((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Xs=ji((function(e,t,n){return e+(n?" ":"")+Zs(t)}));var Qs=ji((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Zs=Li("toUpperCase");function Js(e,t,n){return e=bs(e),(t=n?i:t)===i?function(e){return rt.test(e)}(e)?function(e){return e.match(tt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var eu=Qr((function(e,t){try{return Tt(e,i,t)}catch(n){return Za(n)?n:new se(n)}})),tu=ro((function(e,t){return Ct(t,(function(t){t=Uo(t),ar(e,t,Oa(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=qi(),iu=qi(!0);function ou(e){return e}function au(e){return Lr("function"==typeof e?e:cr(e,1))}var su=Qr((function(e,t){return function(n){return Or(n,e,t)}})),uu=Qr((function(e,t){return function(n){return Or(e,n,t)}}));function cu(e,t,n){var r=Rs(t),i=Ir(t,r);null!=n||ns(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Ir(t,Rs(t)));var o=!(ns(n)&&"chain"in n)||!!n.chain,a=Ja(e);return Ct(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Pi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,Dt([this.value()],arguments))})})),e}function lu(){}var fu=Wi(Rt),hu=Wi(At),du=Wi(jt);function pu(e){return ko(e)?Kt(Uo(e)):function(e){return function(t){return Sr(t,e)}}(e)}var vu=Gi(),gu=Gi(!0);function mu(){return[]}function yu(){return!1}var _u=zi((function(e,t){return e+t}),0),bu=$i("ceil"),wu=zi((function(e,t){return e/t}),1),ku=$i("floor");var Iu=zi((function(e,t){return e*t}),1),Su=$i("round"),Tu=zi((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Ae(o);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Aa,Bn.assign=ws,Bn.assignIn=ks,Bn.assignInWith=Is,Bn.assignWith=Ss,Bn.at=Ts,Bn.before=Pa,Bn.bind=Oa,Bn.bindAll=tu,Bn.bindKey=Na,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ga(e)?e:[e]},Bn.chain=pa,Bn.chunk=function(e,t,r){t=(r?wo(e,t,r):t===i)?1:_n(gs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=n(pt(o/t));a<o;)u[s++]=ii(e,a,a+=t);return u},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Dt(Ga(r)?Pi(r):[r],yr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=co();return e=t?Rt(e,(function(e){if("function"!=typeof e[1])throw new Ae(o);return[n(e[0]),e[1]]})):[],Qr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Tt(i[0],this,n))return Tt(i[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Rs(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Bn.constant=nu,Bn.countBy=ma,Bn.create=function(e,t){var n=Vn(e);return null==t?n:or(n,t)},Bn.curry=function e(t,n,r){var o=Zi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Bn.curryRight=function e(t,n,r){var o=Zi(t,u,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Bn.debounce=Ra,Bn.defaults=Es,Bn.defaultsDeep=Cs,Bn.defer=Da,Bn.delay=Ma,Bn.difference=Vo,Bn.differenceBy=zo,Bn.differenceWith=Wo,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:gs(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:gs(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!0):[]},Bn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&wo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=gs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:gs(r))<0&&(r+=o),r=n>r?0:ms(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Ga(e)?Pt:mr)(e,co(t,3))},Bn.flatMap=function(e,t){return yr(Ta(e,t),1)},Bn.flatMapDeep=function(e,t){return yr(Ta(e,t),d)},Bn.flatMapDepth=function(e,t,n){return n=n===i?1:gs(n),yr(Ta(e,t),n)},Bn.flatten=Ho,Bn.flattenDeep=function(e){return(null==e?0:e.length)?yr(e,d):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?yr(e,t=t===i?1:gs(t)):[]},Bn.flip=function(e){return Zi(e,512)},Bn.flow=ru,Bn.flowRight=iu,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:Ir(e,Rs(e))},Bn.functionsIn=function(e){return null==e?[]:Ir(e,Ds(e))},Bn.groupBy=ka,Bn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Bn.intersection=$o,Bn.intersectionBy=Xo,Bn.intersectionWith=Qo,Bn.invert=Ps,Bn.invertBy=Os,Bn.invokeMap=Ia,Bn.iteratee=au,Bn.keyBy=Sa,Bn.keys=Rs,Bn.keysIn=Ds,Bn.map=Ta,Bn.mapKeys=function(e,t){var n={};return t=co(t,3),wr(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=co(t,3),wr(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Br(cr(e,1))},Bn.matchesProperty=function(e,t){return Vr(e,cr(t,1))},Bn.memoize=La,Bn.merge=Ms,Bn.mergeWith=Ls,Bn.method=su,Bn.methodOf=uu,Bn.mixin=cu,Bn.negate=ja,Bn.nthArg=function(e){return e=gs(e),Qr((function(t){return Wr(t,e)}))},Bn.omit=js,Bn.omitBy=function(e,t){return Us(e,ja(co(t)))},Bn.once=function(e){return Pa(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Ga(t)||(t=null==t?[]:[t]),Ga(n=r?i:n)||(n=null==n?[]:[n]),Kr(e,t,n))},Bn.over=fu,Bn.overArgs=Fa,Bn.overEvery=hu,Bn.overSome=du,Bn.partial=Ua,Bn.partialRight=qa,Bn.partition=Ea,Bn.pick=Fs,Bn.pickBy=Us,Bn.property=pu,Bn.propertyOf=function(e){return function(t){return null==e?i:Sr(e,t)}},Bn.pull=Jo,Bn.pullAll=ea,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,co(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Hr(e,t,i,n):e},Bn.pullAt=ta,Bn.range=vu,Bn.rangeRight=gu,Bn.rearg=Ba,Bn.reject=function(e,t){return(Ga(e)?Pt:mr)(e,ja(co(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=co(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Yr(e,i),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Ae(o);return Qr(e,t=t===i?t:gs(t))},Bn.reverse=na,Bn.sampleSize=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:gs(t),(Ga(e)?Jn:Jr)(e,t)},Bn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Bn.shuffle=function(e){return(Ga(e)?er:ri)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&wo(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===i?r:gs(n)),ii(e,t,n)):[]},Bn.sortBy=Ca,Bn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,co(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&wo(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=bs(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=li(t))&&sn(e)?ki(pn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Ae(o);return t=null==t?0:_n(gs(t),0),Qr((function(n){var r=n[t],i=ki(n,0,t);return r&&Dt(i,r),Tt(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:gs(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:gs(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?pi(e,co(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Ae(o);return ns(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ra(e,t,{leading:r,maxWait:t,trailing:i})},Bn.thru=va,Bn.toArray=ps,Bn.toPairs=qs,Bn.toPairsIn=Bs,Bn.toPath=function(e){return Ga(e)?Rt(e,Uo):ls(e)?[e]:Pi(Fo(bs(e)))},Bn.toPlainObject=_s,Bn.transform=function(e,t,n){var r=Ga(e),i=r||Xa(e)||fs(e);if(t=co(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ns(e)&&Ja(o)?Vn(Ge(e)):{}}return(i?Ct:wr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return Aa(e,1)},Bn.union=ra,Bn.unionBy=ia,Bn.unionWith=oa,Bn.uniq=function(e){return e&&e.length?fi(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?fi(e,co(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},Bn.unset=function(e,t){return null==e||hi(e,t)},Bn.unzip=aa,Bn.unzipWith=sa,Bn.update=function(e,t,n){return null==e?e:di(e,t,_i(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:di(e,t,_i(n),r)},Bn.values=Vs,Bn.valuesIn=function(e){return null==e?[]:Zt(e,Ds(e))},Bn.without=ua,Bn.words=Js,Bn.wrap=function(e,t){return Ua(_i(t),e)},Bn.xor=ca,Bn.xorBy=la,Bn.xorWith=fa,Bn.zip=ha,Bn.zipObject=function(e,t){return mi(e||[],t||[],nr)},Bn.zipObjectDeep=function(e,t){return mi(e||[],t||[],ei)},Bn.zipWith=da,Bn.entries=qs,Bn.entriesIn=Bs,Bn.extend=ks,Bn.extendWith=Is,cu(Bn,Bn),Bn.add=_u,Bn.attempt=eu,Bn.camelCase=zs,Bn.capitalize=Ws,Bn.ceil=bu,Bn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ys(n))===n?n:0),t!==i&&(t=(t=ys(t))===t?t:0),ur(ys(e),t,n)},Bn.clone=function(e){return cr(e,4)},Bn.cloneDeep=function(e){return cr(e,5)},Bn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},Bn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},Bn.conformsTo=function(e,t){return null==t||lr(e,t,Rs(t))},Bn.deburr=Ks,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=wu,Bn.endsWith=function(e,t,n){e=bs(e),t=li(t);var r=e.length,o=n=n===i?r:ur(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Bn.eq=Va,Bn.escape=function(e){return(e=bs(e))&&Q.test(e)?e.replace($,on):e},Bn.escapeRegExp=function(e){return(e=bs(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Bn.every=function(e,t,n){var r=Ga(e)?At:vr;return n&&wo(e,t,n)&&(t=i),r(e,co(t,3))},Bn.find=ya,Bn.findIndex=Ko,Bn.findKey=function(e,t){return Ut(e,co(t,3),wr)},Bn.findLast=_a,Bn.findLastIndex=Go,Bn.findLastKey=function(e,t){return Ut(e,co(t,3),kr)},Bn.floor=ku,Bn.forEach=ba,Bn.forEachRight=wa,Bn.forIn=function(e,t){return null==e?e:_r(e,co(t,3),Ds)},Bn.forInRight=function(e,t){return null==e?e:br(e,co(t,3),Ds)},Bn.forOwn=function(e,t){return e&&wr(e,co(t,3))},Bn.forOwnRight=function(e,t){return e&&kr(e,co(t,3))},Bn.get=xs,Bn.gt=za,Bn.gte=Wa,Bn.has=function(e,t){return null!=e&&mo(e,t,xr)},Bn.hasIn=As,Bn.head=Yo,Bn.identity=ou,Bn.includes=function(e,t,n,r){e=Ya(e)?e:Vs(e),n=n&&!r?gs(n):0;var i=e.length;return n<0&&(n=_n(i+n,0)),cs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Bt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=_n(r+i,0)),Bt(e,t,i)},Bn.inRange=function(e,t,n){return t=vs(t),n===i?(n=t,t=0):n=vs(n),function(e,t,n){return e>=bn(t,n)&&e<_n(t,n)}(e=ys(e),t,n)},Bn.invoke=Ns,Bn.isArguments=Ka,Bn.isArray=Ga,Bn.isArrayBuffer=Ha,Bn.isArrayLike=Ya,Bn.isArrayLikeObject=$a,Bn.isBoolean=function(e){return!0===e||!1===e||rs(e)&&Er(e)==b},Bn.isBuffer=Xa,Bn.isDate=Qa,Bn.isElement=function(e){return rs(e)&&1===e.nodeType&&!as(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Ya(e)&&(Ga(e)||"string"==typeof e||"function"==typeof e.splice||Xa(e)||fs(e)||Ka(e)))return!e.length;var t=go(e);if(t==T||t==P)return!e.size;if(To(e))return!jr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Rr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Rr(e,t,i,n):!!r},Bn.isError=Za,Bn.isFinite=function(e){return"number"==typeof e&&Ft(e)},Bn.isFunction=Ja,Bn.isInteger=es,Bn.isLength=ts,Bn.isMap=is,Bn.isMatch=function(e,t){return e===t||Dr(e,t,fo(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Dr(e,t,fo(t),n)},Bn.isNaN=function(e){return os(e)&&e!=+e},Bn.isNative=function(e){if(So(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=os,Bn.isObject=ns,Bn.isObjectLike=rs,Bn.isPlainObject=as,Bn.isRegExp=ss,Bn.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=us,Bn.isString=cs,Bn.isSymbol=ls,Bn.isTypedArray=fs,Bn.isUndefined=function(e){return e===i},Bn.isWeakMap=function(e){return rs(e)&&go(e)==R},Bn.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==Er(e)},Bn.join=function(e,t){return null==e?"":Gt.call(e,t)},Bn.kebabCase=Gs,Bn.last=Zo,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=gs(n))<0?_n(r+o,0):bn(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):qt(e,zt,o,!0)},Bn.lowerCase=Hs,Bn.lowerFirst=Ys,Bn.lt=hs,Bn.lte=ds,Bn.max=function(e){return e&&e.length?gr(e,ou,Cr):i},Bn.maxBy=function(e,t){return e&&e.length?gr(e,co(t,2),Cr):i},Bn.mean=function(e){return Wt(e,ou)},Bn.meanBy=function(e,t){return Wt(e,co(t,2))},Bn.min=function(e){return e&&e.length?gr(e,ou,Ur):i},Bn.minBy=function(e,t){return e&&e.length?gr(e,co(t,2),Ur):i},Bn.stubArray=mu,Bn.stubFalse=yu,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=Iu,Bn.nth=function(e,t){return e&&e.length?Wr(e,gs(t)):i},Bn.noConflict=function(){return dt._===this&&(dt._=qe),this},Bn.noop=lu,Bn.now=xa,Bn.pad=function(e,t,n){e=bs(e);var r=(t=gs(t))?dn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ki(vt(i),n)+e+Ki(pt(i),n)},Bn.padEnd=function(e,t,n){e=bs(e);var r=(t=gs(t))?dn(e):0;return t&&r<t?e+Ki(t-r,n):e},Bn.padStart=function(e,t,n){e=bs(e);var r=(t=gs(t))?dn(e):0;return t&&r<t?Ki(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),kn(bs(e).replace(ae,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&wo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vs(e),t===i?(t=e,e=0):t=vs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=In();return bn(e+o*(t-e+ct("1e-"+((o+"").length-1))),t)}return $r(e,t)},Bn.reduce=function(e,t,n){var r=Ga(e)?Mt:Ht,i=arguments.length<3;return r(e,co(t,4),n,i,dr)},Bn.reduceRight=function(e,t,n){var r=Ga(e)?Lt:Ht,i=arguments.length<3;return r(e,co(t,4),n,i,pr)},Bn.repeat=function(e,t,n){return t=(n?wo(e,t,n):t===i)?1:gs(t),Xr(bs(e),t)},Bn.replace=function(){var e=arguments,t=bs(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,o=(t=bi(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Uo(t[r])];a===i&&(r=o,a=n),e=Ja(a)?a.call(e):a}return e},Bn.round=Su,Bn.runInContext=e,Bn.sample=function(e){return(Ga(e)?Zn:Zr)(e)},Bn.size=function(e){if(null==e)return 0;if(Ya(e))return cs(e)?dn(e):e.length;var t=go(e);return t==T||t==P?e.size:jr(e).length},Bn.snakeCase=$s,Bn.some=function(e,t,n){var r=Ga(e)?jt:oi;return n&&wo(e,t,n)&&(t=i),r(e,co(t,3))},Bn.sortedIndex=function(e,t){return ai(e,t)},Bn.sortedIndexBy=function(e,t,n){return si(e,t,co(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Va(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return si(e,t,co(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Va(e[n],t))return n}return-1},Bn.startCase=Xs,Bn.startsWith=function(e,t,n){return e=bs(e),n=null==n?0:ur(gs(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},Bn.subtract=Tu,Bn.sum=function(e){return e&&e.length?Yt(e,ou):0},Bn.sumBy=function(e,t){return e&&e.length?Yt(e,co(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&wo(e,t,n)&&(t=i),e=bs(e),t=Is({},t,r,Ji);var o,a,s=Is({},t.imports,r.imports,Ji),u=Rs(s),c=Zt(s,u),l=0,f=t.interpolate||ke,h="__p += '",d=Ce((t.escape||ke).source+"|"+f.source+"|"+(f===ee?pe:ke).source+"|"+(t.evaluate||ke).source+"|$","g"),p="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ot+"]")+"\n";e.replace(d,(function(t,n,r,i,s,u){return r||(r=i),h+=e.slice(l,u).replace(Ie,an),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),h+="';\n";var v=Me.call(t,"variable")&&t.variable;if(v){if(he.test(v))throw new se("Invalid `variable` option passed into `_.template`")}else h="with (obj) {\n"+h+"\n}\n";h=(a?h.replace(K,""):h).replace(G,"$1").replace(H,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=eu((function(){return Se(u,p+"return "+h).apply(i,c)}));if(g.source=h,Za(g))throw g;return g},Bn.times=function(e,t){if((e=gs(e))<1||e>p)return[];var n=g,r=bn(e,g);t=co(t),e-=g;for(var i=$t(r,t);++n<e;)t(n);return i},Bn.toFinite=vs,Bn.toInteger=gs,Bn.toLength=ms,Bn.toLower=function(e){return bs(e).toLowerCase()},Bn.toNumber=ys,Bn.toSafeInteger=function(e){return e?ur(gs(e),-9007199254740991,p):0===e?e:0},Bn.toString=bs,Bn.toUpper=function(e){return bs(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=bs(e))&&(n||t===i))return Xt(e);if(!e||!(t=li(t)))return e;var r=pn(e),o=pn(t);return ki(r,en(r,o),tn(r,o)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=bs(e))&&(n||t===i))return e.slice(0,vn(e)+1);if(!e||!(t=li(t)))return e;var r=pn(e);return ki(r,0,tn(r,pn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=bs(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=li(t)))return e;var r=pn(e);return ki(r,en(r,pn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(ns(t)){var o="separator"in t?t.separator:o;n="length"in t?gs(t.length):n,r="omission"in t?li(t.omission):r}var a=(e=bs(e)).length;if(sn(e)){var s=pn(e);a=s.length}if(n>=a)return e;var u=n-dn(r);if(u<1)return r;var c=s?ki(s,0,u).join(""):e.slice(0,u);if(o===i)return c+r;if(s&&(u+=c.length-u),ss(o)){if(e.slice(u).search(o)){var l,f=c;for(o.global||(o=Ce(o.source,bs(ve.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var h=l.index;c=c.slice(0,h===i?u:h)}}else if(e.indexOf(li(o),u)!=u){var d=c.lastIndexOf(o);d>-1&&(c=c.slice(0,d))}return c+r},Bn.unescape=function(e){return(e=bs(e))&&X.test(e)?e.replace(Y,gn):e},Bn.uniqueId=function(e){var t=++Le;return bs(e)+t},Bn.upperCase=Qs,Bn.upperFirst=Zs,Bn.each=ba,Bn.eachRight=wa,Bn.first=Yo,cu(Bn,function(){var e={};return wr(Bn,(function(t,n){Me.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",Ct(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),Ct(["drop","take"],(function(e,t){Kn.prototype[e]=function(n){n=n===i?1:_n(gs(n),0);var r=this.__filtered__&&!t?new Kn(this):this.clone();return r.__filtered__?r.__takeCount__=bn(n,r.__takeCount__):r.__views__.push({size:bn(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Kn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Ct(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Kn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:co(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Ct(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Kn.prototype[e]=function(){return this[n](1).value()[0]}})),Ct(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Kn.prototype[e]=function(){return this.__filtered__?new Kn(this):this[n](1)}})),Kn.prototype.compact=function(){return this.filter(ou)},Kn.prototype.find=function(e){return this.filter(e).head()},Kn.prototype.findLast=function(e){return this.reverse().find(e)},Kn.prototype.invokeMap=Qr((function(e,t){return"function"==typeof e?new Kn(this):this.map((function(n){return Or(n,e,t)}))})),Kn.prototype.reject=function(e){return this.filter(ja(co(e)))},Kn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Kn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Kn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Kn.prototype.toArray=function(){return this.take(g)},wr(Kn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Bn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Bn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Kn,c=s[0],l=u||Ga(t),f=function(e){var t=o.apply(Bn,Dt([e],s));return r&&h?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var h=this.__chain__,d=!!this.__actions__.length,p=a&&!h,v=u&&!d;if(!a&&l){t=v?t:new Kn(this);var g=e.apply(t,s);return g.__actions__.push({func:va,args:[f],thisArg:i}),new Wn(g,h)}return p&&v?e.apply(this,s):(g=this.thru(f),p?r?g.value()[0]:g.value():g)})})),Ct(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Pe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ga(i)?i:[],e)}return this[n]((function(n){return t.apply(Ga(n)?n:[],e)}))}})),wr(Kn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Me.call(Nn,r)||(Nn[r]=[]),Nn[r].push({name:t,func:n})}})),Nn[Bi(i,2).name]=[{name:"wrapper",func:i}],Kn.prototype.clone=function(){var e=new Kn(this.__wrapped__);return e.__actions__=Pi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pi(this.__views__),e},Kn.prototype.reverse=function(){if(this.__filtered__){var e=new Kn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Kn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ga(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=bn(t,e+a);break;case"takeRight":e=_n(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,h=0,d=bn(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return vi(e,this.__actions__);var p=[];e:for(;u--&&h<d;){for(var v=-1,g=e[c+=t];++v<f;){var m=l[v],y=m.iteratee,_=m.type,b=y(g);if(2==_)g=b;else if(!b){if(1==_)continue e;break e}}p[h++]=g}return p},Bn.prototype.at=ga,Bn.prototype.chain=function(){return pa(this)},Bn.prototype.commit=function(){return new Wn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Bo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Kn){var t=e;return this.__actions__.length&&(t=new Kn(this)),(t=t.reverse()).__actions__.push({func:va,args:[na],thisArg:i}),new Wn(t,this.__chain__)}return this.thru(na)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Qe&&(Bn.prototype[Qe]=function(){return this}),Bn}();dt._=mn,(r=function(){return mn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},1742:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.replace(/\n/g,"").replace(/\s\s+/g," ")}},3454:function(e,t,n){"use strict";var r,i;e.exports=(null===(r=n.g.process)||void 0===r?void 0:r.env)&&"object"===typeof(null===(i=n.g.process)||void 0===i?void 0:i.env)?n.g.process:n(7663)},1780:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(8484)}])},6228:function(e,t,n){"use strict";n.d(t,{db:function(){return o},I:function(){return a},A:function(){return s}});var r=n(6493),i=r.Z.apps.length?r.Z.app():r.Z.initializeApp({apiKey:"AIzaSyAOgcegYZw7nA0UTAZmxyc9hcxeXUbg8Nk",authDomain:"whatsapp-2-e8435.firebaseapp.com",projectId:"whatsapp-2-e8435",storageBucket:"whatsapp-2-e8435.appspot.com",messagingSenderId:"603330114134",appId:"1:603330114134:web:6b51d6b44abf22641d01f7",measurementId:"G-K17YJLGJXZ"}),o=i.firestore(),a=i.auth(),s=new r.Z.auth.GoogleAuthProvider},9749:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||s(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||s(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}t.default=function(e){var t=e.src,n=e.sizes,r=e.unoptimized,s=void 0!==r&&r,u=e.priority,c=void 0!==u&&u,v=e.loading,g=e.lazyRoot,k=void 0===g?null:g,x=e.lazyBoundary,A=void 0===x?"200px":x,P=e.className,O=e.quality,N=e.width,R=e.height,D=e.style,M=e.objectFit,L=e.objectPosition,j=e.onLoadingComplete,F=e.loader,U=void 0===F?E:F,q=e.placeholder,B=void 0===q?"empty":q,V=e.blurDataURL,z=y(e,["src","sizes","unoptimized","priority","loading","lazyRoot","lazyBoundary","className","quality","width","height","style","objectFit","objectPosition","onLoadingComplete","loader","placeholder","blurDataURL"]),W=l.useContext(p.ImageConfigContext),K=l.useMemo((function(){var e=_||W||h.imageConfigDefault,t=a(e.deviceSizes).concat(a(e.imageSizes)).sort((function(e,t){return e-t})),n=e.deviceSizes.sort((function(e,t){return e-t}));return m({},e,{allSizes:t,deviceSizes:n})}),[W]),G=z,H=n?"responsive":"intrinsic";"layout"in G&&(G.layout&&(H=G.layout),delete G.layout);var Y="";if(function(e){return"object"===typeof e&&(I(e)||function(e){return void 0!==e.src}(e))}(t)){var $=I(t)?t.default:t;if(!$.src)throw new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received ".concat(JSON.stringify($)));if(V=V||$.blurDataURL,Y=$.src,(!H||"fill"!==H)&&(R=R||$.height,N=N||$.width,!$.height||!$.width))throw new Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received ".concat(JSON.stringify($)))}t="string"===typeof t?t:Y;var X=T(N),Q=T(R),Z=T(O),J=!c&&("lazy"===v||"undefined"===typeof v);(t.startsWith("data:")||t.startsWith("blob:"))&&(s=!0,J=!1);b.has(t)&&(J=!1);var ee,te=o(d.useIntersection({rootRef:k,rootMargin:A,disabled:!J}),2),ne=te[0],re=te[1],ie=!J||re,oe={boxSizing:"border-box",display:"block",overflow:"hidden",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},ae={boxSizing:"border-box",display:"block",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},se=!1,ue={position:"absolute",top:0,left:0,bottom:0,right:0,boxSizing:"border-box",padding:0,border:"none",margin:"auto",display:"block",width:0,height:0,minWidth:"100%",maxWidth:"100%",minHeight:"100%",maxHeight:"100%",objectFit:M,objectPosition:L};0;0;var ce=Object.assign({},D,"raw"===H?{aspectRatio:"".concat(X," / ").concat(Q)}:ue),le="blur"===B?{filter:"blur(20px)",backgroundSize:M||"cover",backgroundImage:'url("'.concat(V,'")'),backgroundPosition:L||"0% 0%"}:{};if("fill"===H)oe.display="block",oe.position="absolute",oe.top=0,oe.left=0,oe.bottom=0,oe.right=0;else if("undefined"!==typeof X&&"undefined"!==typeof Q){var fe=Q/X,he=isNaN(fe)?"100%":"".concat(100*fe,"%");"responsive"===H?(oe.display="block",oe.position="relative",se=!0,ae.paddingTop=he):"intrinsic"===H?(oe.display="inline-block",oe.position="relative",oe.maxWidth="100%",se=!0,ae.maxWidth="100%",ee="data:image/svg+xml,%3csvg%20xmlns=%27http://www.w3.org/2000/svg%27%20version=%271.1%27%20width=%27".concat(X,"%27%20height=%27").concat(Q,"%27/%3e")):"fixed"===H&&(oe.display="inline-block",oe.position="relative",oe.width=X,oe.height=Q)}else 0;var de={src:w,srcSet:void 0,sizes:void 0};ie&&(de=S({config:K,src:t,unoptimized:s,layout:H,width:X,quality:Z,sizes:n,loader:U}));var pe=t;0;var ve;0;var ge=(i(ve={},"imagesrcset",de.srcSet),i(ve,"imagesizes",de.sizes),ve),me=l.default.useLayoutEffect,ye=l.useRef(j),_e=l.useRef(null);l.useEffect((function(){ye.current=j}),[j]),me((function(){ne(_e.current)}),[ne]),l.useEffect((function(){!function(e,t,n,r,i){var o=function(){var n=e.current;n&&(n.src!==w&&("decode"in n?n.decode():Promise.resolve()).catch((function(){})).then((function(){if(e.current&&(b.add(t),"blur"===r&&(n.style.filter="",n.style.backgroundSize="",n.style.backgroundImage="",n.style.backgroundPosition=""),i.current)){var o=n.naturalWidth,a=n.naturalHeight;i.current({naturalWidth:o,naturalHeight:a})}})))};e.current&&(e.current.complete?o():e.current.onload=o)}(_e,pe,0,B,ye)}),[pe,H,B,ie]);var be=m({isLazy:J,imgAttributes:de,heightInt:Q,widthInt:X,qualityInt:Z,layout:H,className:P,imgStyle:ce,blurStyle:le,imgRef:_e,loading:v,config:K,unoptimized:s,placeholder:B,loader:U,srcString:pe},G);return l.default.createElement(l.default.Fragment,null,"raw"===H?l.default.createElement(C,Object.assign({},be)):l.default.createElement("span",{style:oe},se?l.default.createElement("span",{style:ae},ee?l.default.createElement("img",{style:{display:"block",maxWidth:"100%",width:"initial",height:"initial",background:"none",opacity:1,border:0,margin:0,padding:0},alt:"","aria-hidden":!0,src:ee}):null):null,l.default.createElement(C,Object.assign({},be))),c?l.default.createElement(f.default,null,l.default.createElement("link",Object.assign({key:"__nimg-"+de.src+de.srcSet+de.sizes,rel:"preload",as:"image",href:de.srcSet?void 0:de.src},ge))):null)};var u,c,l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n(7294)),f=(u=n(3121))&&u.__esModule?u:{default:u},h=n(139),d=n(9246),p=n(8730),v=(n(670),n(2700));function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(e){for(var t=arguments,n=function(n){var r=null!=t[n]?t[n]:{},i=Object.keys(r);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable})))),i.forEach((function(t){g(e,t,r[t])}))},r=1;r<arguments.length;r++)n(r);return e}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}c={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",experimentalLayoutRaw:!1};var _={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",experimentalLayoutRaw:!1},b=new Set,w=(new Map,"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7");var k=new Map([["default",function(e){var t=e.config,n=e.src,r=e.width,i=e.quality;0;if(n.endsWith(".svg")&&!t.dangerouslyAllowSVG)return n;return"".concat(v.normalizePathTrailingSlash(t.path),"?url=").concat(encodeURIComponent(n),"&w=").concat(r,"&q=").concat(i||75)}],["imgix",function(e){var t=e.config,n=e.src,r=e.width,i=e.quality,o=new URL("".concat(t.path).concat(x(n))),a=o.searchParams;a.set("auto",a.get("auto")||"format"),a.set("fit",a.get("fit")||"max"),a.set("w",a.get("w")||r.toString()),i&&a.set("q",i.toString());return o.href}],["cloudinary",function(e){var t=e.config,n=e.src,r=e.width,i=e.quality,o=["f_auto","c_limit","w_"+r,"q_"+(i||"auto")].join(",")+"/";return"".concat(t.path).concat(o).concat(x(n))}],["akamai",function(e){var t=e.config,n=e.src,r=e.width;return"".concat(t.path).concat(x(n),"?imwidth=").concat(r)}],["custom",function(e){var t=e.src;throw new Error('Image with src "'.concat(t,'" is missing "loader" prop.')+"\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader")}]]);function I(e){return void 0!==e.default}function S(e){var t=e.config,n=e.src,r=e.unoptimized,i=e.layout,o=e.width,s=e.quality,u=e.sizes,c=e.loader;if(r)return{src:n,srcSet:void 0,sizes:void 0};var l=function(e,t,n,r){var i=e.deviceSizes,o=e.allSizes;if(r&&("fill"===n||"responsive"===n||"raw"===n)){for(var s,u=/(^|\s)(1?\d?\d)vw/g,c=[];s=u.exec(r);s)c.push(parseInt(s[2]));if(c.length){var l,f=.01*(l=Math).min.apply(l,a(c));return{widths:o.filter((function(e){return e>=i[0]*f})),kind:"w"}}return{widths:o,kind:"w"}}return"number"!==typeof t||"fill"===n||"responsive"===n?{widths:i,kind:"w"}:{widths:a(new Set([t,2*t].map((function(e){return o.find((function(t){return t>=e}))||o[o.length-1]})))),kind:"x"}}(t,o,i,u),f=l.widths,h=l.kind,d=f.length-1;return{sizes:u||"w"!==h?u:"100vw",srcSet:f.map((function(e,r){return"".concat(c({config:t,src:n,quality:s,width:e})," ").concat("w"===h?e:r+1).concat(h)})).join(", "),src:c({config:t,src:n,quality:s,width:f[d]})}}function T(e){return"number"===typeof e?e:"string"===typeof e?parseInt(e,10):void 0}function E(e){var t,n=(null===(t=e.config)||void 0===t?void 0:t.loader)||"default",r=k.get(n);if(r)return r(e);throw new Error('Unknown "loader" found in "next.config.js". Expected: '.concat(h.VALID_LOADERS.join(", "),". Received: ").concat(n))}var C=function(e){var t=e.imgAttributes,n=e.heightInt,r=e.widthInt,i=e.qualityInt,o=e.layout,a=e.className,s=e.imgStyle,u=e.blurStyle,c=e.isLazy,f=e.imgRef,h=e.placeholder,d=e.loading,p=e.sizes,v=e.srcString,g=e.config,_=e.unoptimized,b=e.loader,w=y(e,["imgAttributes","heightInt","widthInt","qualityInt","layout","className","imgStyle","blurStyle","isLazy","imgRef","placeholder","loading","sizes","srcString","config","unoptimized","loader"]);return l.default.createElement(l.default.Fragment,null,l.default.createElement("img",Object.assign({},w,t,"raw"!==o||p?{}:{height:n,width:r},{decoding:"async","data-nimg":o,className:a,ref:f,style:m({},s,u)})),(c||"blur"===h)&&l.default.createElement("noscript",null,l.default.createElement("img",Object.assign({},w,S({config:g,src:v,unoptimized:_,layout:o,width:r,quality:i,sizes:p,loader:b}),"raw"!==o||p?{}:{height:n,width:r},{decoding:"async","data-nimg":o,style:s,className:a,loading:d||"lazy"}))))};function x(e){return"/"===e[0]?e.slice(1):e}},9246:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(t,"__esModule",{value:!0}),t.useIntersection=function(e){var t=e.rootRef,n=e.rootMargin,r=e.disabled||!s,l=o.useRef(),f=i(o.useState(!1),2),h=f[0],d=f[1],p=i(o.useState(t?t.current:null),2),v=p[0],g=p[1],m=o.useCallback((function(e){l.current&&(l.current(),l.current=void 0),r||h||e&&e.tagName&&(l.current=function(e,t,n){var r=function(e){var t,n={root:e.root||null,margin:e.rootMargin||""},r=c.find((function(e){return e.root===n.root&&e.margin===n.margin}));r?t=u.get(r):(t=u.get(n),c.push(n));if(t)return t;var i=new Map,o=new IntersectionObserver((function(e){e.forEach((function(e){var t=i.get(e.target),n=e.isIntersecting||e.intersectionRatio>0;t&&n&&t(n)}))}),e);return u.set(n,t={id:n,observer:o,elements:i}),t}(n),i=r.id,o=r.observer,a=r.elements;return a.set(e,t),o.observe(e),function(){if(a.delete(e),o.unobserve(e),0===a.size){o.disconnect(),u.delete(i);var t=c.findIndex((function(e){return e.root===i.root&&e.margin===i.margin}));t>-1&&c.splice(t,1)}}}(e,(function(e){return e&&d(e)}),{root:v,rootMargin:n}))}),[r,v,n,h]);return o.useEffect((function(){if(!s&&!h){var e=a.requestIdleCallback((function(){return d(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[h]),o.useEffect((function(){t&&g(t.current)}),[t]),[m,h]};var o=n(7294),a=n(4686),s="undefined"!==typeof IntersectionObserver;var u=new Map,c=[]},3182:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return s}});var r=n(5893),i=n(5675),o=n(8589),a={src:"/_next/static/media/580b57fcd9996e24bc43c543.0f9403b2.png",height:1e3,width:1e3,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAA80lEQVR42k3PvUsCcRzH8e//1cPSUMlFgw5BuBrR0uTSXkNFGFSo0eWZSJQOB0GDEME9NBj2QEOCEQ5d6FJecVf3q3c4HPSaP5/hLTEg3fN7Z977yzmwKP8NPgY540Yn2ZgifZGidKvTf+tX4qem2wfsuTs/m5frSg5FSUGifauAClRGvFcvP747SuuxFdWdOpIVZE3UTFGj/dw2h4PtBSODVkwo58HBdE1OrRM1nZ+k0+3UBBgpXxnIljBbSyj7yYqMZokjtwwRSeGXuetuk+p9hRU7y3wjxfFdFf/TX5WhIAyWUSwBY8FXsBF+hzlgIi78A+wpoN6kLcYlAAAAAElFTkSuQmCC"};var s=function(){return(0,r.jsx)("center",{style:{display:"grid",placeItems:"center",height:"100vh"},children:(0,r.jsxs)("div",{children:[(0,r.jsx)(i.default,{src:a,alt:"whatsapp",style:{marginBottom:10},height:200,width:200}),(0,r.jsx)(o.Cd,{color:"#3CBC28",size:60})]})})}},6967:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return T}});var r=n(5893),i=n(5987),o=n(7462),a=n(7294),s=n(6010),u=n(172),c=n(9693),l=n(9399),f=n(3871),h=a.forwardRef((function(e,t){var n=e.children,r=e.classes,u=e.className,c=e.color,h=void 0===c?"default":c,d=e.component,p=void 0===d?"button":d,v=e.disabled,g=void 0!==v&&v,m=e.disableElevation,y=void 0!==m&&m,_=e.disableFocusRipple,b=void 0!==_&&_,w=e.endIcon,k=e.focusVisibleClassName,I=e.fullWidth,S=void 0!==I&&I,T=e.size,E=void 0===T?"medium":T,C=e.startIcon,x=e.type,A=void 0===x?"button":x,P=e.variant,O=void 0===P?"text":P,N=(0,i.Z)(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),R=C&&a.createElement("span",{className:(0,s.Z)(r.startIcon,r["iconSize".concat((0,f.Z)(E))])},C),D=w&&a.createElement("span",{className:(0,s.Z)(r.endIcon,r["iconSize".concat((0,f.Z)(E))])},w);return a.createElement(l.Z,(0,o.Z)({className:(0,s.Z)(r.root,r[O],u,"inherit"===h?r.colorInherit:"default"!==h&&r["".concat(O).concat((0,f.Z)(h))],"medium"!==E&&[r["".concat(O,"Size").concat((0,f.Z)(E))],r["size".concat((0,f.Z)(E))]],y&&r.disableElevation,g&&r.disabled,S&&r.fullWidth),component:p,disabled:g,focusRipple:!b,focusVisibleClassName:(0,s.Z)(r.focusVisible,k),ref:t,type:A},N),a.createElement("span",{className:r.label},R,n,D))})),d=(0,u.Z)((function(e){return{root:(0,o.Z)({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:(0,c.Fq)(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:(0,c.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:(0,c.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat((0,c.Fq)(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:(0,c.Fq)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat((0,c.Fq)(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:(0,c.Fq)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(h),p=n(9008),v=n(5675),g=n(2125),m=n(6228),y={src:"/_next/static/media/icons8-google.58e3d63e.svg",height:48,width:48};function _(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function b(){var e=_(["\n \n  display: grid;\n  place-items: center;\n  height: 100vh;\n  background-color: whitesmoke;\n  align-content: center;\n  justify-items: stretch;\n  justify-content: center;\n"]);return b=function(){return e},e}function w(){var e=_(["\n  display: flex;\n  flex-direction: column;\n  padding: 10rem;\n  align-items: center;\n  background-color: #fff;\n  border-radius: 0.5rem;\n  box-shadow: 0px 4px 14px -3px rgba(0, 0, 0, 0.7);\n"]);return w=function(){return e},e}function k(){var e=_(["\n  margin-left: 1rem;\n  font-size: 1.2rem;\n  font-family: 'Inter', sans-serif;\n"]);return k=function(){return e},e}function I(){var e=_(["\n  height: 20rem;\n  width: 20rem;\n  margin-bottom: 5rem;\n"]);return I=function(){return e},e}function S(){var e=_(["\n  display: flex;\n  align-items: center;\n  justify-content: space-evenly;\n  margin-top: 2rem;\n  background-color: #fff;\n  padding: 1rem;\n  border-radius: 0.5rem;\n  box-shadow: 0px 4px 14px -3px rgba(0, 0, 0, 0.7);\n"]);return S=function(){return e},e}var T=function(){return(0,r.jsxs)(E,{children:[(0,r.jsx)(p.default,{children:(0,r.jsx)("title",{children:"Login | Whatsapp2.0"})}),(0,r.jsxs)(C,{children:[(0,r.jsx)(A,{src:"https://assets.stickpng.com/images/580b57fcd9996e24bc43c543.png"}),(0,r.jsxs)(d,{onClick:function(){m.I.signInWithPopup(m.A).catch(alert)},variant:"outlined",children:[(0,r.jsx)(v.default,{src:y,alt:"Google Icon",width:25,height:25}),(0,r.jsx)(x,{children:"SignIn with Google"})]})]})]})},E=g.ZP.div(b()),C=g.ZP.div(w()),x=g.ZP.span(k()),A=g.ZP.img(I());g.ZP.div(S())},8484:function(e,t,n){"use strict";n.r(t);var r=n(5893),i=(n(6774),n(3349)),o=n(6228),a=n(6967),s=n(3182),u=n(6493),c=n(7294);function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.default=function(e){var t=e.Component,n=e.pageProps,l=h((0,i.F_)(o.I),2),d=l[0],p=l[1];return(0,c.useEffect)((function(){d&&o.db.collection("users").doc(d.uid).set({email:d.email,lastSeen:u.Z.firestore.FieldValue.serverTimestamp(),photoURL:d.photoURL},{merge:!0})}),[d]),p?(0,r.jsx)(s.default,{}):d?(0,r.jsx)(t,function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){f(e,t,n[t])}))}return e}({},n)):(0,r.jsx)(a.default,{})}},6774:function(){},7663:function(e){!function(){var t={162:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&h())}function h(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new d(e,t)),1!==u.length||c||a(h)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(e){var i=n[e];if(void 0!==i)return i.exports;var o=n[e]={exports:{}},a=!0;try{t[e](o,o.exports,r),a=!1}finally{a&&delete n[e]}return o.exports}r.ab="//";var i=r(162);e.exports=i}()},9008:function(e,t,n){e.exports=n(3121)},5675:function(e,t,n){e.exports=n(9749)},2703:function(e,t,n){"use strict";var r=n(414);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},5697:function(e,t,n){e.exports=n(2703)()},414:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3349:function(e,t,n){"use strict";n.d(t,{F_:function(){return s}});var r=n(7294),i=function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i.apply(this,arguments)};var o=function(e){return{loading:void 0===e||null===e,value:e}},a=function(e){var t=e?e():void 0,n=(0,r.useReducer)((function(e,t){switch(t.type){case"error":return i({},e,{error:t.error,loading:!1,value:void 0});case"reset":return o(t.defaultValue);case"value":return i({},e,{error:void 0,loading:!1,value:t.value});default:return e}}),o(t)),a=n[0],s=n[1],u=function(){var t=e?e():void 0;s({type:"reset",defaultValue:t})},c=function(e){s({type:"error",error:e})},l=function(e){s({type:"value",value:e})};return(0,r.useMemo)((function(){return{error:a.error,loading:a.loading,reset:u,setError:c,setValue:l,value:a.value}}),[a.error,a.loading,u,c,l,a.value])},s=function(e){var t=a((function(){return e.currentUser})),n=t.error,i=t.loading,o=t.setError,s=t.setValue,u=t.value;(0,r.useEffect)((function(){var t=e.onAuthStateChanged(s,o);return function(){t()}}),[e]);var c=[u,i,n];return(0,r.useMemo)((function(){return c}),c)}},9921:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case v:case u:return e;default:return t}}case i:return t}}}function k(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=h,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=d,t.isAsyncMode=function(e){return k(e)||w(e)===l},t.isConcurrentMode=k,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===o},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===s},t.isStrictMode=function(e){return w(e)===a},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},9864:function(e,t,n){"use strict";e.exports=n(9921)},1032:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),u=0;u<o.length;u++){var c=o[u];if(!s(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}},2125:function(e,t,n){"use strict";n.d(t,{ZP:function(){return Re}});var r=n(9864),i=n(7294),o=n(1032),a=n.n(o);var s=function(e){function t(e,r,u,c,h){for(var d,p,v,g,b,k=0,I=0,S=0,T=0,E=0,N=0,D=v=d=0,L=0,j=0,F=0,U=0,q=u.length,B=q-1,V="",z="",W="",K="";L<q;){if(p=u.charCodeAt(L),L===B&&0!==I+T+S+k&&(0!==I&&(p=47===I?10:47),T=S=k=0,q++,B++),0===I+T+S+k){if(L===B&&(0<j&&(V=V.replace(f,"")),0<V.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:V+=u.charAt(L)}p=59}switch(p){case 123:for(d=(V=V.trim()).charCodeAt(0),v=1,U=++L;L<q;){switch(p=u.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(p=u.charCodeAt(L+1)){case 42:case 47:e:{for(D=L+1;D<B;++D)switch(u.charCodeAt(D)){case 47:if(42===p&&42===u.charCodeAt(D-1)&&L+2!==D){L=D+1;break e}break;case 10:if(47===p){L=D+1;break e}}L=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;L++<B&&u.charCodeAt(L)!==p;);}if(0===v)break;L++}if(v=u.substring(U,L),0===d&&(d=(V=V.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<j&&(V=V.replace(f,"")),p=V.charCodeAt(1)){case 100:case 109:case 115:case 45:j=r;break;default:j=O}if(U=(v=t(r,j,v,p,h+1)).length,0<R&&(b=s(3,v,j=n(O,V,F),r,x,C,U,p,h,c),V=j.join(""),void 0!==b&&0===(U=(v=b.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:V=V.replace(w,a);case 100:case 109:case 45:v=V+"{"+v+"}";break;case 107:v=(V=V.replace(m,"$1 $2"))+"{"+v+"}",v=1===P||2===P&&o("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=V+v,112===c&&(z+=v,v="")}else v=""}else v=t(r,n(r,V,F),v,c,h+1);W+=v,v=F=j=D=d=0,V="",p=u.charCodeAt(++L);break;case 125:case 59:if(1<(U=(V=(0<j?V.replace(f,""):V).trim()).length))switch(0===D&&(d=V.charCodeAt(0),45===d||96<d&&123>d)&&(U=(V=V.replace(" ",":")).length),0<R&&void 0!==(b=s(1,V,r,e,x,C,z.length,c,h,c))&&0===(U=(V=b.trim()).length)&&(V="\0\0"),d=V.charCodeAt(0),p=V.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){K+=V+u.charAt(L);break}default:58!==V.charCodeAt(U-1)&&(z+=i(V,d,p,V.charCodeAt(2)))}F=j=D=d=0,V="",p=u.charCodeAt(++L)}}switch(p){case 13:case 10:47===I?I=0:0===1+d&&107!==c&&0<V.length&&(j=1,V+="\0"),0<R*M&&s(0,V,r,e,x,C,z.length,c,h,c),C=1,x++;break;case 59:case 125:if(0===I+T+S+k){C++;break}default:switch(C++,g=u.charAt(L),p){case 9:case 32:if(0===T+k+I)switch(E){case 44:case 58:case 9:case 32:g="";break;default:32!==p&&(g=" ")}break;case 0:g="\\0";break;case 12:g="\\f";break;case 11:g="\\v";break;case 38:0===T+I+k&&(j=F=1,g="\f"+g);break;case 108:if(0===T+I+k+A&&0<D)switch(L-D){case 2:112===E&&58===u.charCodeAt(L-3)&&(A=E);case 8:111===N&&(A=N)}break;case 58:0===T+I+k&&(D=L);break;case 44:0===I+S+T+k&&(j=1,g+="\r");break;case 34:case 39:0===I&&(T=T===p?0:0===T?p:T);break;case 91:0===T+I+S&&k++;break;case 93:0===T+I+S&&k--;break;case 41:0===T+I+k&&S--;break;case 40:if(0===T+I+k){if(0===d)if(2*E+3*N===533);else d=1;S++}break;case 64:0===I+S+T+k+D+v&&(v=1);break;case 42:case 47:if(!(0<T+k+S))switch(I){case 0:switch(2*p+3*u.charCodeAt(L+1)){case 235:I=47;break;case 220:U=L,I=42}break;case 42:47===p&&42===E&&U+2!==L&&(33===u.charCodeAt(U+2)&&(z+=u.substring(U,L+1)),g="",I=0)}}0===I&&(V+=g)}N=E,E=p,L++}if(0<(U=z.length)){if(j=r,0<R&&(void 0!==(b=s(2,z,j,e,x,C,U,c,h,c))&&0===(z=b).length))return K+z+W;if(z=j.join(",")+"{"+z+"}",0!==P*A){switch(2!==P||o(z,2)||(A=0),A){case 111:z=z.replace(_,":-moz-$1")+z;break;case 112:z=z.replace(y,"::-webkit-input-$1")+z.replace(y,"::-moz-$1")+z.replace(y,":-ms-input-$1")+z}A=0}}return K+z+W}function n(e,t,n){var i=t.trim().split(v);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var u=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[u++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(g,"$1"+e.trim());case 58:return e.trim()+t.replace(g,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(g,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var u=a.substring(e,a.length-1).trim();return u=a.substring(0,e).trim()+u+";",1===P||2===P&&o(u,1)?"-webkit-"+u+u:u}if(0===P||2===P&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(E,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(u=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+u+a;case 1005:return d.test(a)?a.replace(h,":-webkit-")+a.replace(h,":-moz-")+a:a;case 1e3:switch(t=(u=a.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(t)){case 226:u=a.replace(b,"tb");break;case 232:u=a.replace(b,"tb-rl");break;case 220:u=a.replace(b,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+u+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(u=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:a=a.replace(u,"-webkit-"+u)+";"+a;break;case 207:case 102:a=a.replace(u,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(u,"-webkit-"+u)+";"+a.replace(u,"-ms-"+u+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return u=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+u+"-ms-flex-"+u+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(I,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(I,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===T.test(e))return 115===(u=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(u,"-webkit-"+u)+a.replace(u,"-moz-"+u.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(S,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(k," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,u,l){for(var f,h=0,d=t;h<R;++h)switch(f=N[h].call(c,e,d,n,r,i,o,a,s,u,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function u(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?P=1:(P=2,D=e):P=0),u}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<R){var i=s(-1,n,r,r,x,C,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var o=t(O,r,n,0,0);return 0<R&&(void 0!==(i=s(-2,o,r,r,x,C,o.length,0,0,0))&&(o=i)),"",A=0,C=x=1,o}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,g=/([\t\r\n ])*\f?&/g,m=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,_=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,k=/([\s\S]*?);/g,I=/-self|flex-/g,S=/[^]*?(:[rp][el]a[\w-]+)[^]*/,T=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,C=1,x=1,A=0,P=1,O=[],N=[],R=0,D=null,M=0;return c.use=function e(t){switch(t){case void 0:case null:R=N.length=0;break;default:if("function"===typeof t)N[R++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else M=0|!!t}return e},c.set=u,void 0!==e&&u(e),c},u={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var c=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,l=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){return c.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),f=n(8679),h=n.n(f),d=n(3454);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},g=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,r.typeOf)(e)},m=Object.freeze([]),y=Object.freeze({});function _(e){return"function"==typeof e}function b(e){return e.displayName||e.name||"Component"}function w(e){return e&&"string"==typeof e.styledComponentId}var k="undefined"!=typeof d&&(d.env.REACT_APP_SC_ATTR||d.env.SC_ATTR)||"data-styled",I="undefined"!=typeof window&&"HTMLElement"in window,S=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof d&&void 0!==d.env.REACT_APP_SC_DISABLE_SPEEDY&&""!==d.env.REACT_APP_SC_DISABLE_SPEEDY?"false"!==d.env.REACT_APP_SC_DISABLE_SPEEDY&&d.env.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof d&&void 0!==d.env.SC_DISABLE_SPEEDY&&""!==d.env.SC_DISABLE_SPEEDY&&("false"!==d.env.SC_DISABLE_SPEEDY&&d.env.SC_DISABLE_SPEEDY));function T(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var E=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&T(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var o=r;o<i;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),s=0,u=t.length;s<u;s++)this.tag.insertRule(a,t[s])&&(this.groupSizes[e]++,a++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,o=r;o<i;o++)t+=this.tag.getRule(o)+"/*!sc*/\n";return t},e}(),C=new Map,x=new Map,A=1,P=function(e){if(C.has(e))return C.get(e);for(;x.has(A);)A++;var t=A++;return C.set(e,t),x.set(t,e),t},O=function(e){return x.get(e)},N=function(e,t){t>=A&&(A=t+1),C.set(e,t),x.set(t,e)},R="style["+k+'][data-styled-version="5.3.5"]',D=new RegExp("^"+k+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),M=function(e,t,n){for(var r,i=n.split(","),o=0,a=i.length;o<a;o++)(r=i[o])&&e.registerName(t,r)},L=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,o=n.length;i<o;i++){var a=n[i].trim();if(a){var s=a.match(D);if(s){var u=0|parseInt(s[1],10),c=s[2];0!==u&&(N(c,u),M(e,c,s[3]),e.getTag().insertRules(u,r)),r.length=0}else r.push(a)}}},j=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},F=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(k))return r}}(n),o=void 0!==i?i.nextSibling:null;r.setAttribute(k,"active"),r.setAttribute("data-styled-version","5.3.5");var a=j();return a&&r.setAttribute("nonce",a),n.insertBefore(r,o),r},U=function(){function e(e){var t=this.element=F(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}T(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),q=function(){function e(e){var t=this.element=F(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),B=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),V=I,z={isServer:!I,useCSSOMInjection:!S},W=function(){function e(e,t,n){void 0===e&&(e=y),void 0===t&&(t={}),this.options=p({},z,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&I&&V&&(V=!1,function(e){for(var t=document.querySelectorAll(R),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(k)&&(L(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return P(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(p({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new B(i):r?new U(i):new q(i),new E(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(P(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(P(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(P(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var o=O(i);if(void 0!==o){var a=e.names.get(o),s=t.getGroup(i);if(a&&s&&a.size){var u=k+".g"+i+'[id="'+o+'"]',c="";void 0!==a&&a.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+s+u+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),K=/(a)(d)/gi,G=function(e){return String.fromCharCode(e+(e>25?39:97))};function H(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=G(t%52)+n;return(G(t%52)+n).replace(K,"$1-$2")}var Y=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},$=function(e){return Y(5381,e)};function X(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(_(n)&&!w(n))return!1}return!0}var Q=$("5.3.5"),Z=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&X(e),this.componentId=t,this.baseHash=Y(Q,t),this.baseStyle=n,W.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var o=ge(this.rules,e,t,n).join(""),a=H(Y(this.baseHash,o)>>>0);if(!t.hasNameForId(r,a)){var s=n(o,"."+a,void 0,r);t.insertRules(r,a,s)}i.push(a),this.staticRulesId=a}else{for(var u=this.rules.length,c=Y(this.baseHash,n.hash),l="",f=0;f<u;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=ge(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Y(c,p+f),l+=p}}if(l){var v=H(c>>>0);if(!t.hasNameForId(r,v)){var g=n(l,"."+v,void 0,r);t.insertRules(r,v,g)}i.push(v)}}return i.join(" ")},e}(),J=/^\s*\/\/.*$/gm,ee=[":","[",".","#"];function te(e){var t,n,r,i,o=void 0===e?y:e,a=o.options,u=void 0===a?y:a,c=o.plugins,l=void 0===c?m:c,f=new s(u),h=[],d=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,o,a,s,u,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){h.push(e)})),p=function(e,r,o){return 0===r&&-1!==ee.indexOf(o[n.length])||o.match(i)?e:"."+t};function v(e,o,a,s){void 0===s&&(s="&");var u=e.replace(J,""),c=o&&a?a+" "+o+" { "+u+" }":u;return t=s,n=o,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),f(a||!o?"":o,c)}return f.use([].concat(l,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,p))},d,function(e){if(-2===e){var t=h;return h=[],t}}])),v.hash=l.length?l.reduce((function(e,t){return t.name||T(15),Y(e,t.name)}),5381).toString():"",v}var ne=i.createContext(),re=(ne.Consumer,i.createContext()),ie=(re.Consumer,new W),oe=te();function ae(){return(0,i.useContext)(ne)||ie}function se(){return(0,i.useContext)(re)||oe}function ue(e){var t=(0,i.useState)(e.stylisPlugins),n=t[0],r=t[1],o=ae(),s=(0,i.useMemo)((function(){var t=o;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,i.useMemo)((function(){return te({options:{prefix:!e.disableVendorPrefixes},plugins:n})}),[e.disableVendorPrefixes,n]);return(0,i.useEffect)((function(){a()(n,e.stylisPlugins)||r(e.stylisPlugins)}),[e.stylisPlugins]),i.createElement(ne.Provider,{value:s},i.createElement(re.Provider,{value:u},e.children))}var ce=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=oe);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return T(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=oe),this.name+e.hash},e}(),le=/([A-Z])/,fe=/([A-Z])/g,he=/^ms-/,de=function(e){return"-"+e.toLowerCase()};function pe(e){return le.test(e)?e.replace(fe,de).replace(he,"-ms-"):e}var ve=function(e){return null==e||!1===e||""===e};function ge(e,t,n,r){if(Array.isArray(e)){for(var i,o=[],a=0,s=e.length;a<s;a+=1)""!==(i=ge(e[a],t,n,r))&&(Array.isArray(i)?o.push.apply(o,i):o.push(i));return o}return ve(e)?"":w(e)?"."+e.styledComponentId:_(e)?"function"!=typeof(c=e)||c.prototype&&c.prototype.isReactComponent||!t?e:ge(e(t),t,n,r):e instanceof ce?n?(e.inject(n,r),e.getName(r)):e:g(e)?function e(t,n){var r,i,o=[];for(var a in t)t.hasOwnProperty(a)&&!ve(t[a])&&(Array.isArray(t[a])&&t[a].isCss||_(t[a])?o.push(pe(a)+":",t[a],";"):g(t[a])?o.push.apply(o,e(t[a],a)):o.push(pe(a)+": "+(r=a,(null==(i=t[a])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in u?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(o,["}"]):o}(e):e.toString();var c}var me=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function ye(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return _(e)||g(e)?me(ge(v(m,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:me(ge(v(e,n)))}new Set;var _e=function(e,t,n){return void 0===n&&(n=y),e.theme!==n.theme&&e.theme||t||n.theme},be=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,we=/(^-|-$)/g;function ke(e){return e.replace(be,"-").replace(we,"")}var Ie=function(e){return H($(e)>>>0)};function Se(e){return"string"==typeof e&&!0}var Te=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},Ee=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function Ce(e,t,n){var r=e[n];Te(t)&&Te(r)?xe(r,t):e[n]=t}function xe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,o=n;i<o.length;i++){var a=o[i];if(Te(a))for(var s in a)Ee(s)&&Ce(e,a[s],s)}return e}var Ae=i.createContext();Ae.Consumer;var Pe={};function Oe(e,t,n){var r=w(e),o=!Se(e),a=t.attrs,s=void 0===a?m:a,u=t.componentId,c=void 0===u?function(e,t){var n="string"!=typeof e?"sc":ke(e);Pe[n]=(Pe[n]||0)+1;var r=n+"-"+Ie("5.3.5"+n+Pe[n]);return t?t+"-"+r:r}(t.displayName,t.parentComponentId):u,f=t.displayName,d=void 0===f?function(e){return Se(e)?"styled."+e:"Styled("+b(e)+")"}(e):f,v=t.displayName&&t.componentId?ke(t.displayName)+"-"+t.componentId:t.componentId||c,g=r&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,k=t.shouldForwardProp;r&&e.shouldForwardProp&&(k=t.shouldForwardProp?function(n,r,i){return e.shouldForwardProp(n,r,i)&&t.shouldForwardProp(n,r,i)}:e.shouldForwardProp);var I,S=new Z(n,v,r?e.componentStyle:void 0),T=S.isStatic&&0===s.length,E=function(e,t){return function(e,t,n,r){var o=e.attrs,a=e.componentStyle,s=e.defaultProps,u=e.foldedComponentIds,c=e.shouldForwardProp,f=e.styledComponentId,h=e.target,d=function(e,t,n){void 0===e&&(e=y);var r=p({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,o,a=e;for(t in _(a)&&(a=a(r)),a)r[t]=i[t]="className"===t?(n=i[t],o=a[t],n&&o?n+" "+o:n||o):a[t]})),[r,i]}(_e(t,(0,i.useContext)(Ae),s)||y,t,o),v=d[0],g=d[1],m=function(e,t,n,r){var i=ae(),o=se();return t?e.generateAndInjectStyles(y,i,o):e.generateAndInjectStyles(n,i,o)}(a,r,v),b=n,w=g.$as||t.$as||g.as||t.as||h,k=Se(w),I=g!==t?p({},t,{},g):t,S={};for(var T in I)"$"!==T[0]&&"as"!==T&&("forwardedAs"===T?S.as=I[T]:(c?c(T,l,w):!k||l(T))&&(S[T]=I[T]));return t.style&&g.style!==t.style&&(S.style=p({},t.style,{},g.style)),S.className=Array.prototype.concat(u,f,m!==f?m:null,t.className,g.className).filter(Boolean).join(" "),S.ref=b,(0,i.createElement)(w,S)}(I,e,t,T)};return E.displayName=d,(I=i.forwardRef(E)).attrs=g,I.componentStyle=S,I.displayName=d,I.shouldForwardProp=k,I.foldedComponentIds=r?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):m,I.styledComponentId=v,I.target=r?e.target:e,I.withComponent=function(e){var r=t.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["componentId"]),o=r&&r+"-"+(Se(e)?e:ke(b(e)));return Oe(e,p({},i,{attrs:g,componentId:o}),n)},Object.defineProperty(I,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=r?xe({},e.defaultProps,t):t}}),I.toString=function(){return"."+I.styledComponentId},o&&h()(I,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),I}var Ne=function(e){return function e(t,n,i){if(void 0===i&&(i=y),!(0,r.isValidElementType)(n))return T(1,String(n));var o=function(){return t(n,i,ye.apply(void 0,arguments))};return o.withConfig=function(r){return e(t,n,p({},i,{},r))},o.attrs=function(r){return e(t,n,p({},i,{attrs:Array.prototype.concat(i.attrs,r).filter(Boolean)}))},o}(Oe,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){Ne[e]=Ne(e)}));!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=X(e),W.registerId(this.componentId+1)}var t=e.prototype;t.createStyles=function(e,t,n,r){var i=r(ge(this.rules,t,n,r).join(""),""),o=this.componentId+e;n.insertRules(o,o,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&W.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)}}();!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=j();return"<style "+[n&&'nonce="'+n+'"',k+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?T(2):e._emitSheetCSS()},this.getStyleElement=function(){var t;if(e.sealed)return T(2);var n=((t={})[k]="",t["data-styled-version"]="5.3.5",t.dangerouslySetInnerHTML={__html:e.instance.toString()},t),r=j();return r&&(n.nonce=r),[i.createElement("style",p({},n,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new W({isServer:!0}),this.sealed=!1}var t=e.prototype;t.collectStyles=function(e){return this.sealed?T(2):i.createElement(ue,{sheet:this.instance},e)},t.interleaveWithNodeStream=function(e){return T(3)}}();var Re=Ne},655:function(e,t,n){"use strict";n.r(t),n.d(t,{__extends:function(){return i},__assign:function(){return o},__rest:function(){return a},__decorate:function(){return s},__param:function(){return u},__metadata:function(){return c},__awaiter:function(){return l},__generator:function(){return f},__createBinding:function(){return h},__exportStar:function(){return d},__values:function(){return p},__read:function(){return v},__spread:function(){return g},__spreadArrays:function(){return m},__spreadArray:function(){return y},__await:function(){return _},__asyncGenerator:function(){return b},__asyncDelegator:function(){return w},__asyncValues:function(){return k},__makeTemplateObject:function(){return I},__importStar:function(){return T},__importDefault:function(){return E},__classPrivateFieldGet:function(){return C},__classPrivateFieldSet:function(){return x},__classPrivateFieldIn:function(){return A}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function c(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function l(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}var h=Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function d(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||h(t,e,n)}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))}function _(e){return this instanceof _?(this.v=e,this):new _(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{!function(e){e.value instanceof _?Promise.resolve(e.value.v).then(u,c):l(o[0][2],e)}(i[e](t))}catch(n){l(o[0][3],n)}}function u(e){s("next",e)}function c(e){s("throw",e)}function l(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:_(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function k(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function I(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var S=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&h(t,e,n);return S(t,e),t}function E(e){return e&&e.__esModule?e:{default:e}}function C(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function x(e,t,n,r,i){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?i.call(e,n):i?i.value=n:t.set(e,n),n}function A(e,t){if(null===t||"object"!==typeof t&&"function"!==typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"===typeof e?t===e:e.has(t)}},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{Z:function(){return i}})},4942:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},7462:function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,{Z:function(){return r}})},4578:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,r.Z)(e,t)}},5987:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(3366);function i(e,t){if(null==e)return{};var n,i,o=(0,r.Z)(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)n=a[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}},3366:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n.d(t,{Z:function(){return r}})},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},1451:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(907);var i=n(181);function o(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||(0,i.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}}},function(e){var t=function(t){return e(e.s=t)};e.O(0,[774,179],(function(){return t(1780),t(880)}));var n=e.O();_N_E=n}]);