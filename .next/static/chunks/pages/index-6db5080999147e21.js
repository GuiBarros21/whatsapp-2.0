(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8581:function(n,r,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(4369)}])},8663:function(n,r,e){"use strict";e.d(r,{Z:function(){return X}});var t=e(5893),i=e(7812),o=e(7265),u=e(2125),l=e(8901),c=e(8995),a=e(2972),s=e(3999),f=e(3349),d=e(6677),h=e(6228),v=e(3410),m=e(880),p=e(9722);function y(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function b(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,i,o=[],u=!0,l=!1;try{for(e=e.call(n);!(u=(t=e.next()).done)&&(o.push(t.value),!r||o.length!==r);u=!0);}catch(c){l=!0,i=c}finally{try{u||null==e.return||e.return()}finally{if(l)throw i}}return o}}(n,r)||function(n,r){if(!n)return;if("string"===typeof n)return y(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return y(n,r)}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(n,r){return r||(r=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(r)}}))}function g(){var n=x(["\n  display: flex;\n  align-items: center;\n  cursor: pointer;\n  padding: 1.5rem;\n  word-break: break-word;\n  font-size: 1.35rem;\n  color: #495057;\n  border-bottom: 1px solid #e9ecef;\n  position: relative;\n\n  :hover {\n    background-color: #e9eaeb;\n\n    & > .ac {\n      display: flex;\n    }\n  }\n"]);return g=function(){return n},n}function j(){var n=x(["\n  margin: 0.5rem;\n  margin-right: 1.5rem;\n"]);return j=function(){return n},n}function w(){var n=x(["\n  position: absolute;\n  bottom: 0.5rem;\n  right: 0.8rem;\n  display: none;\n  height: 2.3rem;\n  width: 2.3rem;\n  background-color: #fff;\n  border-radius: 50%;\n  display: none;\n  justify-content: center;\n  align-items: center;\n"]);return w=function(){return n},n}var Z=function(n){var r,e,i=n.id,o=n.users,u=n.mh,l=(0,m.useRouter)(),c=[],a=Object.keys(u),s=b((0,f.F_)(h.I),1)[0],y=(0,v.Z)(o,s),x=h.db.collection("users").where("email","==",(0,v.Z)(o,s)),g=b((0,d.Kx)(x),1)[0],j=null===g||void 0===g||null===(r=g.docs)||void 0===r||null===(e=r[0])||void 0===e?void 0:e.data();return a.forEach((function(n){!1===u[n]&&c.push(n)})),(0,t.jsxs)(O,{onClick:function(){l.push("/chat/".concat(i))},style:c.includes(y)?k:S,children:[j?(0,t.jsx)(P,{src:null===j||void 0===j?void 0:j.photoURL}):(0,t.jsx)(P,{src:y[0]}),(0,t.jsx)("p",{children:y}),(0,t.jsx)(_,{className:"ac",children:(0,t.jsx)(p.Z,{style:{fontSize:25,opacity:"0.6"}})})]})},k={display:"none"},S={display:"flex"},O=u.ZP.div(g()),P=(0,u.ZP)(o.Z)(j()),_=u.ZP.div(w()),z=e(7537),A=e(7294);function I(n,r){(null==r||r>n.length)&&(r=n.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=n[e];return t}function C(n,r){return function(n){if(Array.isArray(n))return n}(n)||function(n,r){var e=null==n?null:"undefined"!==typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var t,i,o=[],u=!0,l=!1;try{for(e=e.call(n);!(u=(t=e.next()).done)&&(o.push(t.value),!r||o.length!==r);u=!0);}catch(c){l=!0,i=c}finally{try{u||null==e.return||e.return()}finally{if(l)throw i}}return o}}(n,r)||function(n,r){if(!n)return;if("string"===typeof n)return I(n,r);var e=Object.prototype.toString.call(n).slice(8,-1);"Object"===e&&n.constructor&&(e=n.constructor.name);if("Map"===e||"Set"===e)return Array.from(e);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return I(n,r)}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(n,r){return r||(r=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(r)}}))}function N(){var n=E(["\n  flex: 0.45;\n  border-right: 2.5px solid whitesmoke;\n  height: 100vh;\n  min-width: 30rem;\n  max-width: 40rem;\n  overflow-y: hidden;\n  position: relative;\n\n  ::-webkit-scrollbar {\n    display: none;\n  }\n\n  -ms-overflow-style: none;\n  scrollbar-width: none;\n"]);return N=function(){return n},n}function R(){var n=E(["\n  display: flex;\n  align-items: center;\n  padding: 1.4rem;\n  border-radius: 0.2rem;\n  background-color: #f1f3f5;\n"]);return R=function(){return n},n}function T(){var n=E(["\n  position: absolute;\n  bottom: 1.85rem;\n  right: 3.5rem;\n  border-radius: 50%;\n  width: 3rem;\n  height: 3rem;\n  border: none;\n  outline: none;\n  padding: 2.5rem;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  z-index: 100;\n"]);return T=function(){return n},n}function U(){var n=E(["\n  outline: none;\n  border: none;\n  flex: 1;\n  font-size: 1.5rem;\n  padding: 1rem;\n  border-radius: 1rem;\n"]);return U=function(){return n},n}function L(){var n=E(["\n  height: calc(100vh - 147.6px);\n  overflow-y: auto;\n  overflow-x: hidden;\n"]);return L=function(){return n},n}function F(){var n=E(["\n  display: flex;\n  position: sticky;\n  top: 0;\n  background-color: #fff;\n  z-index: 1;\n  justify-content: space-between;\n  align-items: center;\n  padding: 1.5rem;\n  height: 7rem;\n  border-bottom: 2.5px solid whitesmoke;\n"]);return F=function(){return n},n}function K(){var n=E([""]);return K=function(){return n},n}function M(){var n=E([""]);return M=function(){return n},n}var X=function(){var n=C((0,f.F_)(h.I),1)[0],r=(0,A.useState)(""),e=r[0],o=r[1],u=(0,m.useRouter)(),p={},y=h.db.collection("chats").where("users","array-contains",n.email),b=C((0,d.Kx)(y),1)[0],x=function(n){return!!(null===b||void 0===b?void 0:b.docs.find((function(r){var e;return(null===(e=r.data().users.find((function(r){return r===n})))||void 0===e?void 0:e.length)>0})))};return null===b||void 0===b||b.docs.map((function(r){p[(0,v.Z)(r.data().users,n)]=!0})),(0,t.jsxs)($,{children:[(0,t.jsxs)(B,{children:[(0,t.jsx)(H,{src:n.photoURL}),(0,t.jsxs)(J,{children:[(0,t.jsx)(i.Z,{onClick:function(){u.push("/")},children:(0,t.jsx)(l.Z,{style:{fontSize:25}})}),(0,t.jsx)(i.Z,{onClick:function(){h.I.signOut(),u.push("/")},children:(0,t.jsx)(a.Z,{style:{fontSize:25}})})]})]}),(0,t.jsxs)(D,{children:[(0,t.jsx)(c.Z,{style:{fontSize:22,marginRight:"1rem"}}),(0,t.jsx)(W,{placeholder:"Search for chats...",onInput:function(n){return function(n){var r=n.toLowerCase();for(var e in p)e.indexOf(r)>-1?(p[e]=!0,o(p)):(p[e]=!1,o(p))}(n.target.value)}})]}),(0,t.jsx)(q,{children:null===b||void 0===b?void 0:b.docs.map((function(n){return(0,t.jsx)(Z,{id:n.id,users:n.data().users,mh:e},n.id)}))}),(0,t.jsx)(G,{children:(0,t.jsx)(z.Z,{style:{fontSize:58,color:"#25D366"},onClick:function(){var r=prompt("Enter the gmail of the user to chat with: ");if(!r)return null;s.G(r)&&!x(r)&&r!==n.email&&h.db.collection("chats").add({users:[n.email,r]})}})})]})},$=u.ZP.div(N()),D=u.ZP.div(R()),G=u.ZP.button(T()),W=u.ZP.input(U()),q=u.ZP.div(L()),B=u.ZP.div(F()),H=(0,u.ZP)(o.Z)(K()),J=u.ZP.div(M())},4369:function(n,r,e){"use strict";e.r(r),e.d(r,{default:function(){return u}});var t=e(5893),i=e(9008),o=e(8663);e(5675);function u(){return(0,t.jsxs)("div",{children:[(0,t.jsxs)(i.default,{children:[(0,t.jsx)("title",{children:"Whatsapp 2.0"}),(0,t.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,t.jsx)(o.Z,{})]})}},3410:function(n,r){"use strict";r.Z=function(n,r){return null===n||void 0===n?void 0:n.filter((function(n){return n!==(null===r||void 0===r?void 0:r.email)}))[0]}}},function(n){n.O(0,[42,774,888,179],(function(){return r=8581,n(n.s=r);var r}));var r=n.O();_N_E=r}]);